/*! For license information please see main.13f6d78d.js.LICENSE.txt */
(()=>{"use strict";var e={144:(e,t,n)=>{var r=n(60),i=n(724);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),_=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),T=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var L,M=Object.assign;function F(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),s=r.stack.split("\n"),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(1!==a||1!==o)do{if(a--,0>--o||i[a]!==s[o]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function B(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case I:return"Fragment";case _:return"Portal";case E:return"Profiler";case S:return"StrictMode";case C:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case j:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function H(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function $(e,t){J(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function se(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,he=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function we(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,Ie=null,Se=null;function Ee(e){if(e=wi(e)){if("function"!==typeof _e)throw Error(s(280));var t=e.stateNode;t&&(t=xi(t),_e(e.stateNode,e.type,t))}}function ke(e){Ie?Se?Se.push(e):Se=[e]:Ie=e}function Te(){if(Ie){var e=Ie,t=Se;if(Se=Ie=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ne(e,t){return e(t)}function Ce(){}var Ae=!1;function je(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ne(e,t,n)}finally{Ae=!1,(null!==Ie||null!==Se)&&(Ce(),Te())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=xi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var De=!1;if(u)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){De=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(ue){De=!1}function Oe(e,t,n,r,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Le=!1,Me=null,Fe=!1,Ue=null,Ve={onError:function(e){Le=!0,Me=e}};function Be(e,t,n,r,i,s,a,o,l){Le=!1,Me=null,Oe.apply(Ve,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(ze(e)!==e)throw Error(s(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return We(i),e;if(a===r)return We(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var He=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Xe=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Je=i.unstable_now,$e=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~i;0!==o?r=ht(o):0!==(s&=a)&&(r=ht(s))}else 0!==(a=n&~i)?r=ht(a):0!==s&&(r=ht(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var wt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,_t,It,St,Et,kt=!1,Tt=[],Nt=null,Ct=null,At=null,jt=new Map,Pt=new Map,Dt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":jt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Lt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=wi(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=yi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Et(e.priority,(function(){It(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wi(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Vt(){kt=!1,null!==Nt&&Ft(Nt)&&(Nt=null),null!==Ct&&Ft(Ct)&&(Ct=null),null!==At&&Ft(At)&&(At=null),jt.forEach(Ut),Pt.forEach(Ut)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,kt||(kt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function zt(e){function t(t){return Bt(t,e)}if(0<Tt.length){Bt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Nt&&Bt(Nt,e),null!==Ct&&Bt(Ct,e),null!==At&&Bt(At,e),jt.forEach(t),Pt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Dt.shift()}var qt=b.ReactCurrentBatchConfig,Wt=!0;function Gt(e,t,n,r){var i=wt,s=qt.transition;qt.transition=null;try{wt=1,Ht(e,t,n,r)}finally{wt=i,qt.transition=s}}function Kt(e,t,n,r){var i=wt,s=qt.transition;qt.transition=null;try{wt=4,Ht(e,t,n,r)}finally{wt=i,qt.transition=s}}function Ht(e,t,n,r){if(Wt){var i=Xt(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),Ot(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Nt=Lt(Nt,e,t,n,r,i),!0;case"dragenter":return Ct=Lt(Ct,e,t,n,r,i),!0;case"mouseover":return At=Lt(At,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return jt.set(s,Lt(jt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Pt.set(s,Lt(Pt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ot(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==i;){var s=wi(i);if(null!==s&&xt(s),null===(s=Xt(e,t,n,r))&&Wr(e,t,r,Qt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function Xt(e,t,n,r){if(Qt=null,null!==(e=yi(e=xe(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,$t=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=$t,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),hn=M({},cn,{view:0,detail:0}),dn=sn(hn),fn=M({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=sn(fn),mn=sn(M({},fn,{dataTransfer:0})),gn=sn(M({},hn,{relatedTarget:0})),vn=sn(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=sn(yn),bn=sn(M({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},In={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=In[e])&&!!t[e]}function En(){return Sn}var kn=M({},hn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=sn(kn),Nn=sn(M({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=sn(M({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),An=sn(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),jn=M({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=sn(jn),Dn=[9,13,27,32],Rn=u&&"CompositionEvent"in window,On=null;u&&"documentMode"in document&&(On=document.documentMode);var Ln=u&&"TextEvent"in window&&!On,Mn=u&&(!Rn||On&&8<On&&11>=On),Fn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Gn(e,t,n,r){ke(r),0<(t=Kr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Hn=null;function Qn(e){Fr(e,0)}function Xn(e){if(H(bi(e)))return e}function Yn(e,t){if("change"===e)return t}var Jn=!1;if(u){var $n;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}$n=Zn}else $n=!1;Jn=$n&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Hn=Kn=null)}function nr(e){if("value"===e.propertyName&&Xn(Hn)){var t=[];Gn(t,Hn,e,xe(e)),je(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Hn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Hn)}function sr(e,t){if("click"===e)return Xn(t)}function ar(e,t){if("input"===e||"change"===e)return Xn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!or(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ur(n,s);var a=ur(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,wr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Kr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},Ir={},Sr={};function Er(e){if(Ir[e])return Ir[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return Ir[e]=n[t];return e}u&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var kr=Er("animationend"),Tr=Er("animationiteration"),Nr=Er("animationstart"),Cr=Er("transitionend"),Ar=new Map,jr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Ar.set(e,t),l(t,[e])}for(var Dr=0;Dr<jr.length;Dr++){var Rr=jr[Dr];Pr(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Pr(kr,"onAnimationEnd"),Pr(Tr,"onAnimationIteration"),Pr(Nr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Cr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,o,l,c){if(Be.apply(this,arguments),Le){if(!Le)throw Error(s(198));var u=Me;Le=!1,Me=null,Fe||(Fe=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;Mr(i,o,c),s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;Mr(i,o,c),s=l}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Br]){e[Br]=!0,a.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Yt(t)){case 1:var i=Gt;break;case 4:i=Kt;break;default:i=Ht}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=yi(o)))return;if(5===(l=a.tag)||6===l){r=s=a;continue e}o=o.parentNode}}r=r.return}je((function(){var r=s,i=xe(n),a=[];e:{var o=Ar.get(e);if(void 0!==o){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Tn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Cn;break;case kr:case Tr:case Nr:l=vn;break;case Cr:l=An;break;case"scroll":l=dn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Nn}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==o?o+"Capture":null:o;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Pe(p,d))&&u.push(Gr(p,m,f)))),h)break;p=p.return}0<u.length&&(o=new l(o,c,null,n,i),a.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(h=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Nn,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?o:bi(l),f=null==c?o:bi(c),(o=new u(m,p+"leave",l,n,i)).target=h,o.relatedTarget=f,m=null,yi(i)===r&&((u=new u(d,p+"enter",c,n,i)).target=f,u.relatedTarget=h,m=u),h=m,l&&c)e:{for(d=c,p=0,f=u=l;f;f=Hr(f))p++;for(f=0,m=d;m;m=Hr(m))f++;for(;0<p-f;)u=Hr(u),p--;for(;0<f-p;)d=Hr(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=Hr(u),d=Hr(d)}u=null}else u=null;null!==l&&Qr(a,o,l,u,!1),null!==c&&null!==h&&Qr(a,h,c,u,!0)}if("select"===(l=(o=r?bi(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Yn;else if(Wn(o))if(Jn)g=ar;else{g=ir;var v=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=sr);switch(g&&(g=g(e,r))?Gn(a,g,n,i):(v&&v(e,o,r),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=r?bi(r):window,e){case"focusin":(Wn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,br(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":br(a,n,i)}var y;if(Rn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else zn?Vn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Mn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==w?"onCompositionEnd"===w&&zn&&(y=en()):($t="value"in(Jt=i)?Jt.value:Jt.textContent,zn=!0)),0<(v=Kr(r,w)).length&&(w=new bn(w,e,null,n,i),a.push({event:w,listeners:v}),y?w.data=y:null!==(y=Bn(n))&&(w.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Rn&&Vn(e,t)?(e=en(),Zt=$t=Jt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Fr(a,t)}))}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Pe(e,n))&&r.unshift(Gr(e,s,i)),null!=(s=Pe(e,t))&&r.push(Gr(e,s,i))),e=e.return}return r}function Hr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,i?null!=(l=Pe(n,s))&&a.unshift(Gr(n,l,o)):i||null!=(l=Pe(n,s))&&a.push(Gr(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Xr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Xr,"\n").replace(Yr,"")}function $r(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(oi)}:ri;function oi(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,mi="__reactEvents$"+hi,gi="__reactListeners$"+hi,vi="__reactHandles$"+hi;function yi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[di])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function wi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function xi(e){return e[fi]||null}var _i=[],Ii=-1;function Si(e){return{current:e}}function Ei(e){0>Ii||(e.current=_i[Ii],_i[Ii]=null,Ii--)}function ki(e,t){Ii++,_i[Ii]=e.current,e.current=t}var Ti={},Ni=Si(Ti),Ci=Si(!1),Ai=Ti;function ji(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){Ei(Ci),Ei(Ni)}function Ri(e,t,n){if(Ni.current!==Ti)throw Error(s(168));ki(Ni,t),ki(Ci,n)}function Oi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,q(e)||"Unknown",i));return M({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ai=Ni.current,ki(Ni,e),ki(Ci,Ci.current),!0}function Mi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Oi(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Ei(Ci),Ei(Ni),ki(Ni,e)):Ei(Ci),ki(Ci,n)}var Fi=null,Ui=!1,Vi=!1;function Bi(e){null===Fi?Fi=[e]:Fi.push(e)}function zi(){if(!Vi&&null!==Fi){Vi=!0;var e=0,t=wt;try{var n=Fi;for(wt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),He(Ze,zi),i}finally{wt=t,Vi=!1}}return null}var qi=[],Wi=0,Gi=null,Ki=0,Hi=[],Qi=0,Xi=null,Yi=1,Ji="";function $i(e,t){qi[Wi++]=Ki,qi[Wi++]=Gi,Gi=e,Ki=t}function Zi(e,t,n){Hi[Qi++]=Yi,Hi[Qi++]=Ji,Hi[Qi++]=Xi,Xi=e;var r=Yi;e=Ji;var i=32-at(r)-1;r&=~(1<<i),n+=1;var s=32-at(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Yi=1<<32-at(t)+i|n<<i|r,Ji=s+e}else Yi=1<<s|n<<i|r,Ji=e}function es(e){null!==e.return&&($i(e,1),Zi(e,1,0))}function ts(e){for(;e===Gi;)Gi=qi[--Wi],qi[Wi]=null,Ki=qi[--Wi],qi[Wi]=null;for(;e===Xi;)Xi=Hi[--Qi],Hi[Qi]=null,Ji=Hi[--Qi],Hi[Qi]=null,Yi=Hi[--Qi],Hi[Qi]=null}var ns=null,rs=null,is=!1,ss=null;function as(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function os(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Xi?{id:Yi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(is){var t=rs;if(t){var n=t;if(!os(e,t)){if(ls(e))throw Error(s(418));t=ci(n.nextSibling);var r=ns;t&&os(e,t)?as(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function hs(e){if(e!==ns)return!1;if(!is)return us(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw ds(),Error(s(418));for(;t;)as(e,t),t=ci(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ci(e.stateNode.nextSibling):null;return!0}function ds(){for(var e=rs;e;)e=ci(e.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=b.ReactCurrentBatchConfig;function gs(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var vs=Si(null),ys=null,ws=null,bs=null;function xs(){bs=ws=ys=null}function _s(e){var t=vs.current;Ei(vs),e._currentValue=t}function Is(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ss(e,t){ys=e,bs=ws=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bo=!0),e.firstContext=null)}function Es(e){var t=e._currentValue;if(bs!==e)if(e={context:e,memoizedValue:t,next:null},null===ws){if(null===ys)throw Error(s(308));ws=e,ys.dependencies={lanes:0,firstContext:e}}else ws=ws.next=e;return t}var ks=null;function Ts(e){null===ks?ks=[e]:ks.push(e)}function Ns(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ts(t)):(n.next=i.next,i.next=n),t.interleaved=n,Cs(e,r)}function Cs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var As=!1;function js(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ps(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ds(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Rs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Cs(e,n)}return null===(i=r.interleaved)?(t.next=t,Ts(r)):(t.next=i.next,i.next=t),r.interleaved=t,Cs(e,n)}function Os(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ls(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ms(e,t,n,r){var i=e.updateQueue;As=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(a=0,u=c=l=null,o=s;;){var d=o.lane,f=o.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(d=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=M({},h,d);break e;case 2:As=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[o]:d.push(o))}else f={eventTime:f,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,a|=d;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(d=o).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Ml|=a,e.lanes=a,e.memoizedState=h}}function Fs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Us=(new r.Component).refs;function Vs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Bs={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),s=Ds(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Rs(e,s,i))&&(rc(t,e,i,r),Os(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),s=Ds(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Rs(e,s,i))&&(rc(t,e,i,r),Os(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Ds(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Rs(e,i,r))&&(rc(t,e,r,n),Os(t,e,r))}};function zs(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function qs(e,t,n){var r=!1,i=Ti,s=t.contextType;return"object"===typeof s&&null!==s?s=Es(s):(i=Pi(t)?Ai:Ni.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?ji(e,i):Ti),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Bs,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Ws(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Bs.enqueueReplaceState(t,t.state,null)}function Gs(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Us,js(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=Es(s):(s=Pi(t)?Ai:Ni.current,i.context=ji(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(Vs(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Bs.enqueueReplaceState(i,i.state,null),Ms(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ks(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===Us&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Hs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qs(e){return(0,e._init)(e._payload)}function Xs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===I?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===P&&Qs(s)===t.type)?((r=i(t,n.props)).ref=Ks(e,t,n),r.return=e,r):((r=Oc(n.type,n.key,n.props,null,e.mode,r)).ref=Ks(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Oc(t.type,t.key,t.props,null,e.mode,n)).ref=Ks(e,null,t),n.return=e,n;case _:return(t=Uc(t,e.mode,n)).return=e,t;case P:return d(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Hs(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?c(e,t,n,r):null;case _:return n.key===i?u(e,t,n,r):null;case P:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||O(n))return null!==i?null:h(e,t,n,r,null);Hs(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||O(r))return h(t,e=e.get(n)||null,r,i,null);Hs(t,r)}return null}function m(i,s,o,l){for(var c=null,u=null,h=s,m=s=0,g=null;null!==h&&m<o.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=f(i,h,o[m],l);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(i,h),s=a(v,s,m),null===u?c=v:u.sibling=v,u=v,h=g}if(m===o.length)return n(i,h),is&&$i(i,m),c;if(null===h){for(;m<o.length;m++)null!==(h=d(i,o[m],l))&&(s=a(h,s,m),null===u?c=h:u.sibling=h,u=h);return is&&$i(i,m),c}for(h=r(i,h);m<o.length;m++)null!==(g=p(h,i,m,o[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=a(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&h.forEach((function(e){return t(i,e)})),is&&$i(i,m),c}function g(i,o,l,c){var u=O(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var h=u=null,m=o,g=o=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var w=f(i,m,y.value,c);if(null===w){null===m&&(m=v);break}e&&m&&null===w.alternate&&t(i,m),o=a(w,o,g),null===h?u=w:h.sibling=w,h=w,m=v}if(y.done)return n(i,m),is&&$i(i,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=d(i,y.value,c))&&(o=a(y,o,g),null===h?u=y:h.sibling=y,h=y);return is&&$i(i,g),u}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),o=a(y,o,g),null===h?u=y:h.sibling=y,h=y);return e&&m.forEach((function(e){return t(i,e)})),is&&$i(i,g),u}return function e(r,s,a,l){if("object"===typeof a&&null!==a&&a.type===I&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case x:e:{for(var c=a.key,u=s;null!==u;){if(u.key===c){if((c=a.type)===I){if(7===u.tag){n(r,u.sibling),(s=i(u,a.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&Qs(c)===u.type){n(r,u.sibling),(s=i(u,a.props)).ref=Ks(r,u,a),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===I?((s=Lc(a.props.children,r.mode,l,a.key)).return=r,r=s):((l=Oc(a.type,a.key,a.props,null,r.mode,l)).ref=Ks(r,s,a),l.return=r,r=l)}return o(r);case _:e:{for(u=a.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===a.containerInfo&&s.stateNode.implementation===a.implementation){n(r,s.sibling),(s=i(s,a.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Uc(a,r.mode,l)).return=r,r=s}return o(r);case P:return e(r,s,(u=a._init)(a._payload),l)}if(te(a))return m(r,s,a,l);if(O(a))return g(r,s,a,l);Hs(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,a)).return=r,r=s):(n(r,s),(s=Fc(a,r.mode,l)).return=r,r=s),o(r)):n(r,s)}}var Ys=Xs(!0),Js=Xs(!1),$s={},Zs=Si($s),ea=Si($s),ta=Si($s);function na(e){if(e===$s)throw Error(s(174));return e}function ra(e,t){switch(ki(ta,t),ki(ea,e),ki(Zs,$s),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(Zs),ki(Zs,t)}function ia(){Ei(Zs),Ei(ea),Ei(ta)}function sa(e){na(ta.current);var t=na(Zs.current),n=le(t,e.type);t!==n&&(ki(ea,e),ki(Zs,n))}function aa(e){ea.current===e&&(Ei(Zs),Ei(ea))}var oa=Si(0);function la(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ca=[];function ua(){for(var e=0;e<ca.length;e++)ca[e]._workInProgressVersionPrimary=null;ca.length=0}var ha=b.ReactCurrentDispatcher,da=b.ReactCurrentBatchConfig,fa=0,pa=null,ma=null,ga=null,va=!1,ya=!1,wa=0,ba=0;function xa(){throw Error(s(321))}function _a(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function Ia(e,t,n,r,i,a){if(fa=a,pa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ha.current=null===e||null===e.memoizedState?ao:oo,e=n(r,i),ya){a=0;do{if(ya=!1,wa=0,25<=a)throw Error(s(301));a+=1,ga=ma=null,t.updateQueue=null,ha.current=lo,e=n(r,i)}while(ya)}if(ha.current=so,t=null!==ma&&null!==ma.next,fa=0,ga=ma=pa=null,va=!1,t)throw Error(s(300));return e}function Sa(){var e=0!==wa;return wa=0,e}function Ea(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ga?pa.memoizedState=ga=e:ga=ga.next=e,ga}function ka(){if(null===ma){var e=pa.alternate;e=null!==e?e.memoizedState:null}else e=ma.next;var t=null===ga?pa.memoizedState:ga.next;if(null!==t)ga=t,ma=e;else{if(null===e)throw Error(s(310));e={memoizedState:(ma=e).memoizedState,baseState:ma.baseState,baseQueue:ma.baseQueue,queue:ma.queue,next:null},null===ga?pa.memoizedState=ga=e:ga=ga.next=e}return ga}function Ta(e,t){return"function"===typeof t?t(e):t}function Na(e){var t=ka(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=ma,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=o=null,c=null,u=a;do{var h=u.lane;if((fa&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,o=r):c=c.next=d,pa.lanes|=h,Ml|=h}u=u.next}while(null!==u&&u!==a);null===c?o=r:c.next=l,or(r,t.memoizedState)||(bo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,pa.lanes|=a,Ml|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ca(e){var t=ka(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);or(a,t.memoizedState)||(bo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Aa(){}function ja(e,t){var n=pa,r=ka(),i=t(),a=!or(r.memoizedState,i);if(a&&(r.memoizedState=i,bo=!0),r=r.queue,qa(Ra.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ga&&1&ga.memoizedState.tag){if(n.flags|=2048,Fa(9,Da.bind(null,n,r,i,t),void 0,null),null===Al)throw Error(s(349));0!==(30&fa)||Pa(n,t,i)}return i}function Pa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=pa.updateQueue)?(t={lastEffect:null,stores:null},pa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Da(e,t,n,r){t.value=n,t.getSnapshot=r,Oa(t)&&La(e)}function Ra(e,t,n){return n((function(){Oa(t)&&La(e)}))}function Oa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function La(e){var t=Cs(e,1);null!==t&&rc(t,e,1,-1)}function Ma(e){var t=Ea();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:e},t.queue=e,e=e.dispatch=to.bind(null,pa,e),[t.memoizedState,e]}function Fa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=pa.updateQueue)?(t={lastEffect:null,stores:null},pa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ua(){return ka().memoizedState}function Va(e,t,n,r){var i=Ea();pa.flags|=e,i.memoizedState=Fa(1|t,n,void 0,void 0===r?null:r)}function Ba(e,t,n,r){var i=ka();r=void 0===r?null:r;var s=void 0;if(null!==ma){var a=ma.memoizedState;if(s=a.destroy,null!==r&&_a(r,a.deps))return void(i.memoizedState=Fa(t,n,s,r))}pa.flags|=e,i.memoizedState=Fa(1|t,n,s,r)}function za(e,t){return Va(8390656,8,e,t)}function qa(e,t){return Ba(2048,8,e,t)}function Wa(e,t){return Ba(4,2,e,t)}function Ga(e,t){return Ba(4,4,e,t)}function Ka(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ha(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ba(4,4,Ka.bind(null,t,e),n)}function Qa(){}function Xa(e,t){var n=ka();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_a(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ya(e,t){var n=ka();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_a(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ja(e,t,n){return 0===(21&fa)?(e.baseState&&(e.baseState=!1,bo=!0),e.memoizedState=n):(or(n,t)||(n=mt(),pa.lanes|=n,Ml|=n,e.baseState=!0),t)}function $a(e,t){var n=wt;wt=0!==n&&4>n?n:4,e(!0);var r=da.transition;da.transition={};try{e(!1),t()}finally{wt=n,da.transition=r}}function Za(){return ka().memoizedState}function eo(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},no(e))ro(t,n);else if(null!==(n=Ns(e,t,n,r))){rc(n,e,r,tc()),io(n,t,r)}}function to(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(no(e))ro(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,or(o,a)){var l=t.interleaved;return null===l?(i.next=i,Ts(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ns(e,t,i,r))&&(rc(n,e,r,i=tc()),io(n,t,r))}}function no(e){var t=e.alternate;return e===pa||null!==t&&t===pa}function ro(e,t){ya=va=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function io(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var so={readContext:Es,useCallback:xa,useContext:xa,useEffect:xa,useImperativeHandle:xa,useInsertionEffect:xa,useLayoutEffect:xa,useMemo:xa,useReducer:xa,useRef:xa,useState:xa,useDebugValue:xa,useDeferredValue:xa,useTransition:xa,useMutableSource:xa,useSyncExternalStore:xa,useId:xa,unstable_isNewReconciler:!1},ao={readContext:Es,useCallback:function(e,t){return Ea().memoizedState=[e,void 0===t?null:t],e},useContext:Es,useEffect:za,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Va(4194308,4,Ka.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Va(4194308,4,e,t)},useInsertionEffect:function(e,t){return Va(4,2,e,t)},useMemo:function(e,t){var n=Ea();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ea();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=eo.bind(null,pa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ea().memoizedState=e},useState:Ma,useDebugValue:Qa,useDeferredValue:function(e){return Ea().memoizedState=e},useTransition:function(){var e=Ma(!1),t=e[0];return e=$a.bind(null,e[1]),Ea().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=pa,i=Ea();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Al)throw Error(s(349));0!==(30&fa)||Pa(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,za(Ra.bind(null,r,a,e),[e]),r.flags|=2048,Fa(9,Da.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ea(),t=Al.identifierPrefix;if(is){var n=Ji;t=":"+t+"R"+(n=(Yi&~(1<<32-at(Yi)-1)).toString(32)+n),0<(n=wa++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ba++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},oo={readContext:Es,useCallback:Xa,useContext:Es,useEffect:qa,useImperativeHandle:Ha,useInsertionEffect:Wa,useLayoutEffect:Ga,useMemo:Ya,useReducer:Na,useRef:Ua,useState:function(){return Na(Ta)},useDebugValue:Qa,useDeferredValue:function(e){return Ja(ka(),ma.memoizedState,e)},useTransition:function(){return[Na(Ta)[0],ka().memoizedState]},useMutableSource:Aa,useSyncExternalStore:ja,useId:Za,unstable_isNewReconciler:!1},lo={readContext:Es,useCallback:Xa,useContext:Es,useEffect:qa,useImperativeHandle:Ha,useInsertionEffect:Wa,useLayoutEffect:Ga,useMemo:Ya,useReducer:Ca,useRef:Ua,useState:function(){return Ca(Ta)},useDebugValue:Qa,useDeferredValue:function(e){var t=ka();return null===ma?t.memoizedState=e:Ja(t,ma.memoizedState,e)},useTransition:function(){return[Ca(Ta)[0],ka().memoizedState]},useMutableSource:Aa,useSyncExternalStore:ja,useId:Za,unstable_isNewReconciler:!1};function co(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function uo(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ho(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fo="function"===typeof WeakMap?WeakMap:Map;function po(e,t,n){(n=Ds(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gl||(Gl=!0,Kl=r),ho(0,t)},n}function mo(e,t,n){(n=Ds(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ho(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){ho(0,t),"function"!==typeof r&&(null===Hl?Hl=new Set([this]):Hl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function go(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fo;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=kc.bind(null,e,t,n),t.then(e,e))}function vo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function yo(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ds(-1,1)).tag=2,Rs(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var wo=b.ReactCurrentOwner,bo=!1;function xo(e,t,n,r){t.child=null===e?Js(t,null,n,r):Ys(t,e.child,n,r)}function _o(e,t,n,r,i){n=n.render;var s=t.ref;return Ss(t,i),r=Ia(e,t,n,r,s,i),n=Sa(),null===e||bo?(is&&n&&es(t),t.flags|=1,xo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Go(e,t,i))}function Io(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Dc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Oc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,So(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Go(e,t,i)}return t.flags|=1,(e=Rc(s,r)).ref=t.ref,e.return=t,t.child=e}function So(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(bo=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Go(e,t,i);0!==(131072&e.flags)&&(bo=!0)}}return To(e,t,n,r,i)}function Eo(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ki(Rl,Dl),Dl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ki(Rl,Dl),Dl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,ki(Rl,Dl),Dl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,ki(Rl,Dl),Dl|=r;return xo(e,t,i,n),t.child}function ko(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function To(e,t,n,r,i){var s=Pi(n)?Ai:Ni.current;return s=ji(t,s),Ss(t,i),n=Ia(e,t,n,r,s,i),r=Sa(),null===e||bo?(is&&r&&es(t),t.flags|=1,xo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Go(e,t,i))}function No(e,t,n,r,i){if(Pi(n)){var s=!0;Li(t)}else s=!1;if(Ss(t,i),null===t.stateNode)Wo(e,t),qs(t,n,r),Gs(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Es(c):c=ji(t,c=Pi(n)?Ai:Ni.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||l!==c)&&Ws(t,a,r,c),As=!1;var d=t.memoizedState;a.state=d,Ms(t,r,a,i),l=t.memoizedState,o!==r||d!==l||Ci.current||As?("function"===typeof u&&(Vs(t,n,u,r),l=t.memoizedState),(o=As||zs(t,n,o,r,d,l,c))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Ps(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:gs(t.type,o),a.props=c,h=t.pendingProps,d=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Es(l):l=ji(t,l=Pi(n)?Ai:Ni.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==h||d!==l)&&Ws(t,a,r,l),As=!1,d=t.memoizedState,a.state=d,Ms(t,r,a,i);var p=t.memoizedState;o!==h||d!==p||Ci.current||As?("function"===typeof f&&(Vs(t,n,f,r),p=t.memoizedState),(c=As||zs(t,n,c,r,d,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Co(e,t,n,r,s,i)}function Co(e,t,n,r,i,s){ko(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Mi(t,n,!1),Go(e,t,s);r=t.stateNode,wo.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Ys(t,e.child,null,s),t.child=Ys(t,null,o,s)):xo(e,t,o,s),t.memoizedState=r.state,i&&Mi(t,n,!0),t.child}function Ao(e){var t=e.stateNode;t.pendingContext?Ri(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ri(0,t.context,!1),ra(e,t.containerInfo)}function jo(e,t,n,r,i){return fs(),ps(i),t.flags|=256,xo(e,t,n,r),t.child}var Po,Do,Ro,Oo,Lo={dehydrated:null,treeContext:null,retryLane:0};function Mo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fo(e,t,n){var r,i=t.pendingProps,a=oa.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),ki(oa,1&a),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,o?(i=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Mc(l,i,0,null),e=Lc(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Mo(n),t.memoizedState=Lo,e):Uo(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,o){if(n)return 256&t.flags?(t.flags&=-257,Vo(e,t,o,r=uo(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(a=Lc(a,i,o,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Ys(t,e.child,null,o),t.child.memoizedState=Mo(o),t.memoizedState=Lo,a);if(0===(1&t.mode))return Vo(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Vo(e,t,o,r=uo(a=Error(s(419)),r,void 0))}if(l=0!==(o&e.childLanes),bo||l){if(null!==(r=Al)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|o))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Cs(e,i),rc(r,e,i,-1))}return gc(),Vo(e,t,o,r=uo(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Nc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,rs=ci(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Hi[Qi++]=Yi,Hi[Qi++]=Ji,Hi[Qi++]=Xi,Yi=e.id,Ji=e.overflow,Xi=t),t=Uo(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(o){o=i.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Rc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?o=Rc(r,o):(o=Lc(o,l,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,l=null===(l=e.child.memoizedState)?Mo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Lo,i}return e=(o=e.child).sibling,i=Rc(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Uo(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vo(e,t,n,r){return null!==r&&ps(r),Ys(t,e.child,null,n),(e=Uo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Is(e.return,t,n)}function zo(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function qo(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(xo(e,t,r.children,n),0!==(2&(r=oa.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bo(e,n,t);else if(19===e.tag)Bo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ki(oa,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===la(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zo(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===la(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zo(t,!0,n,null,s);break;case"together":zo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Go(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ml|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ko(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ho(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qo(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ho(t),null;case 1:case 17:return Pi(t.type)&&Di(),Ho(t),null;case 3:return r=t.stateNode,ia(),Ei(Ci),Ei(Ni),ua(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hs(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(oc(ss),ss=null))),Do(e,t),Ho(t),null;case 5:aa(t);var i=na(ta.current);if(n=t.type,null!==e&&null!=t.stateNode)Ro(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Ho(t),null}if(e=na(Zs.current),hs(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[di]=t,r[fi]=a,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Or.length;i++)Ur(Or[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Y(r,a),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ur("invalid",r);break;case"textarea":ie(r,a),Ur("invalid",r)}for(var l in ye(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":K(r),Z(r,a,!0);break;case"textarea":K(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[di]=t,e[fi]=r,Po(e,t,!1,!1),t.stateNode=e;e:{switch(l=we(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Or.length;i++)Ur(Or[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":Y(e,r),i=X(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(a in ye(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Ur("scroll",e):null!=u&&w(e,a,u,l))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ho(t),null;case 6:if(e&&null!=t.stateNode)Oo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=na(ta.current),na(Zs.current),hs(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(a=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:$r(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$r(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Ho(t),null;case 13:if(Ei(oa),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))ds(),fs(),t.flags|=98560,a=!1;else if(a=hs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(s(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(s(317));a[di]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ho(t),a=!1}else null!==ss&&(oc(ss),ss=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&oa.current)?0===Ol&&(Ol=3):gc())),null!==t.updateQueue&&(t.flags|=4),Ho(t),null);case 4:return ia(),Do(e,t),null===e&&zr(t.stateNode.containerInfo),Ho(t),null;case 10:return _s(t.type._context),Ho(t),null;case 19:if(Ei(oa),null===(a=t.memoizedState))return Ho(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Ko(a,!1);else{if(0!==Ol||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=la(e))){for(t.flags|=128,Ko(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ki(oa,1&oa.current|2),t.child}e=e.sibling}null!==a.tail&&Je()>ql&&(t.flags|=128,r=!0,Ko(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=la(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ko(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!is)return Ho(t),null}else 2*Je()-a.renderingStartTime>ql&&1073741824!==n&&(t.flags|=128,r=!0,Ko(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Je(),t.sibling=null,n=oa.current,ki(oa,r?1&n|2:1&n),t):(Ho(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Dl)&&(Ho(t),6&t.subtreeFlags&&(t.flags|=8192)):Ho(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Xo(e,t){switch(ts(t),t.tag){case 1:return Pi(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ia(),Ei(Ci),Ei(Ni),ua(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return aa(t),null;case 13:if(Ei(oa),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(oa),null;case 4:return ia(),null;case 10:return _s(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Po=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Do=function(){},Ro=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,na(Zs.current);var s,a=null;switch(n){case"input":i=X(e,i),r=X(e,r),a=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Ur("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Oo=function(e,t,n,r){n!==r&&(t.flags|=4)};var Yo=!1,Jo=!1,$o="function"===typeof WeakSet?WeakSet:Set,Zo=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&tl(t,n,s)}i=i.next}while(i!==r)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[fi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var hl=null,dl=!1;function fl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(o){}switch(n.tag){case 5:Jo||el(n,t);case 6:var r=hl,i=dl;hl=null,fl(e,t,n),dl=i,null!==(hl=r)&&(dl?(e=hl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):hl.removeChild(n.stateNode));break;case 18:null!==hl&&(dl?(e=hl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),zt(e)):li(hl,n.stateNode));break;case 4:r=hl,i=dl,hl=n.stateNode.containerInfo,dl=!0,fl(e,t,n),hl=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Jo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,void 0!==a&&(0!==(2&s)||0!==(4&s))&&tl(n,t,a),i=i.next}while(i!==r)}fl(e,t,n);break;case 1:if(!Jo&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Ec(n,t,o)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Jo=(r=Jo)||null!==n.memoizedState,fl(e,t,n),Jo=r):fl(e,t,n);break;default:fl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $o),t.forEach((function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:hl=l.stateNode,dl=!1;break e;case 3:case 4:hl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===hl)throw Error(s(160));pl(a,o,i),hl=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Ec(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),yl(e),4&r){try{rl(3,e,e.return),il(3,e)}catch(g){Ec(e,e.return,g)}try{rl(5,e,e.return)}catch(g){Ec(e,e.return,g)}}break;case 1:gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(g){Ec(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&J(i,a),we(l,o);var u=we(l,a);for(o=0;o<c.length;o+=2){var h=c[o],d=c[o+1];"style"===h?ge(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):w(i,h,d,u)}switch(l){case"input":$(i,a);break;case"textarea":se(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[fi]=a}catch(g){Ec(e,e.return,g)}}break;case 6:if(gl(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Ec(e,e.return,g)}}break;case 3:if(gl(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(g){Ec(e,e.return,g)}break;case 4:default:gl(t,e),yl(e);break;case 13:gl(t,e),yl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(zl=Je())),4&r&&ml(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Jo=(u=Jo)||h,gl(t,e),Jo=u):gl(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!==(1&e.mode))for(Zo=e,h=e.child;null!==h;){for(d=Zo=h;null!==Zo;){switch(p=(f=Zo).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:el(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Ec(r,n,g)}}break;case 5:el(f,f.return);break;case 22:if(null!==f.memoizedState){_l(d);continue}}null!==p?(p.return=f,Zo=p):_l(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=d.stateNode,o=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",o))}catch(g){Ec(e,e.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){Ec(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:gl(t,e),yl(e),4&r&&ml(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),ul(e,ll(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;cl(e,ll(e),a);break;default:throw Error(s(161))}}catch(o){Ec(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function wl(e,t,n){Zo=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Zo;){var i=Zo,s=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Yo;if(!a){var o=i.alternate,l=null!==o&&null!==o.memoizedState||Jo;o=Yo;var c=Jo;if(Yo=a,(Jo=l)&&!c)for(Zo=i;null!==Zo;)l=(a=Zo).child,22===a.tag&&null!==a.memoizedState?Il(i):null!==l?(l.return=a,Zo=l):Il(i);for(;null!==s;)Zo=s,bl(s,t,n),s=s.sibling;Zo=i,Yo=o,Jo=c}xl(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Zo=s):xl(e)}}function xl(e){for(;null!==Zo;){var t=Zo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Jo||il(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Jo)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:gs(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Fs(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fs(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&zt(d)}}}break;default:throw Error(s(163))}Jo||512&t.flags&&sl(t)}catch(f){Ec(t,t.return,f)}}if(t===e){Zo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zo=n;break}Zo=t.return}}function _l(e){for(;null!==Zo;){var t=Zo;if(t===e){Zo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zo=n;break}Zo=t.return}}function Il(e){for(;null!==Zo;){var t=Zo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){Ec(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Ec(t,i,l)}}var s=t.return;try{sl(t)}catch(l){Ec(t,s,l)}break;case 5:var a=t.return;try{sl(t)}catch(l){Ec(t,a,l)}}}catch(l){Ec(t,t.return,l)}if(t===e){Zo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Zo=o;break}Zo=t.return}}var Sl,El=Math.ceil,kl=b.ReactCurrentDispatcher,Tl=b.ReactCurrentOwner,Nl=b.ReactCurrentBatchConfig,Cl=0,Al=null,jl=null,Pl=0,Dl=0,Rl=Si(0),Ol=0,Ll=null,Ml=0,Fl=0,Ul=0,Vl=null,Bl=null,zl=0,ql=1/0,Wl=null,Gl=!1,Kl=null,Hl=null,Ql=!1,Xl=null,Yl=0,Jl=0,$l=null,Zl=-1,ec=0;function tc(){return 0!==(6&Cl)?Je():-1!==Zl?Zl:Zl=Je()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Cl)&&0!==Pl?Pl&-Pl:null!==ms.transition?(0===ec&&(ec=mt()),ec):0!==(e=wt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function rc(e,t,n,r){if(50<Jl)throw Jl=0,$l=null,Error(s(185));vt(e,n,r),0!==(2&Cl)&&e===Al||(e===Al&&(0===(2&Cl)&&(Fl|=n),4===Ol&&lc(e,Pl)),ic(e,r),1===n&&0===Cl&&0===(1&t.mode)&&(ql=Je()+500,Ui&&zi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-at(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=ft(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=dt(e,e===Al?Pl:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,Bi(e)}(cc.bind(null,e)):Bi(cc.bind(null,e)),ai((function(){0===(6&Cl)&&zi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ac(n,sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sc(e,t){if(Zl=-1,ec=0,0!==(6&Cl))throw Error(s(327));var n=e.callbackNode;if(Ic()&&e.callbackNode!==n)return null;var r=dt(e,e===Al?Pl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var i=Cl;Cl|=2;var a=mc();for(Al===e&&Pl===t||(Wl=null,ql=Je()+500,fc(e,t));;)try{wc();break}catch(l){pc(e,l)}xs(),kl.current=a,Cl=i,null!==jl?t=0:(Al=null,Pl=0,t=Ol)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Ll,fc(e,0),lc(e,r),ic(e,Je()),n;if(6===t)lc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!or(s(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vc(e,r))&&(0!==(a=pt(e))&&(r=a,t=ac(e,a))),1===t))throw n=Ll,fc(e,0),lc(e,r),ic(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:_c(e,Bl,Wl);break;case 3:if(lc(e,r),(130023424&r)===r&&10<(t=zl+500-Je())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(_c.bind(null,e,Bl,Wl),t);break}_c(e,Bl,Wl);break;case 4:if(lc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-at(r);a=1<<o,(o=t[o])>i&&(i=o),r&=~a}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*El(r/1960))-r)){e.timeoutHandle=ri(_c.bind(null,e,Bl,Wl),r);break}_c(e,Bl,Wl);break;default:throw Error(s(329))}}}return ic(e,Je()),e.callbackNode===n?sc.bind(null,e):null}function ac(e,t){var n=Vl;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=Bl,Bl=n,null!==t&&oc(t)),e}function oc(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function lc(e,t){for(t&=~Ul,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Cl))throw Error(s(327));Ic();var t=dt(e,0);if(0===(1&t))return ic(e,Je()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Ll,fc(e,0),lc(e,t),ic(e,Je()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_c(e,Bl,Wl),ic(e,Je()),null}function uc(e,t){var n=Cl;Cl|=1;try{return e(t)}finally{0===(Cl=n)&&(ql=Je()+500,Ui&&zi())}}function hc(e){null!==Xl&&0===Xl.tag&&0===(6&Cl)&&Ic();var t=Cl;Cl|=1;var n=Nl.transition,r=wt;try{if(Nl.transition=null,wt=1,e)return e()}finally{wt=r,Nl.transition=n,0===(6&(Cl=t))&&zi()}}function dc(){Dl=Rl.current,Ei(Rl)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==jl)for(n=jl.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:ia(),Ei(Ci),Ei(Ni),ua();break;case 5:aa(r);break;case 4:ia();break;case 13:case 19:Ei(oa);break;case 10:_s(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Al=e,jl=e=Rc(e.current,null),Pl=Dl=t,Ol=0,Ll=null,Ul=Fl=Ml=0,Bl=Vl=null,null!==ks){for(t=0;t<ks.length;t++)if(null!==(r=(n=ks[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var a=s.next;s.next=i,r.next=a}n.pending=r}ks=null}return e}function pc(e,t){for(;;){var n=jl;try{if(xs(),ha.current=so,va){for(var r=pa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}va=!1}if(fa=0,ga=ma=pa=null,ya=!1,wa=0,Tl.current=null,null===n||null===n.return){Ol=1,Ll=t,jl=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Pl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=vo(o);if(null!==p){p.flags&=-257,yo(p,o,l,0,t),1&p.mode&&go(a,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){go(a,u,t),gc();break e}c=Error(s(426))}else if(is&&1&l.mode){var v=vo(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),yo(v,o,l,0,t),ps(co(c,l));break e}}a=c=co(c,l),4!==Ol&&(Ol=2),null===Vl?Vl=[a]:Vl.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Ls(a,po(0,c,t));break e;case 1:l=c;var y=a.type,w=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Hl||!Hl.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t,Ls(a,mo(a,l,t));break e}}a=a.return}while(null!==a)}xc(n)}catch(b){t=b,jl===n&&null!==n&&(jl=n=n.return);continue}break}}function mc(){var e=kl.current;return kl.current=so,null===e?so:e}function gc(){0!==Ol&&3!==Ol&&2!==Ol||(Ol=4),null===Al||0===(268435455&Ml)&&0===(268435455&Fl)||lc(Al,Pl)}function vc(e,t){var n=Cl;Cl|=2;var r=mc();for(Al===e&&Pl===t||(Wl=null,fc(e,t));;)try{yc();break}catch(i){pc(e,i)}if(xs(),Cl=n,kl.current=r,null!==jl)throw Error(s(261));return Al=null,Pl=0,Ol}function yc(){for(;null!==jl;)bc(jl)}function wc(){for(;null!==jl&&!Xe();)bc(jl)}function bc(e){var t=Sl(e.alternate,e,Dl);e.memoizedProps=e.pendingProps,null===t?xc(e):jl=t,Tl.current=null}function xc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qo(n,t,Dl)))return void(jl=n)}else{if(null!==(n=Xo(n,t)))return n.flags&=32767,void(jl=n);if(null===e)return Ol=6,void(jl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(jl=t);jl=t=e}while(null!==t);0===Ol&&(Ol=5)}function _c(e,t,n){var r=wt,i=Nl.transition;try{Nl.transition=null,wt=1,function(e,t,n,r){do{Ic()}while(null!==Xl);if(0!==(6&Cl))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,a),e===Al&&(jl=Al=null,Pl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ql||(Ql=!0,Ac(tt,(function(){return Ic(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Nl.transition,Nl.transition=null;var o=wt;wt=1;var l=Cl;Cl|=4,Tl.current=null,function(e,t){if(ei=Wt,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(x){n=null;break e}var o=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=o+i),d!==a||0!==r&&3!==d.nodeType||(c=o+r),3===d.nodeType&&(o+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(l=o),f===a&&++h===r&&(c=o),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Zo=t;null!==Zo;)if(e=(t=Zo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zo=e;else for(;null!==Zo;){t=Zo;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,w=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:gs(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(s(163))}}catch(x){Ec(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Zo=e;break}Zo=t.return}m=nl,nl=!1}(e,n),vl(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,wl(n,e,i),Ye(),Cl=l,wt=o,Nl.transition=a}else e.current=n;if(Ql&&(Ql=!1,Xl=e,Yl=i),a=e.pendingLanes,0===a&&(Hl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Gl)throw Gl=!1,e=Kl,Kl=null,e;0!==(1&Yl)&&0!==e.tag&&Ic(),a=e.pendingLanes,0!==(1&a)?e===$l?Jl++:(Jl=0,$l=e):Jl=0,zi()}(e,t,n,r)}finally{Nl.transition=i,wt=r}return null}function Ic(){if(null!==Xl){var e=bt(Yl),t=Nl.transition,n=wt;try{if(Nl.transition=null,wt=16>e?16:e,null===Xl)var r=!1;else{if(e=Xl,Xl=null,Yl=0,0!==(6&Cl))throw Error(s(331));var i=Cl;for(Cl|=4,Zo=e.current;null!==Zo;){var a=Zo,o=a.child;if(0!==(16&Zo.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Zo=u;null!==Zo;){var h=Zo;switch(h.tag){case 0:case 11:case 15:rl(8,h,a)}var d=h.child;if(null!==d)d.return=h,Zo=d;else for(;null!==Zo;){var f=(h=Zo).sibling,p=h.return;if(al(h),h===u){Zo=null;break}if(null!==f){f.return=p,Zo=f;break}Zo=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Zo=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,Zo=o;else e:for(;null!==Zo;){if(0!==(2048&(a=Zo).flags))switch(a.tag){case 0:case 11:case 15:rl(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Zo=y;break e}Zo=a.return}}var w=e.current;for(Zo=w;null!==Zo;){var b=(o=Zo).child;if(0!==(2064&o.subtreeFlags)&&null!==b)b.return=o,Zo=b;else e:for(o=w;null!==Zo;){if(0!==(2048&(l=Zo).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(_){Ec(l,l.return,_)}if(l===o){Zo=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Zo=x;break e}Zo=l.return}}if(Cl=i,zi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{wt=n,Nl.transition=t}}return!1}function Sc(e,t,n){e=Rs(e,t=po(0,t=co(n,t),1),1),t=tc(),null!==e&&(vt(e,1,t),ic(e,t))}function Ec(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Hl||!Hl.has(r))){t=Rs(t,e=mo(t,e=co(n,e),1),1),e=tc(),null!==t&&(vt(t,1,e),ic(t,e));break}}t=t.return}}function kc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Al===e&&(Pl&n)===n&&(4===Ol||3===Ol&&(130023424&Pl)===Pl&&500>Je()-zl?fc(e,0):Ul|=n),ic(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tc();null!==(e=Cs(e,t))&&(vt(e,t,n),ic(e,n))}function Nc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Tc(e,n)}function Ac(e,t){return He(e,t)}function jc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new jc(e,t,n,r)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oc(e,t,n,r,i,a){var o=2;if(r=e,"function"===typeof e)Dc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case I:return Lc(n.children,i,a,t);case S:o=8,i|=8;break;case E:return(e=Pc(12,n,t,2|i)).elementType=E,e.lanes=a,e;case C:return(e=Pc(13,n,t,i)).elementType=C,e.lanes=a,e;case A:return(e=Pc(19,n,t,i)).elementType=A,e.lanes=a,e;case D:return Mc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case k:o=10;break e;case T:o=9;break e;case N:o=11;break e;case j:o=14;break e;case P:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Pc(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Lc(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,i,s,a,o,l){return e=new Vc(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Pc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},js(s),e}function zc(e){if(!e)return Ti;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Oi(e,n,t)}return t}function qc(e,t,n,r,i,s,a,o,l){return(e=Bc(n,r,!0,e,0,s,0,o,l)).context=zc(null),n=e.current,(s=Ds(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Rs(n,s,i),e.current.lanes=i,vt(e,i,r),ic(e,r),e}function Wc(e,t,n,r){var i=t.current,s=tc(),a=nc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ds(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Rs(i,t,a))&&(rc(e,i,a,s),Os(e,i,a)),a}function Gc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ci.current)bo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bo=!1,function(e,t,n){switch(t.tag){case 3:Ao(t),fs();break;case 5:sa(t);break;case 1:Pi(t.type)&&Li(t);break;case 4:ra(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ki(vs,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(ki(oa,1&oa.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fo(e,t,n):(ki(oa,1&oa.current),null!==(e=Go(e,t,n))?e.sibling:null);ki(oa,1&oa.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qo(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ki(oa,oa.current),r)break;return null;case 22:case 23:return t.lanes=0,Eo(e,t,n)}return Go(e,t,n)}(e,t,n);bo=0!==(131072&e.flags)}else bo=!1,is&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wo(e,t),e=t.pendingProps;var i=ji(t,Ni.current);Ss(t,n),i=Ia(null,t,r,e,i,n);var a=Sa();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(a=!0,Li(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,js(t),i.updater=Bs,t.stateNode=i,i._reactInternals=t,Gs(t,r,e,n),t=Co(null,t,r,!0,a,n)):(t.tag=0,is&&a&&es(t),xo(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wo(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===j)return 14}return 2}(r),e=gs(r,e),i){case 0:t=To(null,t,r,e,n);break e;case 1:t=No(null,t,r,e,n);break e;case 11:t=_o(null,t,r,e,n);break e;case 14:t=Io(null,t,r,gs(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,To(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 1:return r=t.type,i=t.pendingProps,No(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 3:e:{if(Ao(t),null===e)throw Error(s(387));r=t.pendingProps,i=(a=t.memoizedState).element,Ps(e,t),Ms(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=jo(e,t,r,n,i=co(Error(s(423)),t));break e}if(r!==i){t=jo(e,t,r,n,i=co(Error(s(424)),t));break e}for(rs=ci(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=Js(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){t=Go(e,t,n);break e}xo(e,t,r,n)}t=t.child}return t;case 5:return sa(t),null===e&&cs(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,ni(r,i)?o=null:null!==a&&ni(r,a)&&(t.flags|=32),ko(e,t),xo(e,t,o,n),t.child;case 6:return null===e&&cs(t),null;case 13:return Fo(e,t,n);case 4:return ra(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ys(t,null,r,n):xo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_o(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 7:return xo(e,t,t.pendingProps,n),t.child;case 8:case 12:return xo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,ki(vs,r._currentValue),r._currentValue=o,null!==a)if(or(a.value,o)){if(a.children===i.children&&!Ci.current){t=Go(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Ds(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Is(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Is(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}xo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ss(t,n),r=r(i=Es(i)),t.flags|=1,xo(e,t,r,n),t.child;case 14:return i=gs(r=t.type,t.pendingProps),Io(e,t,r,i=gs(r.type,i),n);case 15:return So(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:gs(r,i),Wo(e,t),t.tag=1,Pi(r)?(e=!0,Li(t)):e=!1,Ss(t,n),qs(t,r,i),Gs(t,r,i,n),Co(null,t,r,!0,e,n);case 19:return qo(e,t,n);case 22:return Eo(e,t,n)}throw Error(s(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Xc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function eu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if("function"===typeof i){var o=i;i=function(){var e=Gc(a);o.call(e)}}Wc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Gc(a);s.call(e)}}var a=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=a,e[pi]=a.current,zr(8===e.nodeType?e.parentNode:e),hc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var o=r;r=function(){var e=Gc(l);o.call(e)}}var l=Bc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=l,e[pi]=l.current,zr(8===e.nodeType?e.parentNode:e),hc((function(){Wc(t,l,n,r)})),l}(n,t,e,i,r);return Gc(a)}Yc.prototype.render=Xc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Wc(e,t,null,null)},Yc.prototype.unmount=Xc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hc((function(){Wc(null,e,null,null)})),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Mt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),ic(t,Je()),0===(6&Cl)&&(ql=Je()+500,zi()))}break;case 13:hc((function(){var t=Cs(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Hc(e,1)}},_t=function(e){if(13===e.tag){var t=Cs(e,134217728);if(null!==t)rc(t,e,134217728,tc());Hc(e,134217728)}},It=function(e){if(13===e.tag){var t=nc(e),n=Cs(e,t);if(null!==n)rc(n,e,t,tc());Hc(e,t)}},St=function(){return wt},Et=function(e,t){var n=wt;try{return wt=e,t()}finally{wt=n}},_e=function(e,t,n){switch(t){case"input":if($(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=xi(r);if(!i)throw Error(s(90));H(r),$(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ne=uc,Ce=hc;var tu={usingClientEntryPoint:!1,Events:[wi,bi,xi,ke,Te,uc]},nu={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{it=iu.inject(ru),st=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(s(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Xc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return hc(e)},t.hydrate=function(e,t,n){if(!$c(t))throw Error(s(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",o=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,a,o),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!$c(t))throw Error(s(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$c(e))throw Error(s(40));return!!e._reactRootContainer&&(hc((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$c(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return eu(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},292:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(144)},36:(e,t,n)=>{var r=n(60),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:o.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},564:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function w(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var b=w.prototype=new y;b.constructor=w,m(b,v.prototype),b.isPureReactComponent=!0;var x=Array.isArray,_=Object.prototype.hasOwnProperty,I={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,s={},a=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)_.call(t,i)&&!S.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:o,props:s,_owner:I.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===s?"."+N(l,0):s,x(a)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),C(a,t,i,"",(function(e){return e}))):null!=a&&(k(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+e)),t.push(a)),1;if(l=0,s=""===s?".":s+":",x(e))for(var c=0;c<e.length;c++){var u=s+N(o=e[c],c);l+=C(o,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=C(o=o.value,t,i,u=s+N(o,c++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function A(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function j(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},D={transition:null},R={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:D,ReactCurrentOwner:I};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=w,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=I.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)_.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:a,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:j}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},60:(e,t,n)=>{e.exports=n(564)},496:(e,t,n)=>{e.exports=n(36)},692:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(g=!1,b(e),!m)if(null!==r(c))m=!0,D(_);else{var t=r(u);null!==t&&R(x,t.startTime-e)}}function _(e,n){m=!1,g&&(g=!1,y(k),k=-1),p=!0;var s=f;try{for(b(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!C());){var a=d.callback;if("function"===typeof a){d.callback=null,f=d.priorityLevel;var o=a(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?d.callback=o:d===r(c)&&i(c),b(n)}else i(c);d=r(c)}if(null!==d)var l=!0;else{var h=r(u);null!==h&&R(x,h.startTime-n),l=!1}return l}finally{d=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var I,S=!1,E=null,k=-1,T=5,N=-1;function C(){return!(t.unstable_now()-N<T)}function A(){if(null!==E){var e=t.unstable_now();N=e;var n=!0;try{n=E(!0,e)}finally{n?I():(S=!1,E=null)}}else S=!1}if("function"===typeof w)I=function(){w(A)};else if("undefined"!==typeof MessageChannel){var j=new MessageChannel,P=j.port2;j.port1.onmessage=A,I=function(){P.postMessage(null)}}else I=function(){v(A,0)};function D(e){E=e,S||(S=!0,I())}function R(e,n){k=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,D(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(y(k),k=-1):g=!0,R(x,s-a))):(e.sortIndex=o,n(c,e),m||p||(m=!0,D(_))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},724:(e,t,n)=>{e.exports=n(692)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.m=e,(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&r;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,n.d(s,a),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".58c69c45.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="secure-bank:";n.l=(r,i,s,a)=>{if(e[r])e[r].push(i);else{var o,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var h=c[u];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+s){o=h;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+s),o.src=r),e[r]=[i];var d=(t,n)=>{o.onerror=o.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach((e=>e(n))),t)return t(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=d.bind(null,o.onerror),o.onload=d.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={590:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var s=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=s);var a=n.p+n.u(t),o=new Error;n.l(a,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+s+": "+a+")",o.name="ChunkLoadError",o.type=s,o.request=a,i[1](o)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,s,a=r[0],o=r[1],l=r[2],c=0;if(a.some((t=>0!==e[t]))){for(i in o)n.o(o,i)&&(n.m[i]=o[i]);if(l)l(n)}for(t&&t(r);c<a.length;c++)s=a[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunksecure_bank=self.webpackChunksecure_bank||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{var e={};n.r(e),n.d(e,{FirebaseError:()=>Gt,SDK_VERSION:()=>Zn,_DEFAULT_ENTRY_NAME:()=>Mn,_addComponent:()=>zn,_addOrOverwriteComponent:()=>qn,_apps:()=>Un,_clearComponents:()=>Xn,_components:()=>Bn,_getProvider:()=>Gn,_isFirebaseApp:()=>Hn,_isFirebaseServerApp:()=>Qn,_registerComponent:()=>Wn,_removeServiceInstance:()=>Kn,_serverApps:()=>Vn,deleteApp:()=>ir,getApp:()=>nr,getApps:()=>rr,initializeApp:()=>er,initializeServerApp:()=>tr,onLog:()=>ar,registerVersion:()=>sr,setLogLevel:()=>or});var t,r=n(60),i=n.t(r,2),s=n(292),a=n.t(s,2);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));const l="popstate";function c(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function u(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function h(e,t){return{usr:e.state,key:e.key,idx:t}}function d(e,t,n,r){return void 0===n&&(n=null),o({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?p(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function f(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function p(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function m(e,n,r,i){void 0===i&&(i={});let{window:s=document.defaultView,v5Compat:a=!1}=i,u=s.history,p=t.Pop,m=null,g=v();function v(){return(u.state||{idx:null}).idx}function y(){p=t.Pop;let e=v(),n=null==e?null:e-g;g=e,m&&m({action:p,location:b.location,delta:n})}function w(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:f(e);return n=n.replace(/ $/,"%20"),c(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,u.replaceState(o({},u.state,{idx:g}),""));let b={get action(){return p},get location(){return e(s,u)},listen(e){if(m)throw new Error("A history only accepts one active listener");return s.addEventListener(l,y),m=e,()=>{s.removeEventListener(l,y),m=null}},createHref:e=>n(s,e),createURL:w,encodeLocation(e){let t=w(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){p=t.Push;let i=d(b.location,e,n);r&&r(i,e),g=v()+1;let o=h(i,g),l=b.createHref(i);try{u.pushState(o,"",l)}catch(c){if(c instanceof DOMException&&"DataCloneError"===c.name)throw c;s.location.assign(l)}a&&m&&m({action:p,location:b.location,delta:1})},replace:function(e,n){p=t.Replace;let i=d(b.location,e,n);r&&r(i,e),g=v();let s=h(i,g),o=b.createHref(i);u.replaceState(s,"",o),a&&m&&m({action:p,location:b.location,delta:0})},go:e=>u.go(e)};return b}var g;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(g||(g={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function v(e,t,n){void 0===n&&(n="/");let r=j(("string"===typeof t?p(t):t).pathname||"/",n);if(null==r)return null;let i=y(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let s=null;for(let a=0;null==s&&a<i.length;++a){let e=A(r);s=N(i[a],e)}return s}function y(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let a={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(c(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let o=L([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(c(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),y(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:T(o,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of w(e.path))i(e,t,r);else i(e,t)})),t}function w(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let a=w(r.join("/")),o=[];return o.push(...a.map((e=>""===e?s:[s,e].join("/")))),i&&o.push(...a),o.map((t=>e.startsWith("/")&&""===t?"/":t))}const b=/^:[\w-]+$/,x=3,_=2,I=1,S=10,E=-2,k=e=>"*"===e;function T(e,t){let n=e.split("/"),r=n.length;return n.some(k)&&(r+=E),t&&(r+=_),n.filter((e=>!k(e))).reduce(((e,t)=>e+(b.test(t)?x:""===t?I:S)),r)}function N(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let a=0;a<n.length;++a){let e=n[a],o=a===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=C({path:e.relativePath,caseSensitive:e.caseSensitive,end:o},l);if(!c)return null;Object.assign(r,c.params);let u=e.route;s.push({params:r,pathname:L([i,c.pathname]),pathnameBase:M(L([i,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(i=L([i,c.pathnameBase]))}return s}function C(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);u("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";a=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:s,pathnameBase:a,pattern:e}}function A(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function j(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function P(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function D(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function R(e,t){let n=D(e);return t?n.map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)):n.map((e=>e.pathnameBase))}function O(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=p(e):(i=o({},e),c(!i.pathname||!i.pathname.includes("?"),P("?","pathname","search",i)),c(!i.pathname||!i.pathname.includes("#"),P("#","pathname","hash",i)),c(!i.search||!i.search.includes("#"),P("#","search","hash",i)));let s,a=""===e||""===i.pathname,l=a?"/":i.pathname;if(null==l)s=n;else{let e=t.length-1;if(!r&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?p(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:F(r),hash:U(i)}}(i,s),h=l&&"/"!==l&&l.endsWith("/"),d=(a||"."===l)&&n.endsWith("/");return u.pathname.endsWith("/")||!h&&!d||(u.pathname+="/"),u}const L=e=>e.join("/").replace(/\/\/+/g,"/"),M=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),F=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",U=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function V(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const B=["post","put","patch","delete"],z=(new Set(B),["get",...B]);new Set(z),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q.apply(this,arguments)}const W=r.createContext(null);const G=r.createContext(null);const K=r.createContext(null);const H=r.createContext(null);const Q=r.createContext({outlet:null,matches:[],isDataRoute:!1});const X=r.createContext(null);function Y(){return null!=r.useContext(H)}function J(){return Y()||c(!1),r.useContext(H).location}function $(e){r.useContext(K).static||r.useLayoutEffect(e)}function Z(){let{isDataRoute:e}=r.useContext(Q);return e?function(){let{router:e}=ue(le.UseNavigateStable),t=de(ce.UseNavigateStable),n=r.useRef(!1);$((()=>{n.current=!0}));let i=r.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,q({fromRouteId:t},i)))}),[e,t]);return i}():function(){Y()||c(!1);let e=r.useContext(W),{basename:t,future:n,navigator:i}=r.useContext(K),{matches:s}=r.useContext(Q),{pathname:a}=J(),o=JSON.stringify(R(s,n.v7_relativeSplatPath)),l=r.useRef(!1);return $((()=>{l.current=!0})),r.useCallback((function(n,r){if(void 0===r&&(r={}),!l.current)return;if("number"===typeof n)return void i.go(n);let s=O(n,JSON.parse(o),a,"path"===r.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:L([t,s.pathname])),(r.replace?i.replace:i.push)(s,r.state,r)}),[t,i,o,a,e])}()}const ee=r.createContext(null);function te(e,t){let{relative:n}=void 0===t?{}:t,{future:i}=r.useContext(K),{matches:s}=r.useContext(Q),{pathname:a}=J(),o=JSON.stringify(R(s,i.v7_relativeSplatPath));return r.useMemo((()=>O(e,JSON.parse(o),a,"path"===n)),[e,o,a,n])}function ne(e,n,i,s){Y()||c(!1);let{navigator:a}=r.useContext(K),{matches:o}=r.useContext(Q),l=o[o.length-1],u=l?l.params:{},h=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let d,f=J();if(n){var m;let e="string"===typeof n?p(n):n;"/"===h||(null==(m=e.pathname)?void 0:m.startsWith(h))||c(!1),d=e}else d=f;let g=d.pathname||"/",y=g;if("/"!==h){let e=h.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let w=v(e,{pathname:y});let b=oe(w&&w.map((e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:L([h,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:L([h,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),o,i,s);return n&&b?r.createElement(H.Provider,{value:{location:q({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:t.Pop}},b):b}function re(){let e=function(){var e;let t=r.useContext(X),n=he(ce.UseRouteError),i=de(ce.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[i]}(),t=V(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:s},n):null,null)}const ie=r.createElement(re,null);class se extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?r.createElement(Q.Provider,{value:this.props.routeContext},r.createElement(X.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ae(e){let{routeContext:t,match:n,children:i}=e,s=r.useContext(W);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(Q.Provider,{value:t},i)}function oe(e,t,n,i){var s;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===i&&(i=null),null==e){var a;if(null==(a=n)||!a.errors)return null;e=n.matches}let o=e,l=null==(s=n)?void 0:s.errors;if(null!=l){let e=o.findIndex((e=>e.route.id&&(null==l?void 0:l[e.route.id])));e>=0||c(!1),o=o.slice(0,Math.min(o.length,e+1))}let u=!1,h=-1;if(n&&i&&i.v7_partialHydration)for(let r=0;r<o.length;r++){let e=o[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(h=r),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){u=!0,o=h>=0?o.slice(0,h+1):[o[0]];break}}}return o.reduceRight(((e,i,s)=>{let a,c=!1,d=null,f=null;var p;n&&(a=l&&i.route.id?l[i.route.id]:void 0,d=i.route.errorElement||ie,u&&(h<0&&0===s?(p="route-fallback",!1||fe[p]||(fe[p]=!0),c=!0,f=null):h===s&&(c=!0,f=i.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,s+1)),g=()=>{let t;return t=a?d:c?f:i.route.Component?r.createElement(i.route.Component,null):i.route.element?i.route.element:e,r.createElement(ae,{match:i,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(i.route.ErrorBoundary||i.route.errorElement||0===s)?r.createElement(se,{location:n.location,revalidation:n.revalidation,component:d,error:a,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var le=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(le||{}),ce=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ce||{});function ue(e){let t=r.useContext(W);return t||c(!1),t}function he(e){let t=r.useContext(G);return t||c(!1),t}function de(e){let t=function(e){let t=r.useContext(Q);return t||c(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||c(!1),n.route.id}const fe={};i.startTransition;function pe(e){return function(e){let t=r.useContext(Q).outlet;return t?r.createElement(ee.Provider,{value:e},t):t}(e.context)}function me(e){c(!1)}function ge(e){let{basename:n="/",children:i=null,location:s,navigationType:a=t.Pop,navigator:o,static:l=!1,future:u}=e;Y()&&c(!1);let h=n.replace(/^\/*/,"/"),d=r.useMemo((()=>({basename:h,navigator:o,static:l,future:q({v7_relativeSplatPath:!1},u)})),[h,u,o,l]);"string"===typeof s&&(s=p(s));let{pathname:f="/",search:m="",hash:g="",state:v=null,key:y="default"}=s,w=r.useMemo((()=>{let e=j(f,h);return null==e?null:{location:{pathname:e,search:m,hash:g,state:v,key:y},navigationType:a}}),[h,f,m,g,v,y,a]);return null==w?null:r.createElement(K.Provider,{value:d},r.createElement(H.Provider,{children:i,value:w}))}function ve(e){let{children:t,location:n}=e;return ne(ye(t),n)}new Promise((()=>{}));r.Component;function ye(e,t){void 0===t&&(t=[]);let n=[];return r.Children.forEach(e,((e,i)=>{if(!r.isValidElement(e))return;let s=[...t,i];if(e.type===r.Fragment)return void n.push.apply(n,ye(e.props.children,s));e.type!==me&&c(!1),e.props.index&&e.props.children&&c(!1);let a={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=ye(e.props.children,s)),n.push(a)})),n}function we(){return we=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},we.apply(this,arguments)}function be(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const xe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];try{window.__reactRouterVersion="6"}catch(BE){}new Map;const _e=i.startTransition;a.flushSync,i.useId;function Ie(e){let{basename:t,children:n,future:i,window:s}=e,a=r.useRef();var o;null==a.current&&(a.current=(void 0===(o={window:s,v5Compat:!0})&&(o={}),m((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return d("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:f(t)}),null,o)));let l=a.current,[c,u]=r.useState({action:l.action,location:l.location}),{v7_startTransition:h}=i||{},p=r.useCallback((e=>{h&&_e?_e((()=>u(e))):u(e)}),[u,h]);return r.useLayoutEffect((()=>l.listen(p)),[l,p]),r.createElement(ge,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:i})}const Se="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ee=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ke=r.forwardRef((function(e,t){let n,{onClick:i,relative:s,reloadDocument:a,replace:o,state:l,target:u,to:h,preventScrollReset:d,unstable_viewTransition:p}=e,m=be(e,xe),{basename:g}=r.useContext(K),v=!1;if("string"===typeof h&&Ee.test(h)&&(n=h,Se))try{let e=new URL(window.location.href),t=h.startsWith("//")?new URL(e.protocol+h):new URL(h),n=j(t.pathname,g);t.origin===e.origin&&null!=n?h=n+t.search+t.hash:v=!0}catch(BE){}let y=function(e,t){let{relative:n}=void 0===t?{}:t;Y()||c(!1);let{basename:i,navigator:s}=r.useContext(K),{hash:a,pathname:o,search:l}=te(e,{relative:n}),u=o;return"/"!==i&&(u="/"===o?i:L([i,o])),s.createHref({pathname:u,search:l,hash:a})}(h,{relative:s}),w=function(e,t){let{target:n,replace:i,state:s,preventScrollReset:a,relative:o,unstable_viewTransition:l}=void 0===t?{}:t,c=Z(),u=J(),h=te(e,{relative:o});return r.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==i?i:f(u)===f(h);c(e,{replace:n,state:s,preventScrollReset:a,relative:o,unstable_viewTransition:l})}}),[u,c,h,i,s,n,e,a,o,l])}(h,{replace:o,state:l,target:u,preventScrollReset:d,relative:s,unstable_viewTransition:p});return r.createElement("a",we({},m,{href:n||y,onClick:v||a?i:function(e){i&&i(e),e.defaultPrevented||w(e)},ref:t,target:u}))}));var Te,Ne;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Te||(Te={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ne||(Ne={}));const Ce=e=>{e&&e instanceof Function&&n.e(592).then(n.bind(n,592)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:s,getTTFB:a}=t;n(e),r(e),i(e),s(e),a(e)}))};var Ae=n(496);const je=function(e){return(0,Ae.jsxs)("div",{className:"bottom",children:[(0,Ae.jsx)("p",{className:"p-bottom",children:e.p}),(0,Ae.jsx)(ke,{to:"/sign-up",children:(0,Ae.jsx)("button",{className:"button-bottom",children:"Get Started"})})]})};const Pe=function(e){return(0,Ae.jsxs)("div",{className:"column-icon",children:[(0,Ae.jsx)("div",{className:"icon",style:{backgroundImage:"url(".concat(e.img,")")}}),(0,Ae.jsx)("h2",{className:"text-icon",children:e.name})]})},De=n.p+"static/media/speed.66794539ddf6d7635615.jpg",Re=n.p+"static/media/security.7764b5a3026f06b9006b.jpg",Oe=n.p+"static/media/safety.c6e5f06217d0c47ee09d.jpg",Le=n.p+"static/media/easy.b55bad1018dd259c6e3c.jpg";const Me=function(){return(0,Ae.jsxs)("div",{className:"row-icons",rel:"preload",loading:"eager",children:[(0,Ae.jsx)(Pe,{name:"Speed",img:De}),(0,Ae.jsx)(Pe,{name:"Easy",img:Le}),(0,Ae.jsx)(Pe,{name:"Safety",img:Oe}),(0,Ae.jsx)(Pe,{name:"Security",img:Re})]})};const Fe=n.p+"static/media/logo.1538e3eeeb6cb25a9a1e1722fd4802a4.svg";const Ue=n.p+"static/media/Nav.2fd74c6bc99ba77f091715882ff66b41.svg";const Ve=function(){const[e,t]=(0,r.useState)(!1);return(0,Ae.jsxs)("div",{className:"row-navigation",children:[(0,Ae.jsxs)("div",{className:"img-navigation",children:[(0,Ae.jsx)(ke,{to:"/",children:(0,Ae.jsx)("img",{className:"",src:Fe,alt:"Logo"})}),(0,Ae.jsx)("img",{src:Ue,alt:"Navigation tool",className:"nav-navigation",onClick:()=>{t(!e)}})]}),(0,Ae.jsxs)("div",{className:"text-navigation ".concat(e?"show":""),children:[(0,Ae.jsx)(ke,{className:"linkl",to:"/",children:"Home"}),(0,Ae.jsx)(ke,{className:"linkll",to:"/services",children:"Services"}),(0,Ae.jsx)(ke,{className:"linklll",to:"/privacy",children:"Security and Privacy"}),(0,Ae.jsx)(ke,{className:"linkllll",to:"/about",children:"About Us"}),(0,Ae.jsx)(ke,{className:"linklllll",to:"/contact",children:"Contact Us"})]}),(0,Ae.jsxs)("div",{className:"buttons-navigation ".concat(e?"show":""),children:[(0,Ae.jsx)(ke,{to:"/sign-up",children:(0,Ae.jsx)("button",{className:"get-started-navigation",children:"Get Started"})}),(0,Ae.jsx)(ke,{to:"/login",children:(0,Ae.jsx)("button",{className:"login-navigation",children:"Login"})})]}),(0,Ae.jsx)(pe,{})]})};const Be=function(){return(0,Ae.jsxs)("div",{className:"column",rel:"preload",loading:"eager",children:[(0,Ae.jsx)("h1",{children:"Welcome to Secure Bank"}),(0,Ae.jsx)(ke,{to:"/sign-up",children:(0,Ae.jsx)("button",{className:"button-top-image",children:"Get Started"})})]})};n.p,n.p;const ze=function(){return(0,Ae.jsxs)("div",{className:"home",children:[(0,Ae.jsx)(Be,{}),(0,Ae.jsxs)("div",{className:"body",children:[(0,Ae.jsxs)("h1",{className:"head-home",children:[(0,Ae.jsx)("snap",{children:"Secure Bank"})," is for everyone who pays or gets paid."]}),(0,Ae.jsx)(Me,{}),(0,Ae.jsx)("div",{className:"container-home",loading:"eager"}),(0,Ae.jsxs)("div",{className:"bottom-body",children:[(0,Ae.jsxs)("div",{className:"top-bottom-body",children:[(0,Ae.jsx)("div",{className:"secure-one",rel:"preload",loading:"eager"}),(0,Ae.jsx)("p",{className:"p-bottom-body",children:"In today's fast-paced world, ensuring the safety and security of your home, business, or community is more important than ever. At Secure Bank, we understand the importance of feeling protected in your environment, which is why we offer a comprehensive range of security solutions designed to meet your unique needs and provide peace of mind."})]}),(0,Ae.jsx)("div",{className:"secure-two",rel:"preload",loading:"eager"})]})]}),(0,Ae.jsx)(je,{p:"Ready to enhance your security? Contact us today to schedule a consultation with one of our \r security experts. We'll work with you to assess your security needs, recommend the right solutions, \r and help you achieve peace of mind knowing that your property is protected."})]})},qe=n.p+"static/media/finance.f2ac778d9c32bec36051.jpg",We=n.p+"static/media/regulation.05e65d5d9fba5057066d.jpg",Ge=n.p+"static/media/ssl.eac3f54829fca246cd65.jpg",Ke=n.p+"static/media/transactions.fd20362610c75e3fdb6e.jpg",He=n.p+"static/media/bottom.4c501ff79e7d73c31065.jpg";const Qe=function(e){return(0,Ae.jsx)("div",{className:"textContainer",children:(0,Ae.jsx)("p",{className:"p-textContainer",children:e.p})})};const Xe=function(e){const t="right"===e.position?"imageContainer--right":"imageContainer--left";return(0,Ae.jsxs)("div",{className:t,children:[(0,Ae.jsx)("div",{rel:"preload",loading:"eager",style:{backgroundImage:"url(".concat(e.image,")")},className:"image-imageContainer"}),(0,Ae.jsx)("p",{className:"p-imageContainer",children:e.p})]})};const Ye=function(){return(0,Ae.jsxs)("div",{className:"sevices",children:[(0,Ae.jsx)(Qe,{p:"Welcome to Secure Bank, where we prioritize the security and \r privacy of your financial transactions above all else. We offer a comprehensive \r range of banking services designed to protect your assets and provide you with peace of mind."}),(0,Ae.jsxs)("div",{className:"service-body",children:[(0,Ae.jsx)("div",{className:"long-line"}),(0,Ae.jsx)(Xe,{position:"right",image:qe,p:"Manage your finances securely and conveniently with our online banking platform. \r With robust encryption protocols and multi-factor authentication, you can access your \r accounts, check balances, transfer funds, pay bills, and view transaction history with \r confidence from anywhere, anytime."}),(0,Ae.jsx)("div",{className:"small-line"}),(0,Ae.jsx)(Xe,{position:"left",image:He,p:"Protect your accounts from unauthorized access and fraudulent activity with our \r advanced fraud protection measures. We employ state-of-the-art fraud detection algorithms,\r real-time transaction monitoring, and alert notifications to safeguard your accounts against \r identity theft, phishing scams, and unauthorized transactions."}),(0,Ae.jsx)("div",{className:"small-line"}),(0,Ae.jsx)(Xe,{position:"right",image:Ge,p:"Rest assured knowing that your accounts are protected by industry-leading security measures. \r Our bank employs robust encryption protocols, secure socket layer (SSL) technology, and firewalls \r to encrypt and protect your sensitive information during transmission and storage, ensuring \r the confidentiality and integrity of your data."}),(0,Ae.jsx)("div",{className:"small-line"}),(0,Ae.jsx)(Xe,{position:"left",image:Ke,p:"Make transactions with confidence knowing that your financial information is safe and secure. \r Whether you're transferring funds, paying bills, or making purchases online, our secure transaction\r processing systems and fraud prevention tools ensure that your transactions are protected against \r unauthorized access and fraudulent activity."}),(0,Ae.jsx)("div",{className:"small-line"}),(0,Ae.jsx)(Xe,{position:"right",image:We,p:"Rest assured knowing that our bank is fully compliant with industry \r regulations and standards governing financial institutions. We adhere to \r strict regulatory requirements, such as the Payment Card Industry Data Security\r Standard (PCI DSS) and the Bank Secrecy Act (BSA), to ensure the security, integrity, \r and confidentiality of your financial information."})]}),(0,Ae.jsx)(je,{p:"Ready to experience secure banking with Secure Bank? Open an account today and enjoy the \r peace of mind that comes with knowing your finances are in safe hands. Whether you're banking online or on your mobile \r device, we're committed to providing you with the highest level of security and service."})]})};const Je=function(){return(0,Ae.jsxs)("div",{className:"Privacy",children:[(0,Ae.jsx)(Qe,{p:"At Secure Bank, we take the security and privacy of your personal and financial information \r very seriously. We are committed to safeguarding your data and providing you with a secure and \r trustworthy banking experience. Here's how we protect your information:"}),(0,Ae.jsxs)("div",{className:"privacy-body",children:[(0,Ae.jsx)("div",{className:"long-line"}),(0,Ae.jsx)("p",{className:"p-privacy",children:"All data transmitted between your browser and our servers is encrypted using industry-standard encryption protocols, such as Secure Socket Layer (SSL) or Transport Layer Security (TLS). This ensures that your sensitive information, including login credentials, account details, and transaction data, remains confidential and secure during transmission."}),(0,Ae.jsx)("div",{className:"small-line"}),(0,Ae.jsx)("p",{className:"p-privacy",children:"We employ advanced fraud monitoring and detection systems that analyze transaction patterns and behavior to identify and flag potentially fraudulent activity in real-time. If suspicious activity is detected, our fraud prevention team will promptly investigate and take appropriate action to protect your accounts and mitigate any potential risks."}),(0,Ae.jsx)("div",{className:"small-line"}),(0,Ae.jsx)("p",{className:"p-privacy",children:"We are committed to protecting your privacy and adhering to strict data protection laws and regulations. Our privacy policy outlines how we collect, use, and safeguard your personal information, as well as your rights and options regarding the use of your data. We are transparent about our data practices and strive to earn and maintain your trust."}),(0,Ae.jsx)("div",{className:"small-line"}),(0,Ae.jsx)("p",{className:"p-privacy",children:"We comply with industry regulations and standards governing the banking and financial services sector, including the Gramm-Leach-Bliley Act (GLBA), the Payment Card Industry Data Security Standard (PCI DSS), and the General Data Protection Regulation (GDPR). Our compliance efforts ensure that your data is handled securely and in accordance with applicable laws and regulations."})]}),(0,Ae.jsx)(je,{p:"At Secure Bank, your security and privacy are our top priorities. We are committed \r to continuously investing in and improving our security infrastructure to protect your \r information and provide you with a safe and secure banking experience."})]})};const $e=function(){return(0,Ae.jsx)("div",{className:"mmmmmmmmm",children:(0,Ae.jsxs)("div",{className:"about",children:[(0,Ae.jsxs)("p",{className:"pr-about",children:["Secure Bank was founded in 2024 with the vision of providing accessible and reliable banking services to individuals, businesses, and communities. Over the years, we have grown and evolved, adapting to changes in the financial industry and expanding our range of products and services to meet the diverse needs of our customers.",(0,Ae.jsx)("br",{}),(0,Ae.jsx)("br",{}),(0,Ae.jsx)("br",{}),(0,Ae.jsx)("br",{}),"At Secure Bank, our mission is to empower individuals and businesses to achieve their financial goals and aspirations. We are committed to providing innovative banking solutions, personalized customer service, and a seamless banking experience that helps our customers thrive in a dynamic and ever-changing world.",(0,Ae.jsx)("br",{}),(0,Ae.jsx)("br",{}),(0,Ae.jsx)("br",{}),(0,Ae.jsx)("br",{}),"Integrity:",(0,Ae.jsx)("br",{}),(0,Ae.jsx)("br",{}),"We conduct business with honesty, transparency, and accountability, always acting in the best interests of our customers and stakeholders.",(0,Ae.jsx)("br",{}),(0,Ae.jsx)("br",{}),"Excellence:",(0,Ae.jsx)("br",{}),(0,Ae.jsx)("br",{}),"We strive for excellence in everything we do, continuously seeking to improve and innovate to better serve our customers and communities.",(0,Ae.jsx)("br",{}),(0,Ae.jsx)("br",{}),"Customer Focus:",(0,Ae.jsx)("br",{}),(0,Ae.jsx)("br",{}),"We prioritize the needs and preferences of our customers, delivering tailored solutions and personalized service to help them succeed financially.",(0,Ae.jsx)("br",{}),(0,Ae.jsx)("br",{}),"Community Engagement:",(0,Ae.jsx)("br",{}),(0,Ae.jsx)("br",{}),"We are dedicated to making a positive impact in the communities we serve, supporting local initiatives, and giving back through philanthropic efforts and volunteerism.",(0,Ae.jsx)("br",{}),(0,Ae.jsx)("br",{}),(0,Ae.jsx)("br",{}),(0,Ae.jsx)("br",{}),"At \u064dSecure Bank, we are committed to building long-lasting relationships with our customers based on trust, reliability, and mutual respect. We are here to support you every step of the way on your financial journey, providing guidance, expertise, and solutions that help you achieve your goals and dreams.",(0,Ae.jsx)("br",{}),(0,Ae.jsx)("br",{}),(0,Ae.jsx)("br",{}),(0,Ae.jsx)("br",{}),"We invite you to experience the difference in banking with Secure Bank. Thank you for choosing Secure Bank as your trusted banking partner. We look forward to serving you and helping you achieve your financial goals."]}),(0,Ae.jsx)(ke,{to:"/sign-up",children:(0,Ae.jsx)("button",{className:"button-about",children:"Get Started"})})]})})};const Ze=function(){return(0,Ae.jsx)("div",{className:"mkkkkkkkk",children:(0,Ae.jsx)("div",{className:"contactUs",children:(0,Ae.jsxs)("div",{className:"contact",children:[(0,Ae.jsx)("textarea",{type:"text",id:"message",name:"message",placeholder:"Hi, write your message.",min:20,required:!0,autocomplete:"on"}),(0,Ae.jsx)("input",{type:"email",id:"email",placeholder:"Email...",required:!0,autoComplete:"on"}),(0,Ae.jsxs)("div",{className:"bottom-contact",children:[(0,Ae.jsx)("input",{type:"text",id:"name",placeholder:"Name..."}),(0,Ae.jsx)("button",{className:"contact-button",children:"Send"})]})]})})})};const et=function(){return(0,Ae.jsxs)("div",{className:"notFound",children:[(0,Ae.jsx)("h1",{className:"numberFound",children:"404"}),(0,Ae.jsx)("h2",{className:"textFound",children:"Whoops.... Page Not Found."}),(0,Ae.jsx)(ke,{to:"/",children:(0,Ae.jsx)("button",{className:"button-found",children:"Go Home"})})]})};const tt=n.p+"static/media/alert.53c1da01f9ab1da45fb8ee160493e6de.svg",nt=n.p+"static/media/profile.541f66193aeaccc1a00c.jpg";const rt=function(){return(0,Ae.jsxs)("div",{id:"sectionToScrollTo",children:[(0,Ae.jsx)("div",{className:"triangle"}),(0,Ae.jsxs)("div",{className:"section",children:[(0,Ae.jsx)(ke,{className:"hid1",to:"/dashboard",children:"Dashboard"}),(0,Ae.jsx)(ke,{className:"hid2",to:"/transactions",children:"Transactions"}),(0,Ae.jsx)(ke,{className:"hid3",to:"/bills",children:"Bills"}),(0,Ae.jsx)(ke,{className:"hid4",to:"/payment",children:"Payment"}),(0,Ae.jsx)(ke,{className:"a1",to:"/profile",children:"Profile"}),(0,Ae.jsx)(ke,{className:"a2",to:"/settings",children:"Settings"}),(0,Ae.jsx)(ke,{className:"a3",to:"/privacy-dashboard",children:"Privacy"}),(0,Ae.jsx)(ke,{to:"/",children:(0,Ae.jsx)("button",{className:"button_nav",children:"Log Out"})})]})]})};const it=function(){const[e,t]=(0,r.useState)(!1);return(0,Ae.jsxs)("div",{className:"Dashboard-all",children:[(0,Ae.jsxs)("div",{className:"nav-dashboard",children:[(0,Ae.jsx)("a",{children:(0,Ae.jsx)(ke,{className:"img",to:"/dashboard",children:(0,Ae.jsx)("img",{className:"logo",src:Fe})})}),(0,Ae.jsxs)("div",{className:"mid-nav-dash",children:[(0,Ae.jsx)(ke,{className:"nal",to:"/dashboard",children:(0,Ae.jsx)("a",{children:"Dashboard"})}),(0,Ae.jsx)(ke,{className:"nall",to:"/transactions",children:(0,Ae.jsx)("a",{children:"Transactions"})}),(0,Ae.jsx)(ke,{className:"nalll",to:"/bills",children:(0,Ae.jsx)("a",{children:"Bills"})}),(0,Ae.jsx)(ke,{className:"nallll",to:"/payment",children:(0,Ae.jsx)("a",{children:"Payment"})})]}),(0,Ae.jsxs)("div",{className:"end-nav-dash",children:[(0,Ae.jsx)(ke,{className:"alert-nav",to:"/notifications",style:{backgroundImage:"url(".concat(tt,")")}}),(0,Ae.jsx)("div",{className:"profile",style:{backgroundImage:"url(".concat(nt,")")},onClick:()=>{t(!e)}})]})]}),e&&(0,Ae.jsx)(rt,{})]})};const st=n.p+"static/media/arrow-left.64a886798e1981faff6f11bd602ac3d1.svg";const at=function(e){let{buttonText:t,page:n,link:r="/dashboard"}=e;return(0,Ae.jsxs)("div",{className:"nav-top-new",children:[(0,Ae.jsx)("h1",{children:n}),(0,Ae.jsxs)("a",{className:"right-nav",children:[(0,Ae.jsx)("img",{src:st,className:"icon"}),(0,Ae.jsx)(ke,{to:r,className:"hone",children:t})]})]})};const ot=function(){return(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)(it,{}),(0,Ae.jsx)(at,{buttonText:"Go back Dashboard",page:"Privacy Policy"}),(0,Ae.jsxs)("div",{className:"body_pravicy_dashboard",children:[(0,Ae.jsx)("p",{children:"Secure Bank is committed to protecting the privacy and security of your personal information. This Privacy Policy outlines how we collect, use, disclose, and protect the information you provide when using our website and services."}),(0,Ae.jsx)("h1",{children:"Transfer Fees and Privacy"}),(0,Ae.jsx)("p",{children:"When you initiate a money transfer through our website or services, please be aware that a transfer fee of 10% of the transfer amount will be deducted from the total amount sent. This transfer fee is applied to cover administrative costs and service maintenance."}),(0,Ae.jsx)("h1",{children:"Information Sharing"}),(0,Ae.jsx)("p",{children:"In order to process your money transfer and deduct the applicable transfer fee, we may collect and share certain information with our payment processing partners and financial institutions. This may include personal information such as your name, contact details, and transaction history."}),(0,Ae.jsx)("h1",{children:"Data Security"}),(0,Ae.jsx)("p",{children:"We take reasonable measures to protect the security and integrity of your personal information, including any data related to money transfers and transaction fees. However, it's important to note that while we strive to ensure the security of your information, no method of transmission over the internet or electronic storage is completely secure."}),(0,Ae.jsx)("h1",{children:"Updates to this Privacy Policy"}),(0,Ae.jsx)("p",{children:"We may update this Privacy Policy periodically to reflect changes in our practices or legal requirements, including any updates to our transfer fees or privacy practices. We will notify you of any significant changes by posting the updated policy on our website."})]})]})},lt=n.p+"static/media/profile.8d5654199a2611454a12.png";const ct=function(e){let{Image_Src:t=lt}=e;return(0,Ae.jsx)("div",{className:"icon-profile",style:{backgroundImage:"url(".concat(t,")")}})};const ut=function(e){let{text:t,onclick:n}=e;return(0,Ae.jsx)("button",{className:"button-all",onClick:n,children:t})};const ht=function(e){let{Name:t="Mohammed Abdullah",Status:n="Withdraw",Price:r="$20.00"}=e;return(0,Ae.jsxs)(ke,{to:"/transaction",className:"recent-trans",children:[(0,Ae.jsx)("h1",{id:"h1-trans",children:t}),(0,Ae.jsx)("h2",{id:"h2-trans",children:n}),(0,Ae.jsx)("h3",{id:"h3-trans",children:r})]})},dt=e=>{let{value:t,maxValue:n,color:r="#179A48",colorbg:i="#e6e6e6"}=e;const s=t/n*100,a=80,o=2*Math.PI*a;var l=0;return l=o*(120-s)/100>=477?o*(104-s)/100:o*(120-s)/100<=350?o*(111-s)/100:o*(108-s)/100,(0,Ae.jsxs)("svg",{className:"circle-progress",width:160,height:160,style:{stroke:r},children:[(0,Ae.jsx)("circle",{className:"circle-background",cx:a,cy:a,r:55,strokeWidth:25,style:{stroke:i}}),(0,Ae.jsx)("circle",{className:"circle-progress",cx:a,cy:a,r:67.5,strokeWidth:25,strokeDasharray:o,strokeDashoffset:l}),(0,Ae.jsxs)("text",{x:a,y:a,textAnchor:"middle",dy:".3em",children:[s.toFixed(2),"%"]})]})};const ft=function(e){let{NameCard:t="Withdraw",Price:n=200,Month:r=8,value:i=75,maxValue:s=100}=e;return(0,Ae.jsxs)("div",{className:"card-dashboard",children:[(0,Ae.jsxs)("div",{className:"right-card-dashboard",children:[(0,Ae.jsx)("h1",{children:t}),(0,Ae.jsxs)("h2",{children:["$",n]})]}),(0,Ae.jsxs)("div",{className:"left-card-dashboard",children:[(0,Ae.jsxs)("h1",{children:["Month ",r]}),(0,Ae.jsx)(dt,{value:i,maxValue:s,color:"#ebe6e6",colorbg:"#05D845"})]})]})};const pt=function(){return(0,Ae.jsxs)("div",{className:"dashboard",children:[(0,Ae.jsx)(it,{}),(0,Ae.jsxs)("div",{className:"content-dashboard",children:[(0,Ae.jsxs)("div",{className:"right-dashboard",children:[(0,Ae.jsxs)("div",{className:"top-dashboard",children:[(0,Ae.jsx)(ct,{}),(0,Ae.jsx)("h3",{children:"Account Balance"}),(0,Ae.jsx)("h1",{children:"$1432.00"}),(0,Ae.jsx)(ke,{to:"/withdraw",children:(0,Ae.jsx)(ut,{text:"Withdraw"})})]}),(0,Ae.jsxs)("div",{className:"down-dashboard",children:[(0,Ae.jsxs)("div",{className:"right-dashboard",children:[(0,Ae.jsx)("h1",{children:"Profile"}),(0,Ae.jsx)("h3",{children:"Personal Account"}),(0,Ae.jsx)(ke,{to:"/edit-profile",children:(0,Ae.jsx)(ut,{text:"Edit"})})]}),(0,Ae.jsxs)("div",{className:"left-dashboard",children:[(0,Ae.jsx)("h1",{children:"Mohammed Abdullah"}),(0,Ae.jsx)("h2",{children:"mohammed01112876210mo@gmail.com"}),(0,Ae.jsx)("h3",{children:"+201112876210"})]})]})]}),(0,Ae.jsxs)("div",{className:"left-dashboard",children:[(0,Ae.jsxs)("div",{className:"top-left-dashboard",children:[(0,Ae.jsx)("h1",{children:"Recent Transactions"}),(0,Ae.jsx)(ht,{Name:"Mohammed Abdullah",Status:"Withdraw",Price:"$20.00"}),(0,Ae.jsx)(ht,{Name:"Mohammed Abdullah",Status:"Withdraw",Price:"$20.00"}),(0,Ae.jsx)(ht,{Name:"Mohammed Abdullah",Status:"Withdraw",Price:"$20.00"}),(0,Ae.jsx)(ht,{Name:"Mohammed Abdullah",Status:"Withdraw",Price:"$20.00"}),(0,Ae.jsx)(ht,{Name:"Mohammed Abdullah",Status:"Withdraw",Price:"$20.00"}),(0,Ae.jsx)(ht,{Name:"Mohammed Abdullah",Status:"Withdraw",Price:"$20.00"}),(0,Ae.jsx)(ht,{Name:"Mohammed Abdullah",Status:"Withdraw",Price:"$20.00"})]}),(0,Ae.jsxs)("div",{className:"down-left-dashboard",children:[(0,Ae.jsxs)("div",{className:"right-down-left-dashbaord",children:[(0,Ae.jsx)(ft,{NameCard:"Withdraw",Price:"200.00",Month:"8",value:"75",maxValue:"100"}),(0,Ae.jsx)(ft,{NameCard:"Pay",Price:"100.00",Month:"8",value:"65",maxValue:"100"})]}),(0,Ae.jsxs)("div",{className:"left-down-left-dashboard",children:[(0,Ae.jsxs)("div",{className:"top",children:[(0,Ae.jsx)("h1",{children:"Account Summary"}),(0,Ae.jsx)("h2",{children:"All"})]}),(0,Ae.jsxs)("div",{className:"mid",children:[(0,Ae.jsxs)("div",{className:"first",children:[(0,Ae.jsx)("h1",{children:"Withdraw"}),(0,Ae.jsx)("h2",{children:"$2000.0"})]}),(0,Ae.jsxs)("div",{className:"second",children:[(0,Ae.jsx)("h1",{children:"Pay"}),(0,Ae.jsx)("h2",{children:"$1000.0"})]}),(0,Ae.jsxs)("div",{className:"third",children:[(0,Ae.jsx)("h1",{children:"Profit"}),(0,Ae.jsx)("h2",{children:"$1000.0"})]})]}),(0,Ae.jsx)(dt,{value:50,maxValue:100})]})]})]})]})]})};const mt=n.p+"static/media/Visa.c81de36921a158d2a5606ec19e285e77.svg",gt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAAB8CAYAAAAsA//9AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QA/wD/AP+gvaeTAAASO0lEQVR42u2de5DdZXnHP8/vd/acs/f7hd1NskEwylUuVkywKrUVSOswOnKrCSQkDShqtTP2onYC1jo42lbkUqCQ4SKCY9VqA9haO6IJKhgVDFqBJCS7m93sJdlLds/t93v6xyYRZJP9vZu9nN/m+c5kJjPnsme+z/t9n+/z/t73eYUFAgXZx+KlHsFpipws6FJFlwjSCDQc+ucDFUDJoY+NAnlgDOhXpFfQXmCXwg7QF0tI/qqWXQdYgNi/qaMmTfZMVE5BZCkhHQgtCk0CDQJlOsFVxaGP5AVGFQpAPzAgsA9hNyo7QXeA/3xqze6dIuhC4Eji+sN7aWr2SS5X9G3AH4CcCVo1SyTtUuQXEG4JYWsTtc8I23OxmkBuPSU1XjF2HsoKxFsh6JuAJbM0rIZRfU7gJ4GnPwz9YGvl6t59JpDZzRBeHyetALlUkEuAs+fx5xwEvi/wuIdurqN7dzFyNv5A62IpyMoQLhW4CCibr/AJ/FLhcVQfS+/p3iobCU0gM4A+WpcJskphNbCoGLUr8FSIPKrkHm1mX++8/pjbGysypcn3AdcAbwe8IuSsW9Gvo/JI2XVdT5lAXL0xHTUF8lcqrBZ4a4wycl7gPwS9u47u7wlz48NVkcymtnceEsV7X1EzxMEbbBe8u8cl8UDtmuKr9YpKIHtpaUyQ+BDoXwLVMV822C7I5+vp+opAMCt/YSNedknrSlQ2Kpwb83p4VNH7VP1byq/b020C+b2CW0h8TJAPz6NPni3sALmlgc77ZGL1Z0aEMb6k7X2i3Ay8YYHxlQXu14DPlK3v6jyhBdJDc5NP4iZgDZBiYWOHwM31dD0wXes1YaVar0W8T6O6dIHzlVXl3kCCjZVre/pOKIEoyABtqxS+yMTziRMJWwLkhhY6n3MaLfe0nxX6eiew/EQiS+GAJ7IxVd55m1w+O1a1qASyj7Y3AXfErPieaRQEvUPJfaqR/pFjDpC7WssyCe8TiP4tkDxRCRPYFoh3ffmaPU8vSIF001qWhM8p8iEmnmgbYA/wwUa6/nOyFzP3tr5HRW4H2o2qQxOLcFuqXP5OLu8cXzAC6aN1GcjXgLMsxpPi7gZqPnz46bxuJJFd3PoPinyCGO92mEX82vP896eu3b099gLpp/0Dit5JrNbm58VtPxOSuKLqgUKBgjzCiW1Bo2AUkQ2lazofjqVAdtKRriR3iyIfsVhGQ9lFB7Mlf+RpcFJp2tiIXMU/mC7o9bKheyw2AtlHR4uQfww4xyIYDZVXjJAqHZ4w2osqKSytMlIiD2L5WSHIraxYP/PbfGZcID00L/VJfBc41UIXIQAJpfqq/SS8V9ecQWMp+TfWglgJEo1I2SkBf5Je1/li0QpkgMWnhwTfBdosYhHITys1Vw/gB9lJXw9rUuTOqAffRBLRb/UEIpdUrOn6RdEJpJ/2t4ToZoF6C9TU8CpDqi8fwC8c+1hJWJUkd2Y9JDwjLVJJwgGR8D2la/b+sGgE0kf7O0AfA0otRBHEUaHUXNWPl4t25iqsTJI7u8EySXSMg1xSurbzB/MukB7az/TRJ4Eai0sEwlNKzaoB/HzW6XNhVZLcWSYSB6aHA9G3H6/d8o5PHM1LffS7Jo6I8JXqqwadxQHgDedIPj/IwjjpPSdmq8pXNo9vaumYF4F009rgk3gcOMmCEQ3VVw6R0Mz0gzWYoeS3+43I6GhF/f8eeaC5aU4F0k1rWQnyGLDMYhANFZeNUpI4ePxJqGeMRNeoERodpyQKiW/rpo70nAmkBL4EvNm4j4bUuVnSNUMz9n2Jl4bw9meN2Oh4S0bz/zQnAtlH2+Ug64zziATXBVScs39maweFkt8MIrnACI6OG8Y3tV/tXOq7vLmXRa/z0G2z1X9q4akDaq/tww9mp4VWWJOaWNmyha2oGBGf89PXdP12xjPIC5yS8gi/ZuKIjsrLRmZNHADegSyJPSNGtENINNCv6NdOT864QGoY/yzx75wxZ0i+IU+qevYHb2LXCHIwb4RHN03nZ0eHPjOjFmuQRWcEhNv4XU9bw7HgK3Vr+vDyczNww8oScuc0mdWKjoIXyHmp9Z3PHncGUZCA8DYTR3SUX3xwzsQB4I3k8btt6dcl8Ya+3q469ZQypUAGaFvNRAtLQ5TkURuSbpr7uqBk17Ctarnhwsx9U69qybHFUVcVUvob7Gl5ZFSv3k+JjM3L3w5aysgvq7UgREdvOp9aJht2DE0rgyilN5s4HArzZfl5EwdMPGWXUSvYHdCcLcl+eloWq5emZoW/MA6jo+zC4fk31y/bsq8LFG441l4t7+gvJD+One+Inj1OzZEIMvP+O/yBcbwRyyIu81oin/iok0AGObkadINx58Dy8pHi2Iqu4O+2LOIEkRv3b+qoiSyQgMxHif31A3NoaxYVSJApmt/jD4wj4wULTPRZpSpN/oORBNJDcznIjUaaQ/Z4R5E9g1BIdB20wLhx9nG9vbFiSoF4+FcAjcZYNHjlSjIxVnS/y+85CIEdP3RA/aGr644tEEFWGVfRkX7bGIRFOBADxe8ftwC5ZZFVxxTIIK2LgT80pqIj1TZWtL/N32s2y61Y551j97UuOqpACsgHKM5bUYuzOG8tTNnXal7t33DOinVHyoCrjioQQa82jhzs1QVFbmEU/IGMBcopibB6UoH0cdJ5IKcbRdGRrC9+j+/1WR3iKJHTc/e2nT1JBvH/zMhx8PctwZxuaZ+2QEZytsvXEYHHykkEohcbNQ726txsPJq4KdYBxZ20d79KIEO01wHnGzHRUdISn0FnAnHVh7xVH6qrOiKQHOEK7GJNN4slJpCFPP9ls+kLjghEEbsPzwGJxQWkEB9fL7kAyVgd4pZEvBVHBCJwgVHiML28Pn7byb3RnAXOTSLLX1mkn22EOAikKX6DTeyMiCveBOAN0NYO1BkfDvVHWRwziAnEEQ0jDzQ3eQFyhnHhONiI3/YNGbMtJ861Zpg40/MIX2dUOAy0lCL5+BW8ki0U567j4q7UT/YUb4kx4TCrtMV0NUixlSxXhNrhgZpAXOqP5vhaFcmaQNwIk6UeaIsx4VB/VIXxjXfeBOKYdps97F5zN4GUxlkgoQXQzZXWeyDWq9JlkKVjPMhMIG6xhjoPpMKocCDNj/FKkDVxcBVIhQeaNCpcPFZ8B5moCcTRYiU97N4Pt0EmMR5k5rBckbIGDQbDMeZDD7BNOi5pV2N8z5lNh67IeiC2D9rJpsRXICp2iaFjkZ71QK27mMsgC2I8yHwTiGORftBTGDAqHEjLxNenaMI8lmMG6fcE+o0KB4c1FuNBlrS2A44ZpN8D9hkVDgIZju8g0xLLII4K6fdAXjYmoiPYF2OBpCyDOHqsnZ6gO42J6Ch0+XENNpo2gbhxJju9AG+HMeEwC2cFLYnfQNNUAjxbxXITiO7wfPRXxoRjHaKJ+AmkLGGBc3ULXuE5r4HOLmwly60OGY/f/s6w0rbcOaKvcnXvvsPLGs8aH9GR3xe/waYVJhBH/AJ+11nxKePDQSD/F7/BFlbaqQa3GUW2HhFIiGwxRhy86Z5ErAp1Tfm2xOtan3vhliMCKSHxFGAn+l3qkDAVn+xRm7KAOc6BqTD34yMCqWXXAYWfGi8ONmtvjARSYwJxSx+6Va7rHzkikEN1yOPGTHRkfp6CmDxWsAziXH88cfi/r7yCbbMx42CxenzCZPEXvmFVErVNik7wAtn8GoE00r0NeNHoiY7cQLr4BdJYaoFySx/bU+s7n50kg4CiXzeCoiP7dJEPPoGgIW2BcpGHcv+rssmrBeJ91ShyKNR3J4raZoVVKTRtW0xcnDMJ7+GjCqSZzmeBp40nhyzSXV680W4pswA5ZVz5n7JrOruOKpBD77rHmIqO8R+UFudZ74QQWP3h6K948DUF+2tzTP5hO6fuYGNGhVy++GbqQnO5NWlwQ186H35jSoG00HtQ4EvGV3Qc/H5lcT0TEQjayi0wbpz9i2zoHptSIAA+qVuBA8ZaRK/f5VPQ4rEzQUMpWmrFuQOGMpTcMdkLkwqkjh1Div6r8RYdY1sriiOLCASLKi0gbpzdWrtm14HIAgEowBcBayoXEbkXkhS8+c8iQUOpHY5ydMgFDb58tBePKpBWuvuBu4w/B6Z/NM8zt0Cho8oC4USZ3F65tqfPWSATL47fBOw1GqMh/9sS8uH8rWgFLeV29twJ2pPKJ//x2Bo4BuoZHBb4ayMyOka/U436c9+gTUs8CkstezhxJnxMNuwYmrZAJkTS9RDwv0ZnxFn8gEemZ+6tVmFJlXVOdPJW+mTptd2PTvW2KRkVUA//w9g9ItFrkccrCBNzVyiHlUmCVnvu4YCcV9DrRdDjFshEFtm9HeSfjdeouRtGnqybm0ZtIuSX1cTm8FaRxOcLqfV7fx3lrZFzcgPNn1L4sbEbsWB/IUH2wOxbrcLSKrTclnUd8HS6suamqG+OLBDhZ3nF+wAwZBxHw8i3Kgn82TvuGtamKLTbLd4Oif0AQeEKuXx7bsYFAtDMnpcU1hnV0SMy9K06NDHzR161xCP/hlqzVi7RUFlbur7XqVm787JHE11fV7jD+I44yw96jG6b4YEskD+tzs6au5VqXyq7rvObrp+b1rrgQUr+CviJ0R4N2Z+nyAxWz1x987pqa+Xjlju2pMprpvU8b1oCWcquTApWAr8x9qNh9NsV5PPHvxQbnFRO0GZ1h0PueD6n8h6XuuO4BQJQRdeAB38M7LYgRMPQIzUUmH4ThbA+Tf7UGiMyOroIg0ur13UOTvcLjuvRaz1dnR7+pcCgxSLKCIehh+umtbIV1qTIvbHOinKH+cgL5NLSdXuP64rB496bUM/u7Up4GTBuMYlgh/PC0CP1BA7dUMKqJLkz6u0IbXSMqacrX9nfat4EAtDE3h96cJGdZY844McOiSQxtUjC6iS5s0wc0etxDiDhxWXXds/IjQUzyvoAi08PCZ4A2i1UEchPKzVXD+IHmaPbKsscLqN5rx9ySfK6rl/O3FfOMPbS0pHAfwJYZhGLEICEUn3lfhL+qx1q0FRKflmtXbwZHS+J5707fe2el2ZWc7OAHpqbfPzNIOdb3KKh8v0jpMqGJ04FLqq0sx1uo/in+ZyurNrQ3T/zXz1L2ElHupLcLYp8xCIYDWUXjY0n3yUUWkqt41v0ouPBdEGvn6xlT1EL5DD6aX+vovcCNRbNY+LpgMIVVff5BVH5KsIKo+SYGFF0Q9na7lntJz3rR9Aa6PwG8BYO3RpqeO0cKOitDbSsaKF3Z9na7j3pPV3vQOUmIDR6Jp3Vfy4i5822OOYkg7zSclWQ/xxwI2CdBSbwsiLXN9H5xGQvZv6tbaV63AksMqoAKIhya8or+aSs2ZWZIzHOLXppO9uHOxSWn8CBzgt6Z0j+k030jR4zvdzVWpZJeJ9A9G+AE3iHoj4Tqn9D+XV7npnjbDUfdRUyQNsqhS8AjSdYpH/g4X9o4hhzdGTub3u9BtzGxP63EwmDInJz6uXOL8vGubec87rIPkxbfQa5SdB1J8Ds+CLo3zcyfd+simQ2tf856E3AyQucr4yq3pNXb+PxbDaMtUAOY+K5SckHgY+BLrAHALpdkM/X0/WwQGFGvnEj3viStveJykbQ0xaYMA4qei++9/nfv8zmhBXIYXTT2lCCdyPoR4DamAf6WYEv1tP1FYFgVqS3ES+7pHWlqnwaeHPM+RpRdFMoyc9VrNnVUyw/qij3MQxycnVIZpUi64Cz4xNjGRb03xW5v4HOJ4Wp+y7NiFAUydzfdhEh64HLYmRXFdgiyIOpfPLRqbocmkAmQT+L3qyEVwLvpziXOwPgv0AeysA3F9E5r9v+h+9qbUgmuEI9LkflQubgWde06jHRh0QTD6bX7t5R1FNebJw8yCBtFyhcqujFIOfOX/BlWNHvCfKEkvhOE8VjCV5l5u9d1OqL/imEFyvyLmC+2s+HwM8QnlCVzaVrOn8apauhCeS46xWWg3chcAHoWUD1LGlzl6DbdMIObKmnc9tMFdxzNsHcdV7JeEnvuaDLPbhQRc5BtWM2xoDCAUGeE3gKCX+U82Rr1TVdsTwrtKD2Uu+lpcMncZpHeLIiSwUWK9oE1E/8kxSQBg5vBhw6NLuNgPRB2KdIr6A7Bdkp8EJI9leN9I+wAKEP1VWN59JnCHIqoh2oLAVtEbwGRRsFKnUiSx+eeMYFMopmgQGEAVHZB7wMugv1XlINnj/eY67FhP8HGRTt1cb/6PIAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDgtMzBUMjI6NDE6MDIrMDA6MDAmafXAAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTA4LTMwVDIyOjQxOjAyKzAwOjAwVzRNfAAAAABJRU5ErkJggg==";const vt=function(e){let{Image:t=mt,Title:n="Visa"}=e;return(0,Ae.jsxs)("div",{className:"card-content",children:[(0,Ae.jsx)("h1",{children:n}),(0,Ae.jsx)("div",{style:{backgroundImage:"url(".concat(t,")")},className:"img"}),(0,Ae.jsx)("input",{type:"radio",id:"visa",className:"form-check-input radio-input",name:"flexRadioDefault"})]})};const yt=function(){return(0,Ae.jsxs)("div",{className:"add-card-sign",children:[(0,Ae.jsx)("h1",{className:"id",children:"Add Card"}),(0,Ae.jsxs)("div",{className:"content-add-card-sign",children:[(0,Ae.jsxs)("div",{className:"right-add-card-sign",children:[(0,Ae.jsxs)("div",{className:"top-add-card-sign",children:[(0,Ae.jsx)(vt,{Title:"Visa",Image:mt}),(0,Ae.jsx)(vt,{Title:"Mastercard",Image:gt})]}),(0,Ae.jsxs)("div",{className:"down-add-card-sign",children:[(0,Ae.jsxs)("div",{className:"card-number-add-card-sign",children:[(0,Ae.jsx)("h1",{children:"Card Number"}),(0,Ae.jsx)("input",{className:"card-number",type:"number",min:"0",maxLength:30})]}),(0,Ae.jsxs)("div",{className:"row-add-card-sign",children:[(0,Ae.jsxs)("div",{className:"expire",children:[(0,Ae.jsx)("h1",{children:"Expiration Date"}),(0,Ae.jsx)("input",{type:"date"})]}),(0,Ae.jsxs)("div",{className:"cvc",children:[(0,Ae.jsx)("h1",{children:"CVC"}),(0,Ae.jsx)("input",{type:"number",maxLength:5,min:"0"})]})]})]})]}),(0,Ae.jsxs)("div",{className:"left-add-card-sign",children:[(0,Ae.jsx)("h1",{children:"Address"}),(0,Ae.jsx)("input",{type:"address"}),(0,Ae.jsx)(ke,{to:"/dashboard",children:(0,Ae.jsx)(ut,{text:"Confirm"})})]})]})]})};const wt=function(){return(0,Ae.jsxs)("div",{className:"add-card",children:[(0,Ae.jsx)(it,{}),(0,Ae.jsx)(at,{buttonText:"Go back Payment",page:"Add Card",link:"/payment"}),(0,Ae.jsxs)("div",{className:"content-add-card",children:[(0,Ae.jsxs)("div",{className:"right-add-card",children:[(0,Ae.jsxs)("div",{className:"top-add-card",children:[(0,Ae.jsx)(vt,{Title:"Visa",Image:mt}),(0,Ae.jsx)(vt,{Title:"Mastercard",Image:gt})]}),(0,Ae.jsxs)("div",{className:"down-add-card",children:[(0,Ae.jsxs)("div",{className:"card-number-add-card",children:[(0,Ae.jsx)("h1",{children:"Card Number"}),(0,Ae.jsx)("input",{className:"card-number",type:"number",min:"0",maxLength:30})]}),(0,Ae.jsxs)("div",{className:"row-add-card",children:[(0,Ae.jsxs)("div",{className:"expire",children:[(0,Ae.jsx)("h1",{children:"Expiration Date"}),(0,Ae.jsx)("input",{type:"date"})]}),(0,Ae.jsxs)("div",{className:"cvc",children:[(0,Ae.jsx)("h1",{children:"CVC"}),(0,Ae.jsx)("input",{type:"number",maxLength:5,min:"0"})]})]})]})]}),(0,Ae.jsxs)("div",{className:"left-add-card",children:[(0,Ae.jsx)("h1",{children:"Address"}),(0,Ae.jsx)("input",{type:"address"}),(0,Ae.jsx)(ut,{text:"Confirm"})]})]})]})};const bt=function(e){let{head1:t="The Item",price:n=0}=e;return(0,Ae.jsxs)("div",{className:"item",children:[(0,Ae.jsx)("h1",{children:t}),(0,Ae.jsxs)("h2",{children:["$",n]})]})};const xt=function(e){let{Date:t="2020-0-0",From:n="Sender",Title:r="Title Bill",To:i="Reciever",Status:s="Recieved",ContentBill:a="It is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout. The point of using Lorem Ipsum is that it has a more-or-less normal distribution of letters, as opposed to using 'Content here, content here', making it look like readable English. Many desktop publishing packages and web page editors now use Lorem Ipsum as their default model text, and a search for 'lorem ipsum' will uncover many web sites still in their infancy. Various versions have evolved over the years, sometimes by accident, sometimes on purpose (injected humour and the like).",Price:o=200}=e;return(0,Ae.jsxs)("div",{className:"billing-received",children:[(0,Ae.jsx)(it,{}),(0,Ae.jsx)(at,{buttonText:"Go back Bills",page:"Billing"}),(0,Ae.jsxs)("div",{className:"content",children:[(0,Ae.jsxs)("div",{className:"top",children:[(0,Ae.jsxs)("div",{className:"first",children:[(0,Ae.jsxs)("h1",{children:["Date: ",t]}),(0,Ae.jsxs)("h1",{children:["From: ",n]})]}),(0,Ae.jsxs)("div",{className:"middel",children:[(0,Ae.jsxs)("h1",{children:["Title: ",r]}),(0,Ae.jsxs)("h1",{children:["To: ",i]})]}),(0,Ae.jsxs)("div",{className:"end",children:[(0,Ae.jsx)("h1",{children:"Status"}),(0,Ae.jsxs)("button",{children:[" ",s," "]})]})]}),(0,Ae.jsxs)("div",{className:"middel",children:[(0,Ae.jsx)("p",{children:a}),(0,Ae.jsxs)("div",{className:"price",children:[(0,Ae.jsx)("h1",{className:"h1",children:"Total Price"}),(0,Ae.jsxs)("h1",{className:"h2",children:["$",o]})]})]}),(0,Ae.jsxs)("div",{className:"end",children:[(0,Ae.jsx)(bt,{head1:"T-shirt",price:20}),(0,Ae.jsx)(bt,{head1:"Dress",price:100}),(0,Ae.jsx)(bt,{head1:"Blouse",price:80}),(0,Ae.jsx)(bt,{head1:"Glass",price:10})]})]})]})};const _t=function(){const[e,t]=(0,r.useState)("option1");return(0,Ae.jsxs)("div",{className:"item-bill",children:[(0,Ae.jsxs)("div",{className:"top-item-bill",children:[(0,Ae.jsx)("h1",{children:"Item"}),(0,Ae.jsx)("input",{className:"title-one",type:"text",maxLength:30,placeholder:"Title"})]}),(0,Ae.jsxs)("div",{className:"row-item-bill",children:[(0,Ae.jsx)("input",{className:"price",type:"number",placeholder:"Price",min:"0",onInput:e=>{e.target.value=e.target.value.slice(0,6)}}),(0,Ae.jsxs)("select",{value:e,onChange:e=>{t(e.target.value)},children:[(0,Ae.jsx)("option",{value:"option1",children:"USD"}),(0,Ae.jsx)("option",{value:"option2",children:"EUR"}),(0,Ae.jsx)("option",{value:"option3",children:"EGP"})]})]})]})};const It=function(){const[e,t]=(0,r.useState)([]);return(0,Ae.jsxs)("div",{className:"billing",children:[(0,Ae.jsx)(it,{}),(0,Ae.jsx)(at,{page:"Billing",buttonText:"Go back Bills",link:"/bills"}),(0,Ae.jsxs)("div",{className:"content",children:[(0,Ae.jsxs)("div",{className:"right",children:[(0,Ae.jsxs)("div",{className:"top",children:[(0,Ae.jsx)("h1",{children:"Title"}),(0,Ae.jsx)("input",{className:"title",type:"text",maxLength:30})]}),(0,Ae.jsxs)("div",{className:"down",children:[(0,Ae.jsx)(_t,{}),e,(0,Ae.jsx)(ut,{text:"Add New Item",onclick:()=>{t([...e,(0,Ae.jsx)(_t,{})])}})]})]}),(0,Ae.jsxs)("div",{className:"left",children:[(0,Ae.jsx)("h1",{children:"Description"}),(0,Ae.jsx)("textarea",{className:"message-input",rows:10,maxLength:1500,onChange:e=>{console.log(e.target.value)}}),(0,Ae.jsx)("h1",{children:"To"}),(0,Ae.jsx)("input",{className:"to",type:"email",maxLength:30,placeholder:"Enter email"}),(0,Ae.jsx)(ut,{text:"Send"})]})]})]})};const St=function(){return(0,Ae.jsxs)("div",{className:"bills",children:[(0,Ae.jsx)(it,{}),(0,Ae.jsxs)("div",{className:"content-bills",children:[(0,Ae.jsxs)("div",{className:"top-bills",children:[(0,Ae.jsx)("h1",{children:"Bills"}),(0,Ae.jsx)(ke,{to:"/billing",children:(0,Ae.jsx)(ut,{text:"Create Billing"})})]}),(0,Ae.jsxs)("div",{className:"status",children:[(0,Ae.jsxs)("select",{className:"status-bills",children:[(0,Ae.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Status"}),(0,Ae.jsx)("option",{value:"option1",children:"Done"}),(0,Ae.jsx)("option",{value:"option2",children:"Fail"})]}),(0,Ae.jsx)("input",{type:"date",className:"date-bills",placeholder:"Date"}),(0,Ae.jsx)("input",{type:"text",className:"from-bills",placeholder:"From"}),(0,Ae.jsx)("input",{type:"text",className:"to-bills",placeholder:"To"})]}),(0,Ae.jsx)("div",{className:"table-bill",children:(0,Ae.jsxs)("table",{children:[(0,Ae.jsx)("thead",{children:(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("th",{children:"Date"}),(0,Ae.jsx)("th",{children:"Title"}),(0,Ae.jsx)("th",{children:"Total"}),(0,Ae.jsx)("th",{children:"From"}),(0,Ae.jsx)("th",{children:"To"}),(0,Ae.jsx)("th",{children:"Status"})]})}),(0,Ae.jsxs)("tbody",{children:[(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"td",to:"/transaction",children:"2020-1-1"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"td",to:"/transaction",children:"Pay Outfits"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"td",to:"/transaction",children:"$20.0"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"td",to:"/transaction",children:"Mohammed"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"td",to:"/transaction",children:"Ebrahim"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"td",to:"/transaction",children:"Withdraw"})})]}),(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"td",to:"/transaction",children:"2020-1-1"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"td",to:"/transaction",children:"Pay Outfits"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"td",to:"/transaction",children:"$20.0"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"td",to:"/transaction",children:"Mohammed"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"td",to:"/transaction",children:"Ebrahim"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"td",to:"/transaction",children:"Withdraw"})})]}),(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"td",to:"/transaction",children:"2020-1-1"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"td",to:"/transaction",children:"Pay Outfits"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"td",to:"/transaction",children:"$20.0"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"td",to:"/transaction",children:"Mohammed"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"td",to:"/transaction",children:"Ebrahim"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"td",to:"/transaction",children:"Withdraw"})})]}),(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"td",to:"/transaction",children:"2020-1-1"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"td",to:"/transaction",children:"Pay Outfits"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"td",to:"/transaction",children:"$20.0"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"td",to:"/transaction",children:"Mohammed"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"td",to:"/transaction",children:"Ebrahim"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"td",to:"/transaction",children:"Withdraw"})})]}),(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"td",to:"/transaction",children:"2020-1-1"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"td",to:"/transaction",children:"Pay Outfits"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"td",to:"/transaction",children:"$20.0"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"td",to:"/transaction",children:"Mohammed"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"td",to:"/transaction",children:"Ebrahim"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"td",to:"/transaction",children:"Withdraw"})})]}),(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"td",to:"/transaction",children:"2020-1-1"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"td",to:"/transaction",children:"Pay Outfits"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"td",to:"/transaction",children:"$20.0"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"td",to:"/transaction",children:"Mohammed"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"td",to:"/transaction",children:"Ebrahim"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"td",to:"/transaction",children:"Withdraw"})})]}),(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"td",to:"/transaction",children:"2020-1-1"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"td",to:"/transaction",children:"Pay Outfits"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"td",to:"/transaction",children:"$20.0"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"td",to:"/transaction",children:"Mohammed"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"td",to:"/transaction",children:"Ebrahim"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"td",to:"/transaction",children:"Withdraw"})})]}),(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"td",to:"/transaction",children:"2020-1-1"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"td",to:"/transaction",children:"Pay Outfits"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"td",to:"/transaction",children:"$20.0"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"td",to:"/transaction",children:"Mohammed"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"td",to:"/transaction",children:"Ebrahim"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"td",to:"/transaction",children:"Withdraw"})})]})]})]})})]})]})};const Et=function(){const[e,t]=(0,r.useState)(lt);return(0,Ae.jsx)("div",{className:"change-profile",style:{backgroundImage:"url(".concat(e,")")},children:(0,Ae.jsx)("label",{className:"profile-image-label",htmlFor:"profile-image-input",children:(0,Ae.jsx)("input",{type:"file",accept:"image/*",id:"profile-image-input",onChange:e=>{const n=e.target.files[0],r=new FileReader;r.onloadend=()=>{t(r.result)},n&&r.readAsDataURL(n)}})})})};const kt=function(){return(0,Ae.jsxs)("div",{className:"edit-profile",children:[(0,Ae.jsx)(it,{}),(0,Ae.jsx)(at,{buttonText:"Go back Dashboard",page:"Edit Profile",link:"/dashboard"}),(0,Ae.jsxs)("div",{className:"content",children:[(0,Ae.jsxs)("div",{className:"right-edit",children:[(0,Ae.jsx)(Et,{}),(0,Ae.jsxs)("div",{className:"row-edit-profile",children:[(0,Ae.jsxs)("div",{className:"right-right",children:[(0,Ae.jsx)("h1",{children:"First Name"}),(0,Ae.jsx)("input",{type:"text",maxLength:30})]}),(0,Ae.jsxs)("div",{className:"left",children:[(0,Ae.jsx)("h1",{children:"Last Name"}),(0,Ae.jsx)("input",{type:"text",maxLength:30})]})]}),(0,Ae.jsxs)("div",{className:"mid",children:[(0,Ae.jsx)("h1",{children:"Bio"}),(0,Ae.jsx)("input",{type:"text",maxLength:50})]}),(0,Ae.jsxs)("div",{className:"end-edit",children:[(0,Ae.jsxs)("div",{className:"first",children:[(0,Ae.jsx)("h1",{children:"Country"}),(0,Ae.jsx)("input",{type:"text",maxLength:30})]}),(0,Ae.jsxs)("div",{className:"second",children:[(0,Ae.jsx)("h1",{children:"City"}),(0,Ae.jsx)("input",{type:"text",maxLength:30})]}),(0,Ae.jsxs)("div",{className:"third",children:[(0,Ae.jsx)("h1",{children:"Postal Code"}),(0,Ae.jsx)("input",{type:"text",maxLength:30})]})]})]}),(0,Ae.jsxs)("div",{className:"left-left",children:[(0,Ae.jsxs)("div",{className:"top",children:[(0,Ae.jsx)("h1",{children:"Gender"}),(0,Ae.jsx)("input",{type:"text"})]}),(0,Ae.jsx)("div",{className:"mid-edit",children:(0,Ae.jsxs)("div",{className:"first",children:[(0,Ae.jsx)("h1",{children:"Date of Birth"}),(0,Ae.jsx)("input",{type:"number",placeholder:"Year"}),(0,Ae.jsx)("input",{type:"number",placeholder:"Month",min:"1",max:"12"}),(0,Ae.jsx)("input",{type:"number",placeholder:"Day",min:"1",max:"31"})]})}),(0,Ae.jsxs)("div",{className:"end",children:[(0,Ae.jsx)("h1",{children:"Tax ID"}),(0,Ae.jsx)("input",{type:"number"})]}),(0,Ae.jsxs)("div",{className:"button-end",children:[(0,Ae.jsx)(ut,{text:"Save"}),(0,Ae.jsx)(ut,{text:"Cancel"})]})]})]})]})},Tt=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Nt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,a=s?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let h=(15&a)<<2|l>>6,d=63&l;o||(d=64,s||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Tt(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const o=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==a||null==o)throw new Ct;const l=t<<2|s>>4;if(r.push(l),64!==a){const e=s<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Ct extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const At=function(e){return function(e){const t=Tt(e);return Nt.encodeByteArray(t,!0)}(e).replace(/\./g,"")},jt=function(e){try{return Nt.decodeString(e,!0)}catch(BE){console.error("base64Decode failed: ",BE)}return null};function Pt(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Pt(e[n],t[n]));return e}const Dt=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Rt=()=>{try{return Dt()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(BE){return}const t=e&&jt(e[1]);return t&&JSON.parse(t)})()}catch(BE){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(BE))}},Ot=()=>{var e;return null===(e=Rt())||void 0===e?void 0:e.config};class Lt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Mt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ft(){var e;const t=null===(e=Rt())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(BE){return!1}}function Ut(){return"object"===typeof self&&self.self===self}function Vt(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Bt(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function zt(){const e=Mt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function qt(){return!Ft()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Wt(){try{return"object"===typeof indexedDB}catch(BE){return!1}}class Gt extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Gt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Kt.prototype.create)}}class Kt{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Ht,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Gt(n,s,t)}}const Ht=/\{\$([^}]+)}/g;function Qt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Xt(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(Yt(n)&&Yt(s)){if(!Xt(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Yt(e){return null!==e&&"object"===typeof e}function Jt(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function $t(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function Zt(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function en(e,t){const n=new tn(e,t);return n.subscribe.bind(n)}class tn{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=nn),void 0===r.error&&(r.error=nn),void 0===r.complete&&(r.complete=nn);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(BE){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(BE){"undefined"!==typeof console&&console.error&&console.error(BE)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function nn(){}function rn(e){return e&&e._delegate?e._delegate:e}class sn{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const an="[DEFAULT]";class on{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Lt;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(BE){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(BE){if(r)return null;throw BE}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:an})}catch(BE){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(BE){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===an?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an;return this.component?this.component.multipleInstances?e:an:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ln{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new on(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const cn=[];var un;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(un||(un={}));const hn={debug:un.DEBUG,verbose:un.VERBOSE,info:un.INFO,warn:un.WARN,error:un.ERROR,silent:un.SILENT},dn=un.INFO,fn={[un.DEBUG]:"log",[un.VERBOSE]:"log",[un.INFO]:"info",[un.WARN]:"warn",[un.ERROR]:"error"},pn=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=fn[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class mn{constructor(e){this.name=e,this._logLevel=dn,this._logHandler=pn,this._userLogHandler=null,cn.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in un))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?hn[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,un.DEBUG,...t),this._logHandler(this,un.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,un.VERBOSE,...t),this._logHandler(this,un.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,un.INFO,...t),this._logHandler(this,un.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,un.WARN,...t),this._logHandler(this,un.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,un.ERROR,...t),this._logHandler(this,un.ERROR,...t)}}const gn=(e,t)=>t.some((t=>e instanceof t));let vn,yn;const wn=new WeakMap,bn=new WeakMap,xn=new WeakMap,_n=new WeakMap,In=new WeakMap;let Sn={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return bn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||xn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Tn(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function En(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(yn||(yn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Nn(this),n),Tn(wn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Tn(e.apply(Nn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(Nn(this),t,...r);return xn.set(s,t.sort?t.sort():[t]),Tn(s)}}function kn(e){return"function"===typeof e?En(e):(e instanceof IDBTransaction&&function(e){if(bn.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));bn.set(e,t)}(e),gn(e,vn||(vn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Sn):e)}function Tn(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(Tn(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&wn.set(t,e)})).catch((()=>{})),In.set(t,e),t}(e);if(_n.has(e))return _n.get(e);const t=kn(e);return t!==e&&(_n.set(e,t),In.set(t,e)),t}const Nn=e=>In.get(e);const Cn=["get","getKey","getAll","getAllKeys","count"],An=["put","add","delete","clear"],jn=new Map;function Pn(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(jn.get(t))return jn.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=An.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Cn.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),i&&t.done]))[0]};return jn.set(t,s),s}Sn=(e=>({...e,get:(t,n,r)=>Pn(t,n)||e.get(t,n,r),has:(t,n)=>!!Pn(t,n)||e.has(t,n)}))(Sn);class Dn{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const Rn="@firebase/app",On="0.10.1",Ln=new mn("@firebase/app"),Mn="[DEFAULT]",Fn={[Rn]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Un=new Map,Vn=new Map,Bn=new Map;function zn(e,t){try{e.container.addComponent(t)}catch(BE){Ln.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),BE)}}function qn(e,t){e.container.addOrOverwriteComponent(t)}function Wn(e){const t=e.name;if(Bn.has(t))return Ln.debug("There were multiple attempts to register component ".concat(t,".")),!1;Bn.set(t,e);for(const n of Un.values())zn(n,e);for(const n of Vn.values())zn(n,e);return!0}function Gn(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Kn(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Mn;Gn(e,t).clearInstance(n)}function Hn(e){return void 0!==e.options}function Qn(e){return void 0!==e.settings}function Xn(){Bn.clear()}const Yn=new Kt("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Jn{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new sn("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yn.create("app-deleted",{appName:this._name})}}class $n extends Jn{constructor(e,t,n,r){const i=void 0!==t.automaticDataCollectionEnabled&&t.automaticDataCollectionEnabled,s={name:n,automaticDataCollectionEnabled:i};if(void 0!==e.apiKey)super(e,s,r);else{super(e.options,s,r)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:i},t),this._finalizationRegistry=new FinalizationRegistry((()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,sr(Rn,On,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,void 0!==e&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){ir(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Yn.create("server-app-deleted")}}const Zn="10.11.0";function er(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Mn,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Yn.create("bad-app-name",{appName:String(i)});if(n||(n=Ot()),!n)throw Yn.create("no-options");const s=Un.get(i);if(s){if(Xt(n,s.options)&&Xt(r,s.config))return s;throw Yn.create("duplicate-app",{appName:i})}const a=new ln(i);for(const l of Bn.values())a.addComponent(l);const o=new Jn(n,r,a);return Un.set(i,o),o}function tr(e,t){if(Ut())throw Yn.create("invalid-server-app-environment");let n;void 0===t.automaticDataCollectionEnabled&&(t.automaticDataCollectionEnabled=!1),n=Hn(e)?e.options:e;const r=Object.assign(Object.assign({},t),n);void 0!==r.releaseOnDeref&&delete r.releaseOnDeref;if(void 0!==t.releaseOnDeref&&"undefined"===typeof FinalizationRegistry)throw Yn.create("finalization-registry-not-supported",{});const i=""+(s=JSON.stringify(r),[...s].reduce(((e,t)=>Math.imul(31,e)+t.charCodeAt(0)|0),0));var s;const a=Vn.get(i);if(a)return a.incRefCount(t.releaseOnDeref),a;const o=new ln(i);for(const c of Bn.values())o.addComponent(c);const l=new $n(n,t,i,o);return Vn.set(i,l),l}function nr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mn;const t=Un.get(e);if(!t&&e===Mn&&Ot())return er();if(!t)throw Yn.create("no-app",{appName:e});return t}function rr(){return Array.from(Un.values())}async function ir(e){let t=!1;const n=e.name;if(Un.has(n))t=!0,Un.delete(n);else if(Vn.has(n)){e.decRefCount()<=0&&(Vn.delete(n),t=!0)}t&&(await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function sr(e,t,n){var r;let i=null!==(r=Fn[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Ln.warn(e.join(" "))}Wn(new sn("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}function ar(e,t){if(null!==e&&"function"!==typeof e)throw Yn.create("invalid-log-argument");!function(e,t){for(const n of cn){let r=null;t&&t.level&&(r=hn[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];const o=s.map((e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((e=>e)).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:un[n].toLowerCase(),message:o,args:s,type:t.name})}}}(e,t)}function or(e){var t;t=e,cn.forEach((e=>{e.setLogLevel(t)}))}const lr="firebase-heartbeat-database",cr=1,ur="firebase-heartbeat-store";let hr=null;function dr(){return hr||(hr=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=Tn(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(Tn(a.result),e.oldVersion,e.newVersion,Tn(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),o.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),o}(lr,cr,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(ur)}catch(BE){console.warn(BE)}}}).catch((e=>{throw Yn.create("idb-open",{originalErrorMessage:e.message})}))),hr}async function fr(e,t){try{const n=(await dr()).transaction(ur,"readwrite"),r=n.objectStore(ur);await r.put(t,pr(e)),await n.done}catch(BE){if(BE instanceof Gt)Ln.warn(BE.message);else{const t=Yn.create("idb-set",{originalErrorMessage:null===BE||void 0===BE?void 0:BE.message});Ln.warn(t.message)}}}function pr(e){return"".concat(e.name,"!").concat(e.options.appId)}class mr{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new vr(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=gr();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=gr(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),yr(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),yr(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=At(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function gr(){return(new Date).toISOString().substring(0,10)}class vr{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Wt()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await dr()).transaction(ur),n=await t.objectStore(ur).get(pr(e));return await t.done,n}catch(BE){if(BE instanceof Gt)Ln.warn(BE.message);else{const t=Yn.create("idb-get",{originalErrorMessage:null===BE||void 0===BE?void 0:BE.message});Ln.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return fr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return fr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function yr(e){return At(JSON.stringify({version:2,heartbeats:e})).length}var wr;wr="",Wn(new sn("platform-logger",(e=>new Dn(e)),"PRIVATE")),Wn(new sn("heartbeat",(e=>new mr(e)),"PRIVATE")),sr(Rn,On,wr),sr(Rn,On,"esm2017"),sr("fire-js","");class br{constructor(e,t){this._delegate=e,this.firebase=t,zn(e,new sn("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),ir(this._delegate))))}_getService(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Mn;var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Mn;this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){zn(this._delegate,e)}_addOrOverwriteComponent(e){qn(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const xr=new Kt("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});const _r=function t(){const n=function(t){const n={},r={__esModule:!0,initializeApp:function(e){const i=er(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Qt(n,i.name))return n[i.name];const s=new t(i,r);return n[i.name]=s,s},app:i,registerVersion:sr,setLogLevel:or,onLog:ar,apps:null,SDK_VERSION:Zn,INTERNAL:{registerComponent:function(e){const n=e.name,s=n.replace("-compat","");if(Wn(e)&&"PUBLIC"===e.type){const a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[s])throw xr.create("invalid-app-argument",{appName:n});return e[s]()};void 0!==e.serviceProps&&Pt(a,e.serviceProps),r[s]=a,t.prototype[s]=function(){const t=this._getService.bind(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[s]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Qt(n,e=e||Mn))throw xr.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((e=>n[e]))}}),i.App=t,r}(br);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Pt(n,e)},createSubscribe:en,ErrorFactory:Kt,deepExtend:Pt}),n}(),Ir=new mn("@firebase/app-compat");if(Ut()&&void 0!==self.firebase){Ir.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&Ir.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Sr=_r;!function(e){sr("@firebase/app-compat","0.2.31",e)}();Sr.registerVersion("firebase","10.11.0","app-compat");function Er(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;const kr={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Tr="EMAIL_SIGNIN",Nr="PASSWORD_RESET",Cr="RECOVER_EMAIL",Ar="REVERT_SECOND_FACTOR_ADDITION",jr="VERIFY_AND_CHANGE_EMAIL",Pr="VERIFY_EMAIL";function Dr(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Rr=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Or=Dr,Lr=new Kt("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Mr=new mn("@firebase/auth");function Fr(e){if(Mr.logLevel<=un.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Mr.error("Auth (".concat(Zn,"): ").concat(e),...n)}}function Ur(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Wr(e,...n)}function Vr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Wr(e,...n)}function Br(e,t,n){const r=Object.assign(Object.assign({},Or()),{[t]:n});return new Kt("auth","Firebase",r).create(t,{appName:e.name})}function zr(e){return Br(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qr(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Ur(e,"argument-error"),Br(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Wr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Lr.create(e,...n)}function Gr(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Wr(t,...r)}}function Kr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Fr(t),new Error(t)}function Hr(e,t){e||Kr(t)}function Qr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Xr(){return"http:"===Yr()||"https:"===Yr()}function Yr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class Jr{constructor(e,t){this.shortDelay=e,this.longDelay=t,Hr(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mt())||Bt()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Xr()||Vt()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function $r(e,t){Hr(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Zr{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Kr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Kr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Kr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ei={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ti=new Jr(3e4,6e4);function ni(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function ri(e,t,n,r){return ii(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const a=Jt(Object.assign({key:e.config.apiKey},s)).slice(1),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode),Zr.fetch()(ai(e,e.config.apiHost,n,a),Object.assign({method:t,headers:o,referrerPolicy:"no-referrer"},i))}))}async function ii(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},ei),t);try{const t=new li(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw ci(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw ci(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw ci(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw ci(e,"user-disabled",s);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw Br(e,o,a);Ur(e,o)}}catch(BE){if(BE instanceof Gt)throw BE;Ur(e,"network-request-failed",{message:String(BE)})}}async function si(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await ri(e,t,n,r,i);return"mfaPendingCredential"in s&&Ur(e,"multi-factor-auth-required",{_serverResponse:s}),s}function ai(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?$r(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function oi(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class li{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Vr(this.auth,"network-request-failed"))),ti.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function ci(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Vr(e,t,r);return i.customData._tokenResponse=n,i}function ui(e){return void 0!==e&&void 0!==e.getResponse}function hi(e){return void 0!==e&&void 0!==e.enterprise}class di{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return oi(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function fi(e,t){return ri(e,"GET","/v2/recaptchaConfig",ni(e,t))}async function pi(e,t){return ri(e,"POST","/v1/accounts:lookup",t)}function mi(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(BE){}}function gi(e){return 1e3*Number(e)}function vi(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Fr("JWT malformed, contained fewer than 3 sections"),null;try{const e=jt(n);return e?JSON.parse(e):(Fr("Failed to decode base64 JWT payload"),null)}catch(BE){return Fr("Caught error parsing JWT payload as JSON",null===BE||void 0===BE?void 0:BE.toString()),null}}function yi(e){const t=vi(e);return Gr(t,"internal-error"),Gr("undefined"!==typeof t.exp,"internal-error"),Gr("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function wi(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(BE){throw BE instanceof Gt&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(BE)&&e.auth.currentUser===e&&await e.auth.signOut(),BE}}class bi{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(BE){return void((null===BE||void 0===BE?void 0:BE.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class xi{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=mi(this.lastLoginAt),this.creationTime=mi(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function _i(e){var t;const n=e.auth,r=await e.getIdToken(),i=await wi(e,pi(n,{idToken:r}));Gr(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?Ii(s.providerUserInfo):[],o=(l=e.providerData,c=a,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(null===o||void 0===o?void 0:o.length),d=!!u&&h,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new xi(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,f)}function Ii(e){return e.map((e=>{var{providerId:t}=e,n=Er(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class Si{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Gr(e.idToken,"internal-error"),Gr("undefined"!==typeof e.idToken,"internal-error"),Gr("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):yi(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Gr(0!==e.length,"internal-error");const t=yi(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Gr(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await ii(e,{},(async()=>{const n=Jt({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=ai(e,r,"/v1/token","key=".concat(i)),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Zr.fetch()(s,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new Si;return n&&(Gr("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(Gr("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(Gr("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Si,this.toJSON())}_performRefresh(){return Kr("not implemented")}}function Ei(e,t){Gr("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class ki{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Er(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new xi(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await wi(this,this.stsTokenManager.getToken(this.auth,e));return Gr(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=rn(e),r=await n.getIdToken(t),i=vi(r);Gr(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,a=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:mi(gi(i.auth_time)),issuedAtTime:mi(gi(i.iat)),expirationTime:mi(gi(i.exp)),signInProvider:a||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=rn(e);await _i(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Gr(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ki(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Gr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await _i(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qn(this.auth.app))return Promise.reject(zr(this.auth));const e=await this.getIdToken();return await wi(this,async function(e,t){return ri(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,a,o,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:w,isAnonymous:b,providerData:x,stsTokenManager:_}=t;Gr(y&&_,e,"internal-error");const I=Si.fromJSON(this.name,_);Gr("string"===typeof y,e,"internal-error"),Ei(u,e.name),Ei(h,e.name),Gr("boolean"===typeof w,e,"internal-error"),Gr("boolean"===typeof b,e,"internal-error"),Ei(d,e.name),Ei(f,e.name),Ei(p,e.name),Ei(m,e.name),Ei(g,e.name),Ei(v,e.name);const S=new ki({uid:y,auth:e,email:h,emailVerified:w,displayName:u,isAnonymous:b,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:I,createdAt:g,lastLoginAt:v});return x&&Array.isArray(x)&&(S.providerData=x.map((e=>Object.assign({},e)))),m&&(S._redirectEventId=m),S}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Si;r.updateFromServerResponse(t);const i=new ki({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await _i(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Gr(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?Ii(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),a=new Si;a.updateFromIdToken(n);const o=new ki({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new xi(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(o,l),o}}const Ti=new Map;function Ni(e){Hr(e instanceof Function,"Expected a class definition");let t=Ti.get(e);return t?(Hr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Ti.set(e,t),t)}class Ci{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Ci.type="NONE";const Ai=Ci;function ji(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class Pi{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=ji(this.userKey,r.apiKey,i),this.fullPersistenceKey=ji("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ki._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Pi(Ni(Ai),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||Ni(Ai);const s=ji(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(s);if(t){const n=ki._fromJSON(e,t);c!==i&&(a=n),i=c;break}}catch(l){}const o=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&o.length?(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(l){}}))),new Pi(i,e,n)):new Pi(i,e,n)}}function Di(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Mi(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Ri(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ui(t))return"Blackberry";if(Vi(t))return"Webos";if(Oi(t))return"Safari";if((t.includes("chrome/")||Li(t))&&!t.includes("edge/"))return"Chrome";if(Fi(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Ri(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt();return/firefox\//i.test(e)}function Oi(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Li(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt();return/crios\//i.test(e)}function Mi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt();return/iemobile/i.test(e)}function Fi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt();return/android/i.test(e)}function Ui(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt();return/blackberry/i.test(e)}function Vi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt();return/webos/i.test(e)}function Bi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function zi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt();return Bi(e)||Fi(e)||Vi(e)||Ui(e)||/windows phone/i.test(e)||Mi(e)}function qi(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Di(Mt());break;case"Worker":t="".concat(Di(Mt()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Zn,"/").concat(r)}class Wi{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(BE){r(BE)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(BE){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===BE||void 0===BE?void 0:BE.message})}}}class Gi{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(i=o.containsUppercaseLetter)||void 0===i||i),o.isValid&&(o.isValid=null===(s=o.containsNumericCharacter)||void 0===s||s),o.isValid&&(o.isValid=null===(a=o.containsNonAlphanumericCharacter)||void 0===a||a),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Ki{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Qi(this),this.idTokenSubscription=new Qi(this),this.beforeStateQueue=new Wi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Lr,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ni(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Pi.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(BE){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await pi(this,{idToken:e}),n=await ki._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Qn(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==s||!(null===a||void 0===a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(BE){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(BE)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Gr(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(BE){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await _i(e)}catch(BE){if((null===BE||void 0===BE?void 0:BE.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Qn(this.app))return Promise.reject(zr(this));const t=e?rn(e):null;return t&&Gr(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Gr(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return Qn(this.app)?Promise.reject(zr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Qn(this.app)?Promise.reject(zr(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(Ni(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return ri(e,"GET","/v2/passwordPolicy",ni(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Gi(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Kt("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return ri(e,"POST","/v2/accounts:revokeToken",ni(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ni(e)||this._popupRedirectResolver;Gr(t,this,"argument-error"),this.redirectPersistenceManager=await Pi.create(this,[Ni(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Gr(a,this,"internal-error"),a.then((()=>{s||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Gr(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Mr.logLevel<=un.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Mr.warn("Auth (".concat(Zn,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Hi(e){return rn(e)}class Qi{constructor(e){this.auth=e,this.observer=null,this.addObserver=en((e=>this.observer=e))}get next(){return Gr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Xi={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Yi(e){return Xi.loadJS(e)}function Ji(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class $i{constructor(e){this.type="recaptcha-enterprise",this.auth=Hi(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;hi(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{fi(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new di(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&hi(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Xi.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Yi(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Zi(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new $i(e);let s;try{s=await i.verify(n)}catch(o){s=await i.verify(n,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function es(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Zi(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await Zi(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function ts(e,t,n){const r=Hi(e);Gr(r._canInitEmulator,r,"emulator-config-failed"),Gr(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=ns(t),{host:a,port:o}=function(e){const t=ns(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:rs(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:rs(t)}}}(t),l=null===o?"":":".concat(o);r.config.emulator={url:"".concat(s,"//").concat(a).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function ns(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function rs(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class is{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Kr("not implemented")}_getIdTokenResponse(e){return Kr("not implemented")}_linkToIdToken(e,t){return Kr("not implemented")}_getReauthenticationResolver(e){return Kr("not implemented")}}async function ss(e,t){return ri(e,"POST","/v1/accounts:resetPassword",ni(e,t))}async function as(e,t){return ri(e,"POST","/v1/accounts:signUp",t)}async function os(e,t){return si(e,"POST","/v1/accounts:signInWithPassword",ni(e,t))}async function ls(e,t){return ri(e,"POST","/v1/accounts:sendOobCode",ni(e,t))}async function cs(e,t){return ls(e,t)}async function us(e,t){return ls(e,t)}class hs extends is{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new hs(e,t,"password")}static _fromEmailAndCode(e,t){return new hs(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return es(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",os);case"emailLink":return async function(e,t){return si(e,"POST","/v1/accounts:signInWithEmailLink",ni(e,t))}(e,{email:this._email,oobCode:this._password});default:Ur(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return es(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",as);case"emailLink":return async function(e,t){return si(e,"POST","/v1/accounts:signInWithEmailLink",ni(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Ur(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ds(e,t){return si(e,"POST","/v1/accounts:signInWithIdp",ni(e,t))}class fs extends is{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new fs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ur("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Er(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new fs(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return ds(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,ds(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ds(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Jt(t)}return e}}const ps={USER_NOT_FOUND:"user-not-found"};class ms extends is{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new ms({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new ms({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return si(e,"POST","/v1/accounts:signInWithPhoneNumber",ni(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await si(e,"POST","/v1/accounts:signInWithPhoneNumber",ni(e,t));if(n.temporaryProof)throw ci(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return si(e,"POST","/v1/accounts:signInWithPhoneNumber",ni(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),ps)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new ms({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class gs{constructor(e){var t,n,r,i,s,a;const o=$t(Zt(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);Gr(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=o.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=$t(Zt(e)).link,n=t?$t(Zt(t)).deep_link_id:null,r=$t(Zt(e)).deep_link_id;return(r?$t(Zt(r)).link:null)||r||n||t||e}(e);try{return new gs(t)}catch(n){return null}}}class vs{constructor(){this.providerId=vs.PROVIDER_ID}static credential(e,t){return hs._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=gs.parseLink(t);return Gr(n,"argument-error"),hs._fromEmailAndCode(e,n.code,n.tenantId)}}vs.PROVIDER_ID="password",vs.EMAIL_PASSWORD_SIGN_IN_METHOD="password",vs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class ys{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ws extends ys{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class bs extends ws{static credentialFromJSON(e){const t="string"===typeof e?JSON.parse(e):e;return Gr("providerId"in t&&"signInMethod"in t,"argument-error"),fs._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return Gr(e.idToken||e.accessToken,"argument-error"),fs._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return bs.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return bs.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:a,providerId:o}=t;if(!r&&!i&&!n&&!s)return null;if(!o)return null;try{return new bs(o)._credential({idToken:n,accessToken:r,nonce:a,pendingToken:s})}catch(BE){return null}}}class xs extends ws{constructor(){super("facebook.com")}static credential(e){return fs._fromParams({providerId:xs.PROVIDER_ID,signInMethod:xs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xs.credentialFromTaggedObject(e)}static credentialFromError(e){return xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return xs.credential(t.oauthAccessToken)}catch(n){return null}}}xs.FACEBOOK_SIGN_IN_METHOD="facebook.com",xs.PROVIDER_ID="facebook.com";class _s extends ws{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return fs._fromParams({providerId:_s.PROVIDER_ID,signInMethod:_s.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return _s.credentialFromTaggedObject(e)}static credentialFromError(e){return _s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return _s.credential(n,r)}catch(i){return null}}}_s.GOOGLE_SIGN_IN_METHOD="google.com",_s.PROVIDER_ID="google.com";class Is extends ws{constructor(){super("github.com")}static credential(e){return fs._fromParams({providerId:Is.PROVIDER_ID,signInMethod:Is.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Is.credentialFromTaggedObject(e)}static credentialFromError(e){return Is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Is.credential(t.oauthAccessToken)}catch(n){return null}}}Is.GITHUB_SIGN_IN_METHOD="github.com",Is.PROVIDER_ID="github.com";class Ss extends is{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return ds(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,ds(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ds(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new Ss(n,i):null}static _create(e,t){return new Ss(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Es extends ys{constructor(e){Gr(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return Es.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Es.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=Ss.fromJSON(e);return Gr(t,"argument-error"),t}static samlCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{pendingToken:n,providerId:r}=t;if(!n||!r)return null;try{return Ss._create(r,n)}catch(BE){return null}}}class ks extends ws{constructor(){super("twitter.com")}static credential(e,t){return fs._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ks.credentialFromTaggedObject(e)}static credentialFromError(e){return ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return ks.credential(n,r)}catch(i){return null}}}async function Ts(e,t){return si(e,"POST","/v1/accounts:signUp",ni(e,t))}ks.TWITTER_SIGN_IN_METHOD="twitter.com",ks.PROVIDER_ID="twitter.com";class Ns{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await ki._fromIdTokenResponse(e,n,r),s=Cs(n);return new Ns({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Cs(n);return new Ns({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Cs(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class As extends Gt{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,As.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new As(e,t,n,r)}}function js(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw As._fromErrorAndOperation(e,n,t,r);throw n}))}function Ps(e){return new Set(e.map((e=>{let{providerId:t}=e;return t})).filter((e=>!!e)))}async function Ds(e,t){const n=rn(e);await Os(!0,n,t);const{providerUserInfo:r}=await async function(e,t){return ri(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),i=Ps(r||[]);return n.providerData=n.providerData.filter((e=>i.has(e.providerId))),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function Rs(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await wi(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Ns._forOperation(e,"link",r)}async function Os(e,t,n){await _i(t);const r=!1===e?"provider-already-linked":"no-such-provider";Gr(Ps(t.providerData).has(n)===e,t.auth,r)}async function Ls(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(Qn(r.app))return Promise.reject(zr(r));const i="reauthenticate";try{const s=await wi(e,js(r,i,t,e),n);Gr(s.idToken,r,"internal-error");const a=vi(s.idToken);Gr(a,r,"internal-error");const{sub:o}=a;return Gr(e.uid===o,r,"user-mismatch"),Ns._forOperation(e,i,s)}catch(BE){throw(null===BE||void 0===BE?void 0:BE.code)==="auth/".concat("user-not-found")&&Ur(r,"user-mismatch"),BE}}async function Ms(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Qn(e.app))return Promise.reject(zr(e));const r="signIn",i=await js(e,r,t),s=await Ns._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function Fs(e,t){return Ms(Hi(e),t)}async function Us(e,t){const n=rn(e);return await Os(!1,n,t.providerId),Rs(n,t)}async function Vs(e,t){return Ls(rn(e),t)}async function Bs(e,t){if(Qn(e.app))return Promise.reject(zr(e));const n=Hi(e),r=await async function(e,t){return si(e,"POST","/v1/accounts:signInWithCustomToken",ni(e,t))}(n,{token:t,returnSecureToken:!0}),i=await Ns._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}class zs{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?qs._fromServerResponse(e,t):"totpInfo"in t?Ws._fromServerResponse(e,t):Ur(e,"internal-error")}}class qs extends zs{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new qs(t)}}class Ws extends zs{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new Ws(t)}}function Gs(e,t,n){var r;Gr((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Gr("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Gr(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Gr(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function Ks(e){const t=Hi(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Hs(e,t){await async function(e,t){return ri(e,"POST","/v1/accounts:update",ni(e,t))}(rn(e),{oobCode:t})}async function Qs(e,t){const n=rn(e),r=await ss(n,{oobCode:t}),i=r.requestType;switch(Gr(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Gr(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Gr(r.mfaInfo,n,"internal-error");default:Gr(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=zs._fromServerResponse(Hi(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function Xs(e,t){const n={identifier:t,continueUri:Xr()?Qr():"http://localhost"},{signinMethods:r}=await async function(e,t){return ri(e,"POST","/v1/accounts:createAuthUri",ni(e,t))}(rn(e),n);return r||[]}async function Ys(e,t){const n=rn(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&Gs(n.auth,r,t);const{email:i}=await async function(e,t){return ls(e,t)}(n.auth,r);i!==e.email&&await e.reload()}async function Js(e,t,n){const r=rn(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&Gs(r.auth,i,n);const{email:s}=await async function(e,t){return ls(e,t)}(r.auth,i);s!==e.email&&await e.reload()}async function $s(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=rn(e),s={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},a=await wi(i,async function(e,t){return ri(e,"POST","/v1/accounts:update",t)}(i.auth,s));i.displayName=a.displayName||null,i.photoURL=a.photoUrl||null;const o=i.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));o&&(o.displayName=i.displayName,o.photoURL=i.photoURL),await i._updateTokensIfNecessary(a)}async function Zs(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const s=await wi(e,async function(e,t){return ri(e,"POST","/v1/accounts:update",t)}(r,i));await e._updateTokensIfNecessary(s,!0)}class ea{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.isNewUser=e,this.providerId=t,this.profile=n}}class ta extends ea{constructor(e,t,n,r){super(e,t,n),this.username=r}}class na extends ea{constructor(e,t){super(e,"facebook.com",t)}}class ra extends ta{constructor(e,t){super(e,"github.com",t,"string"===typeof(null===t||void 0===t?void 0:t.login)?null===t||void 0===t?void 0:t.login:null)}}class ia extends ea{constructor(e,t){super(e,"google.com",t)}}class sa extends ta{constructor(e,t,n){super(e,"twitter.com",t,n)}}function aa(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},s=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){const r=null===(n=null===(t=vi(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new ea(s,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new na(s,i);case"github.com":return new ra(s,i);case"google.com":return new ia(s,i);case"twitter.com":return new sa(s,i,e.screenName||null);case"custom":case"anonymous":return new ea(s,null);default:return new ea(s,r,i)}}(n)}class oa{constructor(e,t,n){this.type=e,this.credential=t,this.user=n}static _fromIdtoken(e,t){return new oa("enroll",e,t)}static _fromMfaPendingCredential(e){return new oa("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null===e||void 0===e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return oa._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return oa._fromIdtoken(e.multiFactorSession.idToken)}return null}}class la{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=Hi(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map((e=>zs._fromServerResponse(n,e)));Gr(r.mfaPendingCredential,n,"internal-error");const s=oa._fromMfaPendingCredential(r.mfaPendingCredential);return new la(s,i,(async e=>{const i=await e._process(n,s);delete r.mfaInfo,delete r.mfaPendingCredential;const a=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=await Ns._fromIdTokenResponse(n,t.operationType,a);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return Gr(t.user,n,"internal-error"),Ns._forOperation(t.user,t.operationType,a);default:Ur(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}class ca{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>zs._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new ca(e)}async getSession(){return oa._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const n=e,r=await this.getSession(),i=await wi(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"===typeof e?e:e.uid,n=await this.user.getIdToken();try{const e=await wi(this.user,function(e,t){return ri(e,"POST","/v2/accounts/mfaEnrollment:withdraw",ni(e,t))}(this.user.auth,{idToken:n,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter((e=>{let{uid:n}=e;return n!==t})),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(BE){throw BE}}}const ua=new WeakMap;const ha="__sak";class da{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ha,"1"),this.storage.removeItem(ha),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class fa extends da{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=Mt();return Oi(e)||Bi(e)}()&&function(){try{return!(!window||window===window.top)}catch(BE){return!1}}(),this.fallbackToPolling=zi(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);zt()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}fa.type="LOCAL";const pa=fa;class ma extends da{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}ma.type="SESSION";const ga=ma;class va{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new va(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(s).map((async e=>e(t.origin,i))),o=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function ya(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}va.receivers=[];class wa{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((a,o)=>{const l=ya("",20);r.port1.start();const c=setTimeout((()=>{o(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{o(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function ba(){return window}function xa(){return"undefined"!==typeof ba().WorkerGlobalScope&&"function"===typeof ba().importScripts}const _a="firebaseLocalStorageDb",Ia="firebaseLocalStorage",Sa="fbase_key";class Ea{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function ka(e,t){return e.transaction([Ia],t?"readwrite":"readonly").objectStore(Ia)}function Ta(){const e=indexedDB.open(_a,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Ia,{keyPath:Sa})}catch(BE){n(BE)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Ia)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(_a);return new Ea(e).toPromise()}(),t(await Ta()))}))}))}async function Na(e,t,n){const r=ka(e,!0).put({[Sa]:t,value:n});return new Ea(r).toPromise()}function Ca(e,t){const n=ka(e,!0).delete(t);return new Ea(n).toPromise()}class Aa{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Ta()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(BE){if(t++>3)throw BE;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xa()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=va._getInstance(xa()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new wa(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ta();return await Na(e,ha,"1"),await Ca(e,ha),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Na(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=ka(e,!1).get(t),r=await new Ea(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Ca(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=ka(e,!1).getAll();return new Ea(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Aa.type="LOCAL";const ja=Aa;const Pa=1e12;class Da{constructor(e){this.auth=e,this.counter=Pa,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new Ra(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||Pa;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||Pa;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||Pa;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class Ra{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"===typeof e?document.getElementById(e):e;Gr(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(BE){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(BE){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Oa=Ji("rcb"),La=new Jr(3e4,6e4);class Ma{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=ba().grecaptcha)||void 0===e?void 0:e.render)}load(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Gr(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&ui(ba().grecaptcha)?Promise.resolve(ba().grecaptcha):new Promise(((n,r)=>{const i=ba().setTimeout((()=>{r(Vr(e,"network-request-failed"))}),La.get());ba()[Oa]=()=>{ba().clearTimeout(i),delete ba()[Oa];const s=ba().grecaptcha;if(!s||!ui(s))return void r(Vr(e,"internal-error"));const a=s.render;s.render=(e,t)=>{const n=a(e,t);return this.counter++,n},this.hostLanguage=t,n(s)};Yi("".concat(Xi.recaptchaV2Script,"?").concat(Jt({onload:Oa,render:"explicit",hl:t}))).catch((()=>{clearTimeout(i),r(Vr(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=ba().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Fa{async load(e){return new Da(e)}clearedOneInstance(){}}const Ua="recaptcha",Va={theme:"light",type:"image"};class Ba{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},Va);this.parameters=n,this.type=Ua,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Hi(e),this.isInvisible="invisible"===this.parameters.size,Gr("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"===typeof t?document.getElementById(t):t;Gr(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Fa:new Ma,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise((n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(BE){return Promise.reject(BE)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){Gr(!this.parameters.sitekey,this.auth,"argument-error"),Gr(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Gr("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"===typeof e)e(t);else if("string"===typeof e){const n=ba()[e];"function"===typeof n&&n(t)}}}assertNotDestroyed(){Gr(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){Gr(Xr()&&!xa(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await ri(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);Gr(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return Gr(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class za{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=ms._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function qa(e,t,n){var r;const i=await n.verify();try{let s;if(Gr("string"===typeof i,e,"argument-error"),Gr(n.type===Ua,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){Gr("enroll"===t.type,e,"internal-error");const n=await function(e,t){return ri(e,"POST","/v2/accounts/mfaEnrollment:start",ni(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{Gr("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;Gr(n,e,"missing-multi-factor-info");const a=await function(e,t){return ri(e,"POST","/v2/accounts/mfaSignIn:start",ni(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return ri(e,"POST","/v1/accounts:sendVerificationCode",ni(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Wa{constructor(e){this.providerId=Wa.PROVIDER_ID,this.auth=Hi(e)}verifyPhoneNumber(e,t){return qa(this.auth,e,rn(t))}static credential(e,t){return ms._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Wa.credentialFromTaggedObject(t)}static credentialFromError(e){return Wa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?ms._fromTokenResponse(n,r):null}}function Ga(e,t){return t?Ni(t):(Gr(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Wa.PROVIDER_ID="phone",Wa.PHONE_SIGN_IN_METHOD="phone";class Ka extends is{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ds(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ds(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ds(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Ha(e){return Ms(e.auth,new Ka(e),e.bypassAuthState)}function Qa(e){const{auth:t,user:n}=e;return Gr(n,t,"internal-error"),Ls(n,new Ka(e),e.bypassAuthState)}async function Xa(e){const{auth:t,user:n}=e;return Gr(n,t,"internal-error"),Rs(n,new Ka(e),e.bypassAuthState)}class Ya{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(BE){this.reject(BE)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:a}=e;if(s)return void this.reject(s);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(BE){this.reject(BE)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ha;case"linkViaPopup":case"linkViaRedirect":return Xa;case"reauthViaPopup":case"reauthViaRedirect":return Qa;default:Ur(this.auth,"internal-error")}}resolve(e){Hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ja=new Jr(2e3,1e4);class $a extends Ya{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,$a.currentPopupAction&&$a.currentPopupAction.cancel(),$a.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Gr(e,this.auth,"internal-error"),e}async onExecution(){Hr(1===this.filter.length,"Popup operations only handle one event");const e=ya();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Vr(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Vr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$a.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Vr(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Ja.get())};e()}}$a.currentPopupAction=null;const Za="pendingRedirect",eo=new Map;class to extends Ya{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=eo.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=so(t),r=io(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(BE){e=()=>Promise.reject(BE)}eo.set(this.auth._key(),e)}return this.bypassAuthState||eo.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function no(e,t){return io(e)._set(so(t),"true")}function ro(e,t){eo.set(e._key(),t)}function io(e){return Ni(e._redirectPersistence)}function so(e){return ji(Za,e.config.apiKey,e.name)}function ao(e,t,n){return async function(e,t,n){if(Qn(e.app))return Promise.reject(zr(e));const r=Hi(e);qr(e,t,ys),await r._initializationPromise;const i=Ga(r,n);return await no(i,r),i._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}function oo(e,t,n){return async function(e,t,n){const r=rn(e);if(qr(r.auth,t,ys),Qn(r.auth.app))return Promise.reject(zr(r.auth));await r.auth._initializationPromise;const i=Ga(r.auth,n);await no(i,r.auth);const s=await uo(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",s)}(e,t,n)}function lo(e,t,n){return async function(e,t,n){const r=rn(e);qr(r.auth,t,ys),await r.auth._initializationPromise;const i=Ga(r.auth,n);await Os(!1,r,t.providerId),await no(i,r.auth);const s=await uo(r);return i._openRedirect(r.auth,t,"linkViaRedirect",s)}(e,t,n)}async function co(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Qn(e.app))return Promise.reject(zr(e));const r=Hi(e),i=Ga(r,t),s=new to(r,i,n),a=await s.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}async function uo(e){const t=ya("".concat(e.uid,":::"));return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class ho{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return po(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!po(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Vr(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(fo(e))}saveEventToCache(e){this.cachedEventUids.add(fo(e)),this.lastProcessedEventTime=Date.now()}}function fo(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function po(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}async function mo(e){return ri(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}const go=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vo=/^https?/;function yo(e){const t=Qr(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!vo.test(n))return!1;if(go.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const wo=new Jr(3e4,6e4);function bo(){const e=ba().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function xo(e){return new Promise(((t,n)=>{var r,i,s;function a(){bo(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{bo(),n(Vr(e,"network-request-failed"))},timeout:wo.get()})}if(null===(i=null===(r=ba().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=ba().gapi)||void 0===s?void 0:s.load)){const t=Ji("iframefcb");return ba()[t]=()=>{gapi.load?a():n(Vr(e,"network-request-failed"))},Yi("".concat(Xi.gapiScript,"?onload=").concat(t)).catch((e=>n(e)))}a()}})).catch((e=>{throw _o=null,e}))}let _o=null;const Io=new Jr(5e3,15e3),So="__/auth/iframe",Eo="emulator/auth/iframe",ko={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},To=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function No(e){const t=e.config;Gr(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?$r(t,Eo):"https://".concat(e.config.authDomain,"/").concat(So),r={apiKey:t.apiKey,appName:e.name,v:Zn},i=To.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(Jt(r).slice(1))}async function Co(e){const t=await function(e){return _o=_o||xo(e),_o}(e),n=ba().gapi;return Gr(n,e,"internal-error"),t.open({where:document.body,url:No(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ko,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Vr(e,"network-request-failed"),s=ba().setTimeout((()=>{r(i)}),Io.get());function a(){ba().clearTimeout(s),n(t)}t.ping(a).then(a,(()=>{r(i)}))}))))}const Ao={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class jo{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(BE){}}}function Po(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},Ao),{width:r.toString(),height:i.toString(),top:s,left:a}),c=Mt().toLowerCase();n&&(o=Li(c)?"_blank":n),Ri(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return Bi(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new jo(null);const h=window.open(t||"",o,u);Gr(h,e,"popup-blocked");try{h.focus()}catch(BE){}return new jo(h)}const Do="__/auth/handler",Ro="emulator/auth/handler",Oo=encodeURIComponent("fac");async function Lo(e,t,n,r,i,s){Gr(e.config.authDomain,e,"auth-domain-config-required"),Gr(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Zn,eventId:i};if(t instanceof ys){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))a[e]=t}if(t instanceof ws){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?"#".concat(Oo,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Do);return $r(t,Ro)}(e),"?").concat(Jt(o).slice(1)).concat(c)}const Mo="webStorageSupport";const Fo=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ga,this._completeRedirectFn=co,this._overrideRedirectResult=ro}async _openPopup(e,t,n,r){var i;Hr(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Po(e,await Lo(e,t,n,Qr(),r),ya())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){ba().location.href=e}(await Lo(e,t,n,Qr(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Hr(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await Co(e),n=new ho(e);return t.register("authEvent",(t=>{Gr(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Mo,{type:Mo},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Mo];void 0!==i&&t(!!i),Ur(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await mo(e);for(const r of t)try{if(yo(r))return}catch(n){}Ur(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return zi()||Oi()||Bi()}};class Uo{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Kr("unexpected MultiFactorSessionType")}}}class Vo extends Uo{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Vo(e)}_finalizeEnroll(e,t,n){return function(e,t){return ri(e,"POST","/v2/accounts/mfaEnrollment:finalize",ni(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return ri(e,"POST","/v2/accounts/mfaSignIn:finalize",ni(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Bo{constructor(){}static assertion(e){return Vo._fromCredential(e)}}Bo.FACTOR_ID="phone";var zo="@firebase/auth",qo="1.7.1";class Wo{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Gr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(e=>{var t;null===(t=Rt())||void 0===t||t["_".concat(e)]})("authIdTokenMaxAge");var Go;function Ko(){return window}!function(e){Xi=e}({loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Vr("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),Go="Browser",Wn(new sn("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;Gr(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:Go,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qi(Go)},c=new Ki(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ni);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Wn(new sn("auth-internal",(e=>(e=>new Wo(e))(Hi(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),sr(zo,qo,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Go)),sr(zo,qo,"esm2017");async function Ho(e,t,n){var r;const{BuildInfo:i}=Ko();Hr(t.sessionId,"AuthEvent did not contain a session ID");const s=await async function(e){const t=function(e){if(Hr(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(t.sessionId),a={};return Bi()?a.ibi=i.packageName:Fi()?a.apn=i.packageName:Ur(e,"operation-not-supported-in-this-environment"),i.displayName&&(a.appDisplayName=i.displayName),a.sessionId=s,Lo(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,a)}function Qo(e){const{cordova:t}=Ko();return new Promise((n=>{t.plugins.browsertab.isAvailable((r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}const Xo=20;class Yo extends ho{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}async function Jo(e){const t=await el()._get(tl(e));return t&&await el()._remove(tl(e)),t}function $o(e,t){var n,r;const i=function(e){const t=nl(e),n=t.link?decodeURIComponent(t.link):void 0,r=nl(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return nl(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=nl(i),s=t.firebaseError?function(e){try{return JSON.parse(e)}catch(BE){return null}}(decodeURIComponent(t.firebaseError)):null,a=null===(r=null===(n=null===s||void 0===s?void 0:s.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],o=a?Vr(a):null;return o?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:o,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Zo(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<Xo;n++){const n=Math.floor(62*Math.random());e.push(t.charAt(n))}return e.join("")}function el(){return Ni(pa)}function tl(e){return ji("authEvent",e.config.apiKey,e.name)}function nl(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return $t(n.join("?"))}const rl=class{constructor(){this._redirectPersistence=ga,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=co,this._overrideRedirectResult=ro}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new Yo(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){Ur(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){!function(e){var t,n,r,i,s,a,o,l,c,u;const h=Ko();Gr("function"===typeof(null===(t=null===h||void 0===h?void 0:h.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Gr("undefined"!==typeof(null===(n=null===h||void 0===h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Gr("function"===typeof(null===(s=null===(i=null===(r=null===h||void 0===h?void 0:h.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===s?void 0:s.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Gr("function"===typeof(null===(l=null===(o=null===(a=null===h||void 0===h?void 0:h.cordova)||void 0===a?void 0:a.plugins)||void 0===o?void 0:o.browsertab)||void 0===l?void 0:l.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Gr("function"===typeof(null===(u=null===(c=null===h||void 0===h?void 0:h.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===u?void 0:u.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const i=await this._initialize(e);await i.initialized(),i.resetRedirect(),eo.clear(),await this._originValidation(e);const s=function(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:Zo(),postBody:null,tenantId:e.tenantId,error:Vr(e,"no-auth-event")}}(e,n,r);await function(e,t){return el()._set(tl(e),t)}(e,s);const a=await Ho(e,s,t);return async function(e,t,n){const{cordova:r}=Ko();let i=()=>{};try{await new Promise(((s,a)=>{let o=null;function l(){var e;s();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"===typeof t&&t(),"function"===typeof(null===n||void 0===n?void 0:n.close)&&n.close()}function c(){o||(o=window.setTimeout((()=>{a(Vr(e,"redirect-cancelled-by-user"))}),2e3))}function u(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}t.addPassiveListener(l),document.addEventListener("resume",c,!1),Fi()&&document.addEventListener("visibilitychange",u,!1),i=()=>{t.removePassiveListener(l),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",u,!1),o&&window.clearTimeout(o)}}))}finally{i()}}(e,i,await Qo(a))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=Ko(),n={};Bi()?n.iosBundleId=t.packageName:Fi()?n.androidPackageName=t.packageName:Ur(e,"operation-not-supported-in-this-environment"),await mo(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:i}=Ko(),s=setTimeout((async()=>{await Jo(e),t.onEvent(il())}),500),a=async n=>{clearTimeout(s);const r=await Jo(e);let i=null;r&&(null===n||void 0===n?void 0:n.url)&&(i=$o(r,n.url)),t.onEvent(i||il())};"undefined"!==typeof n&&"function"===typeof n.subscribe&&n.subscribe(null,a);const o=r,l="".concat(i.packageName.toLowerCase(),"://");Ko().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(l)&&a({url:e}),"function"===typeof o)try{o(e)}catch(BE){console.error(BE)}}}};function il(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Vr("no-auth-event")}}function sl(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function al(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt();return!("file:"!==sl()&&"ionic:"!==sl()&&"capacitor:"!==sl()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function ol(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt();return zt()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt();return/Edge\/\d+/.test(e)}(e)}function ll(){try{const e=self.localStorage,t=ya();if(e)return e.setItem(t,"1"),e.removeItem(t),!ol()||Wt()}catch(BE){return cl()&&Wt()}return!1}function cl(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function ul(){return("http:"===sl()||"https:"===sl()||Vt()||al())&&!(Bt()||Ft())&&ll()&&!cl()}function hl(){return al()&&"undefined"!==typeof document}const dl={LOCAL:"local",NONE:"none",SESSION:"session"},fl=Gr,pl="persistence";async function ml(e){await e._initializationPromise;const t=gl(),n=ji(pl,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function gl(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(BE){return null}}const vl=Gr;class yl{constructor(){this.browserResolver=Ni(Fo),this.cordovaResolver=Ni(rl),this.underlyingResolver=null,this._redirectPersistence=ga,this._completeRedirectFn=co,this._overrideRedirectResult=ro}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return hl()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return vl(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!hl()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),1e3);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function wl(e){return e.unwrap()}function bl(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code)){t.resolver=new Sl(e,function(e,t){var n;const r=rn(e),i=t;return Gr(t.customData.operationType,r,"argument-error"),Gr(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),la._fromError(r,i)}(e,t))}else if(r){const e=xl(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}function xl(e){const{_tokenResponse:t}=e instanceof Gt?e.customData:e;if(!t)return null;if(!(e instanceof Gt)&&"temporaryProof"in t&&"phoneNumber"in t)return Wa.credentialFromResult(e);const n=t.providerId;if(!n||n===kr.PASSWORD)return null;let r;switch(n){case kr.GOOGLE:r=_s;break;case kr.FACEBOOK:r=xs;break;case kr.GITHUB:r=Is;break;case kr.TWITTER:r=ks;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:s,pendingToken:a,nonce:o}=t;return i||s||e||a?a?n.startsWith("saml.")?Ss._create(n,a):fs._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:e,accessToken:i}):new bs(n).credential({idToken:e,accessToken:i,rawNonce:o}):null}return e instanceof Gt?r.credentialFromError(e):r.credentialFromResult(e)}function _l(e,t){return t.catch((t=>{throw t instanceof Gt&&bl(e,t),t})).then((e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:(r=e,xl(r)),additionalUserInfo:aa(e),user:El.getOrCreate(n)};var r}))}async function Il(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>_l(e,n.confirm(t))}}class Sl{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return _l(wl(this.auth),this.resolver.resolveSignIn(e))}}class El{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=rn(e);return ua.has(t)||ua.set(t,ca._fromUser(t)),ua.get(t)}(e)}static getOrCreate(e){return El.USER_MAP.has(e)||El.USER_MAP.set(e,new El(e)),El.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return _l(this.auth,Us(this._delegate,e))}async linkWithPhoneNumber(e,t){return Il(this.auth,async function(e,t,n){const r=rn(e);await Os(!1,r,"phone");const i=await qa(r.auth,t,rn(n));return new za(i,(e=>Us(r,e)))}(this._delegate,e,t))}async linkWithPopup(e){return _l(this.auth,async function(e,t,n){const r=rn(e);qr(r.auth,t,ys);const i=Ga(r.auth,n);return new $a(r.auth,"linkViaPopup",t,i,r).executeNotNull()}(this._delegate,e,yl))}async linkWithRedirect(e){return await ml(Hi(this.auth)),lo(this._delegate,e,yl)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return _l(this.auth,Vs(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return Il(this.auth,async function(e,t,n){const r=rn(e);if(Qn(r.auth.app))return Promise.reject(zr(r.auth));const i=await qa(r.auth,t,rn(n));return new za(i,(e=>Vs(r,e)))}(this._delegate,e,t))}reauthenticateWithPopup(e){return _l(this.auth,async function(e,t,n){const r=rn(e);if(Qn(r.auth.app))return Promise.reject(Vr(r.auth,"operation-not-supported-in-this-environment"));qr(r.auth,t,ys);const i=Ga(r.auth,n);return new $a(r.auth,"reauthViaPopup",t,i,r).executeNotNull()}(this._delegate,e,yl))}async reauthenticateWithRedirect(e){return await ml(Hi(this.auth)),oo(this._delegate,e,yl)}sendEmailVerification(e){return Ys(this._delegate,e)}async unlink(e){return await Ds(this._delegate,e),this}updateEmail(e){return function(e,t){const n=rn(e);return Qn(n.auth.app)?Promise.reject(zr(n.auth)):Zs(n,t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return Zs(rn(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){const n=rn(e);if(Qn(n.auth.app))return Promise.reject(zr(n.auth));await Rs(n,t)}(this._delegate,e)}updateProfile(e){return $s(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return Js(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}El.USER_MAP=new WeakMap;const kl=Gr;class Tl{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;kl(n,"invalid-api-key",{appName:e.name}),kl(n,"invalid-api-key",{appName:e.name});const r="undefined"!==typeof window?yl:void 0;this._delegate=t.initialize({options:{persistence:Cl(n,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(Rr),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?El.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){ts(this._delegate,e,t)}applyActionCode(e){return Hs(this._delegate,e)}checkActionCode(e){return Qs(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await ss(rn(e),{oobCode:t,newPassword:n}).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Ks(e),t}))}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return _l(this._delegate,async function(e,t,n){if(Qn(e.app))return Promise.reject(zr(e));const r=Hi(e),i=es(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ts),s=await i.catch((t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Ks(e),t})),a=await Ns._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return Xs(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=gs.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}async getRedirectResult(){kl(ul(),this._delegate,"operation-not-supported-in-this-environment");const e=await async function(e,t){return await Hi(e)._initializationPromise,co(e,t,!1)}(this._delegate,yl);return e?_l(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){Hi(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:s}=Nl(e,t,n);return this._delegate.onAuthStateChanged(r,i,s)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:s}=Nl(e,t,n);return this._delegate.onIdTokenChanged(r,i,s)}sendSignInLinkToEmail(e,t){return async function(e,t,n){const r=Hi(e),i={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};!function(e,t){Gr(t.handleCodeInApp,r,"argument-error"),t&&Gs(r,e,t)}(i,n),await es(r,i,"getOobCode",us)}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return async function(e,t,n){const r=Hi(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&Gs(r,i,n),await es(r,i,"getOobCode",cs)}(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){fl(Object.values(dl).includes(t),e,"invalid-persistence-type"),Bt()?fl(t!==dl.SESSION,e,"unsupported-persistence-type"):Ft()?fl(t===dl.NONE,e,"unsupported-persistence-type"):cl()?fl(t===dl.NONE||t===dl.LOCAL&&Wt(),e,"unsupported-persistence-type"):fl(t===dl.NONE||ll(),e,"unsupported-persistence-type")}(this._delegate,e),e){case dl.SESSION:t=ga;break;case dl.LOCAL:t=await Ni(ja)._isAvailable()?ja:pa;break;case dl.NONE:t=Ai;break;default:return Ur("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return _l(this._delegate,async function(e){var t;if(Qn(e.app))return Promise.reject(zr(e));const n=Hi(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new Ns({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await Ts(n,{returnSecureToken:!0}),i=await Ns._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}(this._delegate))}signInWithCredential(e){return _l(this._delegate,Fs(this._delegate,e))}signInWithCustomToken(e){return _l(this._delegate,Bs(this._delegate,e))}signInWithEmailAndPassword(e,t){return _l(this._delegate,function(e,t,n){return Qn(e.app)?Promise.reject(zr(e)):Fs(rn(e),vs.credential(t,n)).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Ks(e),t}))}(this._delegate,e,t))}signInWithEmailLink(e,t){return _l(this._delegate,async function(e,t,n){if(Qn(e.app))return Promise.reject(zr(e));const r=rn(e),i=vs.credentialWithLink(t,n||Qr());return Gr(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Fs(r,i)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return Il(this._delegate,async function(e,t,n){if(Qn(e.app))return Promise.reject(zr(e));const r=Hi(e),i=await qa(r,t,rn(n));return new za(i,(e=>Fs(r,e)))}(this._delegate,e,t))}async signInWithPopup(e){return kl(ul(),this._delegate,"operation-not-supported-in-this-environment"),_l(this._delegate,async function(e,t,n){if(Qn(e.app))return Promise.reject(Vr(e,"operation-not-supported-in-this-environment"));const r=Hi(e);qr(e,t,ys);const i=Ga(r,n);return new $a(r,"signInViaPopup",t,i).executeNotNull()}(this._delegate,e,yl))}async signInWithRedirect(e){return kl(ul(),this._delegate,"operation-not-supported-in-this-environment"),await ml(this._delegate),ao(this._delegate,e,yl)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await Qs(rn(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function Nl(e,t,n){let r=e;"function"!==typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&El.getOrCreate(e)),error:t,complete:n}}function Cl(e,t){const n=function(e,t){const n=gl();if(!n)return[];const r=ji(pl,e,t);switch(n.getItem(r)){case dl.NONE:return[Ai];case dl.LOCAL:return[ja,ga];case dl.SESSION:return[ga];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(ja)||n.push(ja),"undefined"!==typeof window)for(const r of[pa,ga])n.includes(r)||n.push(r);return n.includes(Ai)||n.push(Ai),n}Tl.Persistence=dl;class Al{constructor(){this.providerId="phone",this._delegate=new Wa(wl(Sr.auth()))}static credential(e,t){return Wa.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}Al.PHONE_SIGN_IN_METHOD=Wa.PHONE_SIGN_IN_METHOD,Al.PROVIDER_ID=Wa.PROVIDER_ID;const jl=Gr;class Pl{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Sr.app();var r;jl(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new Ba(n.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}var Dl;(Dl=Sr).INTERNAL.registerComponent(new sn("auth-compat",(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Tl(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Tr,PASSWORD_RESET:Nr,RECOVER_EMAIL:Cr,REVERT_SECOND_FACTOR_ADDITION:Ar,VERIFY_AND_CHANGE_EMAIL:jr,VERIFY_EMAIL:Pr}},EmailAuthProvider:vs,FacebookAuthProvider:xs,GithubAuthProvider:Is,GoogleAuthProvider:_s,OAuthProvider:bs,SAMLAuthProvider:Es,PhoneAuthProvider:Al,PhoneMultiFactorGenerator:Bo,RecaptchaVerifier:Pl,TwitterAuthProvider:ks,Auth:Tl,AuthCredential:is,Error:Gt}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Dl.registerVersion("@firebase/auth-compat","0.5.6");var Rl,Ol="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Ll={},Ml=Ml||{},Fl=Ol||self;function Ul(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Vl(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Bl="closure_uid_"+(1e9*Math.random()>>>0),zl=0;function ql(e,t,n){return e.call.apply(e.bind,arguments)}function Wl(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Gl(e,t,n){return(Gl=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ql:Wl).apply(null,arguments)}function Kl(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Hl(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function Ql(){this.s=this.s,this.o=this.o}Ql.prototype.s=!1,Ql.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Bl)&&e[Bl]||(e[Bl]=++zl))},Ql.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Xl=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Yl(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Jl(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(Ul(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function $l(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}$l.prototype.h=function(){this.defaultPrevented=!0};var Zl=function(){if(!Fl.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};Fl.addEventListener("test",e,t),Fl.removeEventListener("test",e,t)}catch(n){}return e}();function ec(e){return/^[\s\xa0]*$/.test(e)}function tc(){var e=Fl.navigator;return e&&(e=e.userAgent)?e:""}function nc(e){return-1!=tc().indexOf(e)}function rc(e){return rc[" "](e),e}rc[" "]=function(){};var ic,sc,ac=nc("Opera"),oc=nc("Trident")||nc("MSIE"),lc=nc("Edge"),cc=lc||oc,uc=nc("Gecko")&&!(-1!=tc().toLowerCase().indexOf("webkit")&&!nc("Edge"))&&!(nc("Trident")||nc("MSIE"))&&!nc("Edge"),hc=-1!=tc().toLowerCase().indexOf("webkit")&&!nc("Edge");function dc(){var e=Fl.document;return e?e.documentMode:void 0}e:{var fc="",pc=function(){var e=tc();return uc?/rv:([^\);]+)(\)|;)/.exec(e):lc?/Edge\/([\d\.]+)/.exec(e):oc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):hc?/WebKit\/(\S+)/.exec(e):ac?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(pc&&(fc=pc?pc[1]:""),oc){var mc=dc();if(null!=mc&&mc>parseFloat(fc)){ic=String(mc);break e}}ic=fc}if(Fl.document&&oc){var gc=dc();sc=gc||(parseInt(ic,10)||void 0)}else sc=void 0;var vc=sc;function yc(e,t){if($l.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(uc){e:{try{rc(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:wc[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&yc.$.h.call(this)}}Hl(yc,$l);var wc={2:"touch",3:"pen",4:"mouse"};yc.prototype.h=function(){yc.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var bc="closure_listenable_"+(1e6*Math.random()|0),xc=0;function _c(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++xc,this.fa=this.ia=!1}function Ic(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Sc(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Ec(e){const t={};for(const n in e)t[n]=e[n];return t}const kc="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Tc(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<kc.length;t++)n=kc[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Nc(e){this.src=e,this.g={},this.h=0}function Cc(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Xl(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Ic(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Ac(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}Nc.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=Ac(e,t,r,i);return-1<a?(t=e[a],n||(t.ia=!1)):((t=new _c(t,this.src,s,!!r,i)).ia=n,e.push(t)),t};var jc="closure_lm_"+(1e6*Math.random()|0),Pc={};function Dc(e,t,n,r,i){if(r&&r.once)return Oc(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)Dc(e,t[s],n,r,i);return null}return n=zc(n),e&&e[bc]?e.O(t,n,Vl(r)?!!r.capture:!!r,i):Rc(e,t,n,!1,r,i)}function Rc(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=Vl(i)?!!i.capture:!!i,o=Vc(e);if(o||(e[jc]=o=new Nc(e)),(n=o.add(t,n,r,a,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Uc;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Zl||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Fc(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Oc(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Oc(e,t[s],n,r,i);return null}return n=zc(n),e&&e[bc]?e.P(t,n,Vl(r)?!!r.capture:!!r,i):Rc(e,t,n,!0,r,i)}function Lc(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Lc(e,t[s],n,r,i);else r=Vl(r)?!!r.capture:!!r,n=zc(n),e&&e[bc]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Ac(s=e.g[t],n,r,i))&&(Ic(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Vc(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Ac(t,n,r,i)),(n=-1<e?t[e]:null)&&Mc(n))}function Mc(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[bc])Cc(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Fc(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Vc(t))?(Cc(n,e),0==n.h&&(n.src=null,t[jc]=null)):Ic(e)}}}function Fc(e){return e in Pc?Pc[e]:Pc[e]="on"+e}function Uc(e,t){if(e.fa)e=!0;else{t=new yc(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Mc(e),e=n.call(r,t)}return e}function Vc(e){return(e=e[jc])instanceof Nc?e:null}var Bc="__closure_events_fn_"+(1e9*Math.random()>>>0);function zc(e){return"function"===typeof e?e:(e[Bc]||(e[Bc]=function(t){return e.handleEvent(t)}),e[Bc])}function qc(){Ql.call(this),this.i=new Nc(this),this.S=this,this.J=null}function Wc(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new $l(t,e);else if(t instanceof $l)t.target=t.target||e;else{var i=t;Tc(t=new $l(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=Gc(a,r,!0,t)&&i}if(i=Gc(a=t.g=e,r,!0,t)&&i,i=Gc(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=Gc(a=t.g=n[s],r,!1,t)&&i}function Gc(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.fa&&a.capture==n){var o=a.listener,l=a.la||a.src;a.ia&&Cc(e.i,a),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}Hl(qc,Ql),qc.prototype[bc]=!0,qc.prototype.removeEventListener=function(e,t,n,r){Lc(this,e,t,n,r)},qc.prototype.N=function(){if(qc.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ic(n[r]);delete t.g[e],t.h--}}this.J=null},qc.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},qc.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Kc=Fl.JSON.stringify;function Hc(){var e=eu;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Qc=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new Xc),(e=>e.reset()));class Xc{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Yc(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Jc(e){Fl.setTimeout((()=>{throw e}),0)}let $c,Zc=!1,eu=new class{constructor(){this.h=this.g=null}add(e,t){const n=Qc.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},tu=()=>{const e=Fl.Promise.resolve(void 0);$c=()=>{e.then(nu)}};var nu=()=>{for(var e;e=Hc();){try{e.h.call(e.g)}catch(n){Jc(n)}var t=Qc;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Zc=!1};function ru(e,t){qc.call(this),this.h=e||1,this.g=t||Fl,this.j=Gl(this.qb,this),this.l=Date.now()}function iu(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function su(e,t,n){if("function"===typeof e)n&&(e=Gl(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Gl(e.handleEvent,e)}return 2147483647<Number(t)?-1:Fl.setTimeout(e,t||0)}function au(e){e.g=su((()=>{e.g=null,e.i&&(e.i=!1,au(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}Hl(ru,qc),(Rl=ru.prototype).ga=!1,Rl.T=null,Rl.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Wc(this,"tick"),this.ga&&(iu(this),this.start()))}},Rl.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Rl.N=function(){ru.$.N.call(this),iu(this),delete this.g};class ou extends Ql{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:au(this)}N(){super.N(),this.g&&(Fl.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function lu(e){Ql.call(this),this.h=e,this.g={}}Hl(lu,Ql);var cu=[];function uu(e,t,n,r){Array.isArray(n)||(n&&(cu[0]=n.toString()),n=cu);for(var i=0;i<n.length;i++){var s=Dc(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function hu(e){Sc(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Mc(e)}),e),e.g={}}function du(){this.g=!0}function fu(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}return Kc(n)}catch(o){return t}}(e,n)+(r?" "+r:"")}))}lu.prototype.N=function(){lu.$.N.call(this),hu(this)},lu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},du.prototype.Ea=function(){this.g=!1},du.prototype.info=function(){};var pu={},mu=null;function gu(){return mu=mu||new qc}function vu(e){$l.call(this,pu.Ta,e)}function yu(e){const t=gu();Wc(t,new vu(t))}function wu(e,t){$l.call(this,pu.STAT_EVENT,e),this.stat=t}function bu(e){const t=gu();Wc(t,new wu(t,e))}function xu(e,t){$l.call(this,pu.Ua,e),this.size=t}function _u(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Fl.setTimeout((function(){e()}),t)}pu.Ta="serverreachability",Hl(vu,$l),pu.STAT_EVENT="statevent",Hl(wu,$l),pu.Ua="timingevent",Hl(xu,$l);var Iu={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Su={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Eu(){}function ku(e){return e.h||(e.h=e.i())}function Tu(){}Eu.prototype.h=null;var Nu,Cu={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Au(){$l.call(this,"d")}function ju(){$l.call(this,"c")}function Pu(){}function Du(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new lu(this),this.P=Ou,e=cc?125:void 0,this.V=new ru(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Ru}function Ru(){this.i=null,this.g="",this.h=!1}Hl(Au,$l),Hl(ju,$l),Hl(Pu,Eu),Pu.prototype.g=function(){return new XMLHttpRequest},Pu.prototype.i=function(){return{}},Nu=new Pu;var Ou=45e3,Lu={},Mu={};function Fu(e,t,n){e.L=1,e.A=rh($u(t)),e.u=n,e.S=!0,Uu(e,null)}function Uu(e,t){e.G=Date.now(),qu(e),e.B=$u(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),gh(n.i,"t",r),e.o=0,n=e.l.J,e.h=new Ru,e.g=vd(e.l,n?t:null,!e.u),0<e.O&&(e.M=new ou(Gl(e.Pa,e,e.g),e.O)),uu(e.U,e.g,"readystatechange",e.nb),t=e.I?Ec(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),yu(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var a="",o=s.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");a=2<=h.length&&"type"==h[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.v,e.B,e.m,e.W,e.u)}function Vu(e){return!!e.g&&("GET"==e.v&&2!=e.L&&e.l.Ha)}function Bu(e,t,n){let r,i=!0;for(;!e.J&&e.o<n.length;){if(r=zu(e,n),r==Mu){4==t&&(e.s=4,bu(14),i=!1),fu(e.j,e.m,null,"[Incomplete Response]");break}if(r==Lu){e.s=4,bu(15),fu(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}fu(e.j,e.m,r,null),Qu(e,r)}Vu(e)&&0!=e.o&&(e.h.g=e.h.g.slice(e.o),e.o=0),4!=t||0!=n.length||e.h.h||(e.s=1,bu(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),cd(t),t.M=!0,bu(11))):(fu(e.j,e.m,n,"[Invalid Chunked Response]"),Hu(e),Ku(e))}function zu(e,t){var n=e.o,r=t.indexOf("\n",n);return-1==r?Mu:(n=Number(t.substring(n,r)),isNaN(n)?Lu:(r+=1)+n>t.length?Mu:(t=t.slice(r,r+n),e.o=r+n,t))}function qu(e){e.Y=Date.now()+e.P,Wu(e,e.P)}function Wu(e,t){if(null!=e.C)throw Error("WatchDog timer not null");e.C=_u(Gl(e.lb,e),t)}function Gu(e){e.C&&(Fl.clearTimeout(e.C),e.C=null)}function Ku(e){0==e.l.H||e.J||dd(e.l,e)}function Hu(e){Gu(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,iu(e.V),hu(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Qu(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Ih(n.i,e)))if(!e.K&&Ih(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;hd(n),td(n)}ld(n),bu(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=_u(Gl(n.ib,n),6e3));if(1>=_h(n.i)&&n.oa){try{n.oa()}catch(c){}n.oa=void 0}}else pd(n,11)}else if((e.K||n.g==e)&&hd(n),!ec(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const t=c[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=c[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Sh(s,s.h),s.h=null))}if(r.F){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,nh(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var a=e;if((r=n).wa=gd(r,r.J?r.pa:null,r.Y),a.K){Eh(r.i,a);var o=a,l=r.L;l&&o.setTimeout(l),o.C&&(Gu(o),qu(o)),r.g=a}else od(r);0<n.j.length&&rd(n)}else"stop"!=c[0]&&"close"!=c[0]||pd(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?pd(n,7):ed(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}yu()}catch(c){}}function Xu(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Ul(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Ul(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Ul(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}(Rl=Du.prototype).setTimeout=function(e){this.P=e},Rl.nb=function(e){e=e.target;const t=this.M;t&&3==Qh(e)?t.l():this.Pa(e)},Rl.Pa=function(e){try{if(e==this.g)e:{const u=Qh(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||cc||this.g&&(this.h.h||this.g.ja()||Xh(this.g)))){this.J||4!=u||7==t||yu(),Gu(this);var n=this.g.da();this.ca=n;t:if(Vu(this)){var r=Xh(this.g);e="";var i=r.length,s=4==Qh(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Hu(this),Ku(this);var a="";break t}this.h.i=new Fl.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.length=0,this.h.g+=e,this.o=0,a=this.h.g}else a=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,s,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+a}))}(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var o,l=this.g;if((o=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ec(o)){var c=o;break t}}c=null}if(!(n=c)){this.i=!1,this.s=3,bu(12),Hu(this),Ku(this);break e}fu(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qu(this,n)}this.S?(Bu(this,u,a),cc&&this.i&&3==u&&(uu(this.U,this.V,"tick",this.mb),this.V.start())):(fu(this.j,this.m,a,null),Qu(this,a)),4==u&&Hu(this),this.i&&!this.J&&(4==u?dd(this.l,this):(this.i=!1,qu(this)))}else(function(e){const t={};e=(e.g&&2<=Qh(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(ec(e[r]))continue;var n=Yc(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,bu(12)):(this.s=0,bu(13)),Hu(this),Ku(this)}}}catch(u){}},Rl.mb=function(){if(this.g){var e=Qh(this.g),t=this.g.ja();this.o<t.length&&(Gu(this),Bu(this,e,t),this.i&&4!=e&&qu(this))}},Rl.cancel=function(){this.J=!0,Hu(this)},Rl.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.B),2!=this.L&&(yu(),bu(17)),Hu(this),this.s=2,Ku(this)):Wu(this,this.Y-e)};var Yu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ju(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Ju){this.h=e.h,Zu(this,e.j),this.s=e.s,this.g=e.g,eh(this,e.m),this.l=e.l;var t=e.i,n=new dh;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),th(this,n),this.o=e.o}else e&&(t=String(e).match(Yu))?(this.h=!1,Zu(this,t[1]||"",!0),this.s=ih(t[2]||""),this.g=ih(t[3]||"",!0),eh(this,t[4]),this.l=ih(t[5]||"",!0),th(this,t[6]||"",!0),this.o=ih(t[7]||"")):(this.h=!1,this.i=new dh(null,this.h))}function $u(e){return new Ju(e)}function Zu(e,t,n){e.j=n?ih(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function eh(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function th(e,t,n){t instanceof dh?(e.i=t,function(e,t){t&&!e.j&&(fh(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(ph(this,t),gh(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=sh(t,uh)),e.i=new dh(t,e.h))}function nh(e,t,n){e.i.set(t,n)}function rh(e){return nh(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ih(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function sh(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,ah),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ah(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ju.prototype.toString=function(){var e=[],t=this.j;t&&e.push(sh(t,oh,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(sh(t,oh,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(sh(n,"/"==n.charAt(0)?ch:lh,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",sh(n,hh)),e.join("")};var oh=/[#\/\?@]/g,lh=/[#\?:]/g,ch=/[#\?]/g,uh=/[#\?@]/g,hh=/#/g;function dh(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function fh(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function ph(e,t){fh(e),t=vh(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function mh(e,t){return fh(e),t=vh(e,t),e.g.has(t)}function gh(e,t,n){ph(e,t),0<n.length&&(e.i=null,e.g.set(vh(e,t),Yl(n)),e.h+=n.length)}function vh(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Rl=dh.prototype).add=function(e,t){fh(this),this.i=null,e=vh(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Rl.forEach=function(e,t){fh(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Rl.ta=function(){fh(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},Rl.Z=function(e){fh(this);let t=[];if("string"===typeof e)mh(this,e)&&(t=t.concat(this.g.get(vh(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},Rl.set=function(e,t){return fh(this),this.i=null,mh(this,e=vh(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Rl.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Rl.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var i=s;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")};var yh=class{constructor(e,t){this.g=e,this.map=t}};function wh(e){this.l=e||bh,Fl.PerformanceNavigationTiming?e=0<(e=Fl.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Fl.g&&Fl.g.Ka&&Fl.g.Ka()&&Fl.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var bh=10;function xh(e){return!!e.h||!!e.g&&e.g.size>=e.j}function _h(e){return e.h?1:e.g?e.g.size:0}function Ih(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Sh(e,t){e.g?e.g.add(t):e.h=t}function Eh(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function kh(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return Yl(e.i)}wh.prototype.cancel=function(){if(this.i=kh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Th,Nh=class{stringify(e){return Fl.JSON.stringify(e,void 0)}parse(e){return Fl.JSON.parse(e,void 0)}};function Ch(){this.g=new Nh}function Ah(e,t,n){const r=n||"";try{Xu(e,(function(e,n){let i=e;Vl(e)&&(i=Kc(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(BE){throw t.push(r+"type="+encodeURIComponent("_badmap")),BE}}function jh(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(s){}}function Ph(e){this.l=e.ec||null,this.j=e.ob||!1}function Dh(e,t){qc.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Rh,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Hl(Ph,Eu),Ph.prototype.g=function(){return new Dh(this.l,this.j)},Ph.prototype.i=(Th={},function(){return Th}),Hl(Dh,qc);var Rh=0;function Oh(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Lh(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Mh(e)}function Mh(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Rl=Dh.prototype).open=function(e,t){if(this.readyState!=Rh)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Mh(this)},Rl.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Fl).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Rl.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Lh(this)),this.readyState=Rh},Rl.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Mh(this)),this.g&&(this.readyState=3,Mh(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof Fl.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Oh(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Rl.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Lh(this):Mh(this),3==this.readyState&&Oh(this)}},Rl.Za=function(e){this.g&&(this.response=this.responseText=e,Lh(this))},Rl.Ya=function(e){this.g&&(this.response=e,Lh(this))},Rl.ka=function(){this.g&&Lh(this)},Rl.setRequestHeader=function(e,t){this.v.append(e,t)},Rl.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Rl.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Dh.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Fh=Fl.JSON.parse;function Uh(e){qc.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Vh,this.L=this.M=!1}Hl(Uh,qc);var Vh="",Bh=/^https?$/i,zh=["POST","PUT"];function qh(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Wh(e),Kh(e)}function Wh(e){e.F||(e.F=!0,Wc(e,"complete"),Wc(e,"error"))}function Gh(e){if(e.h&&"undefined"!=typeof Ml&&(!e.C[1]||4!=Qh(e)||2!=e.da()))if(e.v&&4==Qh(e))su(e.La,0,e);else if(Wc(e,"readystatechange"),4==Qh(e)){e.h=!1;try{const o=e.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===o){var i=String(e.I).match(Yu)[1]||null;!i&&Fl.self&&Fl.self.location&&(i=Fl.self.location.protocol.slice(0,-1)),r=!Bh.test(i?i.toLowerCase():"")}n=r}if(n)Wc(e,"complete"),Wc(e,"success");else{e.m=6;try{var s=2<Qh(e)?e.g.statusText:""}catch(a){s=""}e.j=s+" ["+e.da()+"]",Wh(e)}}finally{Kh(e)}}}function Kh(e,t){if(e.g){Hh(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Wc(e,"ready");try{n.onreadystatechange=r}catch(BE){}}}function Hh(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Fl.clearTimeout(e.A),e.A=null)}function Qh(e){return e.g?e.g.readyState:0}function Xh(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Vh:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(nf){return null}}function Yh(e){let t="";return Sc(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Jh(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Yh(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):nh(e,t,n))}function $h(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Zh(e){this.Ga=0,this.j=[],this.l=new du,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=$h("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=$h("baseRetryDelayMs",5e3,e),this.hb=$h("retryDelaySeedMs",1e4,e),this.eb=$h("forwardChannelMaxRetries",2,e),this.xa=$h("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new wh(e&&e.concurrentRequestLimit),this.Ja=new Ch,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function ed(e){if(nd(e),3==e.H){var t=e.W++,n=$u(e.I);if(nh(n,"SID",e.K),nh(n,"RID",t),nh(n,"TYPE","terminate"),sd(e,n),(t=new Du(e,e.l,t)).L=2,t.A=rh($u(n)),n=!1,Fl.navigator&&Fl.navigator.sendBeacon)try{n=Fl.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&Fl.Image&&((new Image).src=t.A,n=!0),n||(t.g=vd(t.l,null),t.g.ha(t.A)),t.G=Date.now(),qu(t)}md(e)}function td(e){e.g&&(cd(e),e.g.cancel(),e.g=null)}function nd(e){td(e),e.u&&(Fl.clearTimeout(e.u),e.u=null),hd(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Fl.clearTimeout(e.m),e.m=null)}function rd(e){if(!xh(e.i)&&!e.m){e.m=!0;var t=e.Na;$c||tu(),Zc||($c(),Zc=!0),eu.add(t,e),e.C=0}}function id(e,t){var n;n=t?t.m:e.W++;const r=$u(e.I);nh(r,"SID",e.K),nh(r,"RID",n),nh(r,"AID",e.V),sd(e,r),e.o&&e.s&&Jh(r,e.o,e.s),n=new Du(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=ad(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Sh(e.i,n),Fu(n,r,t)}function sd(e,t){e.na&&Sc(e.na,(function(e,n){nh(t,n,e)})),e.h&&Xu({},(function(e,n){nh(t,n,e)}))}function ad(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Gl(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let a=0;a<n;a++){let n=i[a].g;const o=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),s=!1;else try{Ah(o,e,"req"+n+"_")}catch(wp){r&&r(o)}}if(s){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function od(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;$c||tu(),Zc||($c(),Zc=!0),eu.add(t,e),e.A=0}}function ld(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=_u(Gl(e.Ma,e),fd(e,e.A)),e.A++,!0)}function cd(e){null!=e.B&&(Fl.clearTimeout(e.B),e.B=null)}function ud(e){e.g=new Du(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=$u(e.wa);nh(t,"RID","rpc"),nh(t,"SID",e.K),nh(t,"AID",e.V),nh(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&nh(t,"TO",e.qa),nh(t,"TYPE","xmlhttp"),sd(e,t),e.o&&e.s&&Jh(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=rh($u(t)),n.u=null,n.S=!0,Uu(n,e)}function hd(e){null!=e.v&&(Fl.clearTimeout(e.v),e.v=null)}function dd(e,t){var n=null;if(e.g==t){hd(e),cd(e),e.g=null;var r=2}else{if(!Ih(e.i,t))return;n=t.F,Eh(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;Wc(r=gu(),new xu(r,n)),rd(e)}else od(e);else if(3==(i=t.s)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(_h(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=_u(Gl(e.Na,e,t),fd(e,e.C)),e.C++,!0))}(e,t)||2==r&&ld(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:pd(e,5);break;case 4:pd(e,10);break;case 3:pd(e,6);break;default:pd(e,2)}}function fd(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function pd(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Gl(e.pb,e);n||(n=new Ju("//www.google.com/images/cleardot.gif"),Fl.location&&"http"==Fl.location.protocol||Zu(n,"https"),rh(n)),function(e,t){const n=new du;if(Fl.Image){const r=new Image;r.onload=Kl(jh,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Kl(jh,n,r,"TestLoadImage: error",!1,t),r.onabort=Kl(jh,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Kl(jh,n,r,"TestLoadImage: timeout",!1,t),Fl.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else bu(2);e.H=0,e.h&&e.h.za(t),md(e),nd(e)}function md(e){if(e.H=0,e.ma=[],e.h){const t=kh(e.i);0==t.length&&0==e.j.length||(Jl(e.ma,t),Jl(e.ma,e.j),e.i.i.length=0,Yl(e.j),e.j.length=0),e.h.ya()}}function gd(e,t,n){var r=n instanceof Ju?$u(n):new Ju(n);if(""!=r.g)t&&(r.g=t+"."+r.g),eh(r,r.m);else{var i=Fl.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new Ju(null);r&&Zu(s,r),t&&(s.g=t),i&&eh(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&nh(r,n,t),nh(r,"VER",e.ra),sd(e,r),r}function vd(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ha&&!e.va?new Uh(new Ph({ob:n})):new Uh(e.va)).Oa(e.J),t}function yd(){}function wd(){if(oc&&!(10<=Number(vc)))throw Error("Environmental error: no available transport.")}function bd(e,t){qc.call(this),this.g=new Zh(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!ec(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!ec(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Id(this)}function xd(e){Au.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function _d(){ju.call(this),this.status=1}function Id(e){this.g=e}function Sd(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Ed(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],a=t+(s^n&(i^s))+r[0]+3614090360&4294967295;a=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(a<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(t=n+((a=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=s+((a=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function kd(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}(Rl=Uh.prototype).Oa=function(e){this.M=e},Rl.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Nu.g(),this.C=this.u?ku(this.u):ku(Nu),this.g.onreadystatechange=Gl(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void qh(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=Fl.FormData&&e instanceof Fl.FormData,!(0<=Xl(zh,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,o]of n)this.g.setRequestHeader(a,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Hh(this),0<this.B&&((this.L=function(e){return oc&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Gl(this.ua,this)):this.A=su(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){qh(this,s)}},Rl.ua=function(){"undefined"!=typeof Ml&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Wc(this,"timeout"),this.abort(8))},Rl.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Wc(this,"complete"),Wc(this,"abort"),Kh(this))},Rl.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Kh(this,!0)),Uh.$.N.call(this)},Rl.La=function(){this.s||(this.G||this.v||this.l?Gh(this):this.kb())},Rl.kb=function(){Gh(this)},Rl.isActive=function(){return!!this.g},Rl.da=function(){try{return 2<Qh(this)?this.g.status:-1}catch(Th){return-1}},Rl.ja=function(){try{return this.g?this.g.responseText:""}catch(Th){return""}},Rl.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Fh(t)}},Rl.Ia=function(){return this.m},Rl.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Rl=Zh.prototype).ra=8,Rl.H=1,Rl.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new Du(this,this.l,e);let s=this.s;if(this.U&&(s?(s=Ec(s),Tc(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=ad(this,i,t),nh(n=$u(this.I),"RID",e),nh(n,"CVER",22),this.F&&nh(n,"X-HTTP-Session-Id",this.F),sd(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Yh(s)))+"&"+t:this.o&&Jh(n,this.o,s)),Sh(this.i,i),this.bb&&nh(n,"TYPE","init"),this.P?(nh(n,"$req",t),nh(n,"SID","null"),i.aa=!0,Fu(i,n,null)):Fu(i,n,t),this.H=2}}else 3==this.H&&(e?id(this,e):0==this.j.length||xh(this.i)||id(this))},Rl.Ma=function(){if(this.u=null,ud(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=_u(Gl(this.jb,this),e)}},Rl.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,bu(10),td(this),ud(this))},Rl.ib=function(){null!=this.v&&(this.v=null,td(this),ld(this),bu(19))},Rl.pb=function(e){e?(this.l.info("Successfully pinged google.com"),bu(2)):(this.l.info("Failed to ping google.com"),bu(1))},Rl.isActive=function(){return!!this.h&&this.h.isActive(this)},(Rl=yd.prototype).Ba=function(){},Rl.Aa=function(){},Rl.za=function(){},Rl.ya=function(){},Rl.isActive=function(){return!0},Rl.Va=function(){},wd.prototype.g=function(e,t){return new bd(e,t)},Hl(bd,qc),bd.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;bu(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=gd(e,null,e.Y),rd(e)},bd.prototype.close=function(){ed(this.g)},bd.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Kc(e),e=n);t.j.push(new yh(t.fb++,e)),3==t.H&&rd(t)},bd.prototype.N=function(){this.g.h=null,delete this.j,ed(this.g),delete this.g,bd.$.N.call(this)},Hl(xd,Au),Hl(_d,ju),Hl(Id,yd),Id.prototype.Ba=function(){Wc(this.g,"a")},Id.prototype.Aa=function(e){Wc(this.g,new xd(e))},Id.prototype.za=function(e){Wc(this.g,new _d)},Id.prototype.ya=function(){Wc(this.g,"b")},Hl(Sd,(function(){this.blockSize=-1})),Sd.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Sd.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(0==i)for(;s<=n;)Ed(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){Ed(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){Ed(this,r),i=0;break}}this.h=i,this.i+=t},Sd.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Td={};function Nd(e){return-128<=e&&128>e?function(e,t){var n=Td;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new kd([0|e],0>e?-1:0)})):new kd([0|e],0>e?-1:0)}function Cd(e){if(isNaN(e)||!isFinite(e))return jd;if(0>e)return Ld(Cd(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Ad;return new kd(t,0)}var Ad=4294967296,jd=Nd(0),Pd=Nd(1),Dd=Nd(16777216);function Rd(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Od(e){return-1==e.h}function Ld(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new kd(n,~e.h).add(Pd)}function Md(e,t){return e.add(Ld(t))}function Fd(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Ud(e,t){this.g=e,this.h=t}function Vd(e,t){if(Rd(t))throw Error("division by zero");if(Rd(e))return new Ud(jd,jd);if(Od(e))return t=Vd(Ld(e),t),new Ud(Ld(t.g),Ld(t.h));if(Od(t))return t=Vd(e,Ld(t)),new Ud(Ld(t.g),t.h);if(30<e.g.length){if(Od(e)||Od(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Pd,r=t;0>=r.X(e);)n=Bd(n),r=Bd(r);var i=zd(n,1),s=zd(r,1);for(r=zd(r,2),n=zd(n,2);!Rd(r);){var a=s.add(r);0>=a.X(e)&&(i=i.add(n),s=a),r=zd(r,1),n=zd(n,1)}return t=Md(e,i.R(t)),new Ud(i,t)}for(i=jd;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),a=(s=Cd(n)).R(t);Od(a)||0<a.X(e);)a=(s=Cd(n-=r)).R(t);Rd(s)&&(s=Pd),i=i.add(s),e=Md(e,a)}return new Ud(i,e)}function Bd(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new kd(n,e.h)}function zd(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new kd(i,e.h)}(Rl=kd.prototype).ea=function(){if(Od(this))return-Ld(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Ad+r)*t,t*=Ad}return e},Rl.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Rd(this))return"0";if(Od(this))return"-"+Ld(this).toString(e);for(var t=Cd(Math.pow(e,6)),n=this,r="";;){var i=Vd(n,t).g,s=((0<(n=Md(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Rd(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},Rl.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Rl.X=function(e){return Od(e=Md(this,e))?-1:Rd(e)?0:1},Rl.abs=function(){return Od(this)?Ld(this):this},Rl.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(65535&this.D(i))+(65535&e.D(i)),a=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=a>>>16,s&=65535,a&=65535,n[i]=a<<16|s}return new kd(n,-2147483648&n[n.length-1]?-1:0)},Rl.R=function(e){if(Rd(this)||Rd(e))return jd;if(Od(this))return Od(e)?Ld(this).R(Ld(e)):Ld(Ld(this).R(e));if(Od(e))return Ld(this.R(Ld(e)));if(0>this.X(Dd)&&0>e.X(Dd))return Cd(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,a=65535&this.D(r),o=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=a*l,Fd(n,2*r+2*i),n[2*r+2*i+1]+=s*l,Fd(n,2*r+2*i+1),n[2*r+2*i+1]+=a*o,Fd(n,2*r+2*i+1),n[2*r+2*i+2]+=s*o,Fd(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new kd(n,0)},Rl.gb=function(e){return Vd(this,e).h},Rl.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new kd(n,this.h&e.h)},Rl.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new kd(n,this.h|e.h)},Rl.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new kd(n,this.h^e.h)},wd.prototype.createWebChannel=wd.prototype.g,bd.prototype.send=bd.prototype.u,bd.prototype.open=bd.prototype.m,bd.prototype.close=bd.prototype.close,Iu.NO_ERROR=0,Iu.TIMEOUT=8,Iu.HTTP_ERROR=6,Su.COMPLETE="complete",Tu.EventType=Cu,Cu.OPEN="a",Cu.CLOSE="b",Cu.ERROR="c",Cu.MESSAGE="d",qc.prototype.listen=qc.prototype.O,Uh.prototype.listenOnce=Uh.prototype.P,Uh.prototype.getLastError=Uh.prototype.Sa,Uh.prototype.getLastErrorCode=Uh.prototype.Ia,Uh.prototype.getStatus=Uh.prototype.da,Uh.prototype.getResponseJson=Uh.prototype.Wa,Uh.prototype.getResponseText=Uh.prototype.ja,Uh.prototype.send=Uh.prototype.ha,Uh.prototype.setWithCredentials=Uh.prototype.Oa,Sd.prototype.digest=Sd.prototype.l,Sd.prototype.reset=Sd.prototype.reset,Sd.prototype.update=Sd.prototype.j,kd.prototype.add=kd.prototype.add,kd.prototype.multiply=kd.prototype.R,kd.prototype.modulo=kd.prototype.gb,kd.prototype.compare=kd.prototype.X,kd.prototype.toNumber=kd.prototype.ea,kd.prototype.toString=kd.prototype.toString,kd.prototype.getBits=kd.prototype.D,kd.fromNumber=Cd,kd.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Ld(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Cd(Math.pow(n,8)),i=jd,s=0;s<t.length;s+=8){var a=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+a),n);8>a?(a=Cd(Math.pow(n,a)),i=i.R(a).add(Cd(o))):i=(i=i.R(r)).add(Cd(o))}return i};var qd=Ll.createWebChannelTransport=function(){return new wd},Wd=Ll.getStatEventTarget=function(){return gu()},Gd=Ll.ErrorCode=Iu,Kd=Ll.EventType=Su,Hd=Ll.Event=pu,Qd=Ll.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Xd=(Ll.FetchXmlHttpFactory=Ph,Ll.WebChannel=Tu),Yd=Ll.XhrIo=Uh,Jd=Ll.Md5=Sd,$d=Ll.Integer=kd;const Zd="@firebase/firestore";class ef{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ef.UNAUTHENTICATED=new ef(null),ef.GOOGLE_CREDENTIALS=new ef("google-credentials-uid"),ef.FIRST_PARTY=new ef("first-party-uid"),ef.MOCK_USER=new ef("mock-user");let tf="10.11.0";const nf=new mn("@firebase/firestore");function rf(){return nf.logLevel}function sf(e){if(nf.logLevel<=un.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(lf);nf.debug("Firestore (".concat(tf,"): ").concat(e),...i)}}function af(e){if(nf.logLevel<=un.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(lf);nf.error("Firestore (".concat(tf,"): ").concat(e),...i)}}function of(e){if(nf.logLevel<=un.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(lf);nf.warn("Firestore (".concat(tf,"): ").concat(e),...i)}}function lf(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function cf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(tf,") INTERNAL ASSERTION FAILED: ")+e;throw af(t),new Error(t)}function uf(e,t){e||cf()}function hf(e,t){return e}const df={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ff extends Gt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class pf{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class mf{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class gf{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(ef.UNAUTHENTICATED)))}shutdown(){}}class vf{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class yf{constructor(e){this.t=e,this.currentUser=ef.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new pf;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new pf,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},a=e=>{sf("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>a(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(sf("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new pf)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(sf("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(uf("string"==typeof t.accessToken),new mf(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return uf(null===e||"string"==typeof e),new ef(e)}}class wf{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=ef.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class bf{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new wf(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(ef.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class xf{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _f{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&sf("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,sf("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{sf("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):sf("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(uf("string"==typeof e.token),this.R=e.token,new xf(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function If(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Sf{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=If(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function Ef(e,t){return e<t?-1:e>t?1:0}function kf(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function Tf(e){return e+"\0"}class Nf{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ff(df.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ff(df.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ff(df.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ff(df.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Nf.fromMillis(Date.now())}static fromDate(e){return Nf.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Nf(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ef(this.nanoseconds,e.nanoseconds):Ef(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Cf{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Cf(e)}static min(){return new Cf(new Nf(0,0))}static max(){return new Cf(new Nf(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Af{constructor(e,t,n){void 0===t?t=0:t>e.length&&cf(),void 0===n?n=e.length-t:n>e.length-t&&cf(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Af.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Af?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class jf extends Af{construct(e,t,n){return new jf(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new ff(df.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new jf(e)}static emptyPath(){return new jf([])}}const Pf=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Df extends Af{construct(e,t,n){return new Df(e,t,n)}static isValidIdentifier(e){return Pf.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Df.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Df(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new ff(df.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new ff(df.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new ff(df.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new ff(df.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Df(t)}static emptyPath(){return new Df([])}}class Rf{constructor(e){this.path=e}static fromPath(e){return new Rf(jf.fromString(e))}static fromName(e){return new Rf(jf.fromString(e).popFirst(5))}static empty(){return new Rf(jf.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===jf.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return jf.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Rf(new jf(e.slice()))}}class Of{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function Lf(e){return e.fields.find((e=>2===e.kind))}function Mf(e){return e.fields.filter((e=>2!==e.kind))}Of.UNKNOWN_ID=-1;class Ff{constructor(e,t){this.fieldPath=e,this.kind=t}}class Uf{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Uf(0,zf.min())}}function Vf(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Cf.fromTimestamp(1e9===r?new Nf(n+1,0):new Nf(n,r));return new zf(i,Rf.empty(),t)}function Bf(e){return new zf(e.readTime,e.key,-1)}class zf{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new zf(Cf.min(),Rf.empty(),-1)}static max(){return new zf(Cf.max(),Rf.empty(),-1)}}function qf(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Rf.comparator(e.documentKey,t.documentKey),0!==n?n:Ef(e.largestBatchId,t.largestBatchId))}const Wf="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Gf{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Kf(e){if(e.code!==df.FAILED_PRECONDITION||e.message!==Wf)throw e;sf("LocalStore","Unexpectedly lost primary lease")}class Hf{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&cf(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Hf(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Hf?t:Hf.resolve(t)}catch(e){return Hf.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Hf.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Hf.reject(t)}static resolve(e){return new Hf(((t,n)=>{t(e)}))}static reject(e){return new Hf(((t,n)=>{n(e)}))}static waitFor(e){return new Hf(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=Hf.resolve(!1);for(const n of e)t=t.next((e=>e?Hf.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Hf(((n,r)=>{const i=e.length,s=new Array(i);let a=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next((e=>{s[l]=e,++a,a===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new Hf(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class Qf{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new pf,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new Jf(e,t.error)):this.V.resolve()},this.transaction.onerror=t=>{const n=np(t.target.error);this.V.reject(new Jf(e,n))}}static open(e,t,n,r){try{return new Qf(t,e.transaction(r,n))}catch(e){throw new Jf(t,e)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(sf("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Zf(t)}}class Xf{constructor(e,t,n){this.name=e,this.version=t,this.p=n,12.2===Xf.S(Mt())&&af("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return sf("SimpleDb","Removing database:",e),ep(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Wt())return!1;if(Xf.C())return!0;const e=Mt(),t=Xf.S(e),n=0<t&&t<10,r=Xf.v(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static v(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async O(e){return this.db||(sf("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new Jf(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new ff(df.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new ff(df.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new Jf(e,r))},r.onupgradeneeded=e=>{sf("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.p.N(t,r.transaction,e.oldVersion,this.version).next((()=>{sf("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.L&&(this.db.onversionchange=e=>this.L(e)),this.db}B(e){this.L=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let s=0;for(;;){++s;try{this.db=await this.O(e);const t=Qf.open(this.db,e,i?"readonly":"readwrite",n),s=r(t).next((e=>(t.g(),e))).catch((e=>(t.abort(e),Hf.reject(e)))).toPromise();return s.catch((()=>{})),await t.m,s}catch(e){const t=e,n="FirebaseError"!==t.name&&s<3;if(sf("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class Yf{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return ep(this.k.delete())}}class Jf extends ff{constructor(e,t){super(df.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function $f(e){return"IndexedDbTransactionError"===e.name}class Zf{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(sf("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(sf("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),ep(n)}add(e){return sf("SimpleDb","ADD",this.store.name,e,e),ep(this.store.add(e))}get(e){return ep(this.store.get(e)).next((t=>(void 0===t&&(t=null),sf("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return sf("SimpleDb","DELETE",this.store.name,e),ep(this.store.delete(e))}count(){return sf("SimpleDb","COUNT",this.store.name),ep(this.store.count())}W(e,t){const n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){const e=r.getAll(n.range);return new Hf(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}{const e=this.cursor(n),t=[];return this.G(e,((e,n)=>{t.push(n)})).next((()=>t))}}j(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new Hf(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}H(e,t){sf("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.J=!1;const r=this.cursor(n);return this.G(r,((e,t,n)=>n.delete()))}Y(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.G(r,t)}Z(e){const t=this.cursor({});return new Hf(((n,r)=>{t.onerror=e=>{const t=np(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}G(e,t){const n=[];return new Hf(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new Yf(i),a=t(i.primaryKey,i.value,s);if(a instanceof Hf){const e=a.catch((e=>(s.done(),Hf.reject(e))));n.push(e)}s.isDone?r():null===s.$?i.continue():i.continue(s.$)}})).next((()=>Hf.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.J?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ep(e){return new Hf(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=np(e.target.error);n(t)}}))}let tp=!1;function np(e){const t=Xf.S(Mt());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new ff("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return tp||(tp=!0,setTimeout((()=>{throw e}),0)),e}}return e}class rp{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){sf("IndexBackfiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{sf("IndexBackfiller","Documents written: ".concat(await this.X.te()))}catch(e){$f(e)?sf("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",e):await Kf(e)}await this.ee(6e4)}))}}class ip{constructor(e,t){this.localStore=e,this.persistence=t}async te(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.ne(t,e)))}ne(e,t){const n=new Set;let r=t,i=!0;return Hf.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return sf("IndexBackfiller","Processing collection: ".concat(t)),this.re(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}re(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.ie(r,n))).next((n=>(sf("IndexBackfiller","Updating offset: ".concat(n)),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}ie(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=Bf(t);qf(r,n)>0&&(n=r)})),new zf(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class sp{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.se(e),this.oe=e=>t.writeSequenceNumber(e))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}function ap(e){return null==e}function op(e){return 0===e&&1/e==-1/0}function lp(e){return"number"==typeof e&&Number.isInteger(e)&&!op(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function cp(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=hp(t)),t=up(e.get(n),t);return hp(t)}function up(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function hp(e){return e+"\x01\x01"}function dp(e){const t=e.length;if(uf(t>=2),2===t)return uf("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),jf.emptyPath();const n=t-2,r=[];let i="";for(let s=0;s<t;){const t=e.indexOf("\x01",s);switch((t<0||t>n)&&cf(),e.charAt(t+1)){case"\x01":const n=e.substring(s,t);let a;0===i.length?a=n:(i+=n,a=i,i=""),r.push(a);break;case"\x10":i+=e.substring(s,t),i+="\0";break;case"\x11":i+=e.substring(s,t+1);break;default:cf()}s=t+2}return new jf(r)}sp._e=-1;const fp=["userId","batchId"];function pp(e,t){return[e,cp(t)]}function mp(e,t,n){return[e,cp(t),n]}const gp={},vp=["prefixPath","collectionGroup","readTime","documentId"],yp=["prefixPath","collectionGroup","documentId"],wp=["collectionGroup","readTime","prefixPath","documentId"],bp=["canonicalId","targetId"],xp=["targetId","path"],_p=["path","targetId"],Ip=["collectionId","parent"],Sp=["indexId","uid"],Ep=["uid","sequenceNumber"],kp=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Tp=["indexId","uid","orderedDocumentKey"],Np=["userId","collectionPath","documentId"],Cp=["userId","collectionPath","largestBatchId"],Ap=["userId","collectionGroup","largestBatchId"],jp=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Pp=[...jp,"documentOverlays"],Dp=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Rp=Dp,Op=[...Rp,"indexConfiguration","indexState","indexEntries"],Lp=Op;class Mp extends Gf{constructor(e,t){super(),this.ae=e,this.currentSequenceNumber=t}}function Fp(e,t){const n=hf(e);return Xf.M(n.ae,t)}function Up(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Vp(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Bp(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class zp{constructor(e,t){this.comparator=e,this.root=t||Wp.EMPTY}insert(e,t){return new zp(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Wp.BLACK,null,null))}remove(e){return new zp(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wp.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qp(this.root,e,this.comparator,!1)}getReverseIterator(){return new qp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qp(this.root,e,this.comparator,!0)}}class qp{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wp{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Wp.RED,this.left=null!=r?r:Wp.EMPTY,this.right=null!=i?i:Wp.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Wp(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Wp.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Wp.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wp.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wp.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw cf();if(this.right.isRed())throw cf();const e=this.left.check();if(e!==this.right.check())throw cf();return e+(this.isRed()?0:1)}}Wp.EMPTY=null,Wp.RED=!0,Wp.BLACK=!1,Wp.EMPTY=new class{constructor(){this.size=0}get key(){throw cf()}get value(){throw cf()}get color(){throw cf()}get left(){throw cf()}get right(){throw cf()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Wp(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Gp{constructor(e){this.comparator=e,this.data=new zp(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Kp(this.data.getIterator())}getIteratorFrom(e){return new Kp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Gp))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Gp(this.comparator);return t.data=e,t}}class Kp{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Hp(e){return e.hasNext()?e.getNext():void 0}class Qp{constructor(e){this.fields=e,e.sort(Df.comparator)}static empty(){return new Qp([])}unionWith(e){let t=new Gp(Df.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Qp(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return kf(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Xp extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Yp{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Xp("Invalid base64 string: "+e):e}}(e);return new Yp(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Yp(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ef(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yp.EMPTY_BYTE_STRING=new Yp("");const Jp=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $p(e){if(uf(!!e),"string"==typeof e){let t=0;const n=Jp.exec(e);if(uf(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Zp(e.seconds),nanos:Zp(e.nanos)}}function Zp(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function em(e){return"string"==typeof e?Yp.fromBase64String(e):Yp.fromUint8Array(e)}function tm(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function nm(e){const t=e.mapValue.fields.__previous_value__;return tm(t)?nm(t):t}function rm(e){const t=$p(e.mapValue.fields.__local_write_time__.timestampValue);return new Nf(t.seconds,t.nanos)}class im{constructor(e,t,n,r,i,s,a,o,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l}}class sm{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new sm("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof sm&&e.projectId===this.projectId&&e.database===this.database}}const am={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},om={nullValue:"NULL_VALUE"};function lm(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?tm(e)?4:_m(e)?9007199254740991:10:cf()}function cm(e,t){if(e===t)return!0;const n=lm(e);if(n!==lm(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return rm(e).isEqual(rm(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=$p(e.timestampValue),r=$p(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return em(e.bytesValue).isEqual(em(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Zp(e.geoPointValue.latitude)===Zp(t.geoPointValue.latitude)&&Zp(e.geoPointValue.longitude)===Zp(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Zp(e.integerValue)===Zp(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Zp(e.doubleValue),r=Zp(t.doubleValue);return n===r?op(n)===op(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return kf(e.arrayValue.values||[],t.arrayValue.values||[],cm);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Up(n)!==Up(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!cm(n[i],r[i])))return!1;return!0}(e,t);default:return cf()}}function um(e,t){return void 0!==(e.values||[]).find((e=>cm(e,t)))}function hm(e,t){if(e===t)return 0;const n=lm(e),r=lm(t);if(n!==r)return Ef(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ef(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Zp(e.integerValue||e.doubleValue),r=Zp(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return dm(e.timestampValue,t.timestampValue);case 4:return dm(rm(e),rm(t));case 5:return Ef(e.stringValue,t.stringValue);case 6:return function(e,t){const n=em(e),r=em(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Ef(n[i],r[i]);if(0!==e)return e}return Ef(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Ef(Zp(e.latitude),Zp(t.latitude));return 0!==n?n:Ef(Zp(e.longitude),Zp(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=hm(n[i],r[i]);if(e)return e}return Ef(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===am.mapValue&&t===am.mapValue)return 0;if(e===am.mapValue)return 1;if(t===am.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let a=0;a<r.length&&a<s.length;++a){const e=Ef(r[a],s[a]);if(0!==e)return e;const t=hm(n[r[a]],i[s[a]]);if(0!==t)return t}return Ef(r.length,s.length)}(e.mapValue,t.mapValue);default:throw cf()}}function dm(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Ef(e,t);const n=$p(e),r=$p(t),i=Ef(n.seconds,r.seconds);return 0!==i?i:Ef(n.nanos,r.nanos)}function fm(e){return pm(e)}function pm(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=$p(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return em(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Rf.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=pm(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(pm(e.fields[i]));return n+"}"}(e.mapValue):cf()}function mm(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function gm(e){return!!e&&"integerValue"in e}function vm(e){return!!e&&"arrayValue"in e}function ym(e){return!!e&&"nullValue"in e}function wm(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function bm(e){return!!e&&"mapValue"in e}function xm(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Vp(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=xm(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=xm(e.arrayValue.values[n]);return t}return Object.assign({},e)}function _m(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Im(e){return"nullValue"in e?om:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?mm(sm.empty(),Rf.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:cf()}function Sm(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?mm(sm.empty(),Rf.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?am:cf()}function Em(e,t){const n=hm(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function km(e,t){const n=hm(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class Tm{constructor(e){this.value=e}static empty(){return new Tm({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!bm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=xm(t)}setAll(e){let t=Df.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=xm(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());bm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return cm(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];bm(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Vp(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Tm(xm(this.value))}}function Nm(e){const t=[];return Vp(e.fields,((e,n)=>{const r=new Df([e]);if(bm(n)){const e=Nm(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Qp(t)}class Cm{constructor(e,t,n,r,i,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Cm(e,0,Cf.min(),Cf.min(),Cf.min(),Tm.empty(),0)}static newFoundDocument(e,t,n,r){return new Cm(e,1,t,Cf.min(),n,r,0)}static newNoDocument(e,t){return new Cm(e,2,t,Cf.min(),Cf.min(),Tm.empty(),0)}static newUnknownDocument(e,t){return new Cm(e,3,t,Cf.min(),Cf.min(),Tm.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Cf.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tm.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tm.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Cf.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Cm&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Cm(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Am{constructor(e,t){this.position=e,this.inclusive=t}}function jm(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(r=s.field.isKeyField()?Rf.comparator(Rf.fromName(a.referenceValue),n.key):hm(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Pm(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!cm(e.position[n],t.position[n]))return!1;return!0}class Dm{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Rm(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Om{}class Lm extends Om{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Km(e,t,n):"array-contains"===t?new Ym(e,n):"in"===t?new Jm(e,n):"not-in"===t?new $m(e,n):"array-contains-any"===t?new Zm(e,n):new Lm(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Hm(e,n):new Qm(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(hm(t,this.value)):null!==t&&lm(this.value)===lm(t)&&this.matchesComparison(hm(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return cf()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mm extends Om{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new Mm(e,t)}matches(e){return Fm(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Fm(e){return"and"===e.op}function Um(e){return"or"===e.op}function Vm(e){return Bm(e)&&Fm(e)}function Bm(e){for(const t of e.filters)if(t instanceof Mm)return!1;return!0}function zm(e){if(e instanceof Lm)return e.field.canonicalString()+e.op.toString()+fm(e.value);if(Vm(e))return e.filters.map((e=>zm(e))).join(",");{const t=e.filters.map((e=>zm(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function qm(e,t){return e instanceof Lm?function(e,t){return t instanceof Lm&&e.op===t.op&&e.field.isEqual(t.field)&&cm(e.value,t.value)}(e,t):e instanceof Mm?function(e,t){return t instanceof Mm&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&qm(n,t.filters[r])),!0)}(e,t):void cf()}function Wm(e,t){const n=e.filters.concat(t);return Mm.create(n,e.op)}function Gm(e){return e instanceof Lm?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(fm(e.value))}(e):e instanceof Mm?function(e){return e.op.toString()+" {"+e.getFilters().map(Gm).join(" ,")+"}"}(e):"Filter"}class Km extends Lm{constructor(e,t,n){super(e,t,n),this.key=Rf.fromName(n.referenceValue)}matches(e){const t=Rf.comparator(e.key,this.key);return this.matchesComparison(t)}}class Hm extends Lm{constructor(e,t){super(e,"in",t),this.keys=Xm("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Qm extends Lm{constructor(e,t){super(e,"not-in",t),this.keys=Xm("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Xm(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Rf.fromName(e.referenceValue)))}class Ym extends Lm{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return vm(t)&&um(t.arrayValue,this.value)}}class Jm extends Lm{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&um(this.value.arrayValue,t)}}class $m extends Lm{constructor(e,t){super(e,"not-in",t)}matches(e){if(um(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!um(this.value.arrayValue,t)}}class Zm extends Lm{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!vm(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>um(this.value.arrayValue,e)))}}class eg{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.ce=null}}function tg(e){return new eg(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function ng(e){const t=hf(e);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>zm(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),ap(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>fm(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>fm(e))).join(",")),t.ce=e}return t.ce}function rg(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Rm(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!qm(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Pm(e.startAt,t.startAt)&&Pm(e.endAt,t.endAt)}function ig(e){return Rf.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function sg(e,t){return e.filters.filter((e=>e instanceof Lm&&e.field.isEqual(t)))}function ag(e,t,n){let r=om,i=!0;for(const s of sg(e,t)){let e=om,t=!0;switch(s.op){case"<":case"<=":e=Im(s.value);break;case"==":case"in":case">=":e=s.value;break;case">":e=s.value,t=!1;break;case"!=":case"not-in":e=om}Em({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];Em({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function og(e,t,n){let r=am,i=!0;for(const s of sg(e,t)){let e=am,t=!0;switch(s.op){case">=":case">":e=Sm(s.value),t=!1;break;case"==":case"in":case"<=":e=s.value;break;case"<":e=s.value,t=!1;break;case"!=":case"not-in":e=am}km({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];km({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class lg{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function cg(e,t,n,r,i,s,a,o){return new lg(e,t,n,r,i,s,a,o)}function ug(e){return new lg(e)}function hg(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function dg(e){return null!==e.collectionGroup}function fg(e){const t=hf(e);if(null===t.le){t.le=[];const e=new Set;for(const i of t.explicitOrderBy)t.le.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Gp(Df.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.le.push(new Dm(r,n))})),e.has(Df.keyField().canonicalString())||t.le.push(new Dm(Df.keyField(),n))}return t.le}function pg(e){const t=hf(e);return t.he||(t.he=mg(t,fg(e))),t.he}function mg(e,t){if("F"===e.limitType)return tg(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new Dm(e.field,t)}));const n=e.endAt?new Am(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Am(e.startAt.position,e.startAt.inclusive):null;return tg(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function gg(e,t){const n=e.filters.concat([t]);return new lg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function vg(e,t,n){return new lg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function yg(e,t){return rg(pg(e),pg(t))&&e.limitType===t.limitType}function wg(e){return"".concat(ng(pg(e)),"|lt:").concat(e.limitType)}function bg(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>Gm(e))).join(", "),"]")),ap(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>fm(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>fm(e))).join(",")),"Target(".concat(t,")")}(pg(e)),"; limitType=").concat(e.limitType,")")}function xg(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Rf.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of fg(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=jm(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,fg(e),t))&&!(e.endAt&&!function(e,t,n){const r=jm(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,fg(e),t))}(e,t)}function _g(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Ig(e){return(t,n)=>{let r=!1;for(const i of fg(e)){const e=Sg(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Sg(e,t,n){const r=e.field.isKeyField()?Rf.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?hm(r,i):cf()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return cf()}}class Eg{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Vp(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return Bp(this.inner)}size(){return this.innerSize}}const kg=new zp(Rf.comparator);function Tg(){return kg}const Ng=new zp(Rf.comparator);function Cg(){let e=Ng;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Ag(e){let t=Ng;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function jg(){return Dg()}function Pg(){return Dg()}function Dg(){return new Eg((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Rg=new zp(Rf.comparator),Og=new Gp(Rf.comparator);function Lg(){let e=Og;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Mg=new Gp(Ef);function Fg(){return Mg}function Ug(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:op(t)?"-0":t}}function Vg(e){return{integerValue:""+e}}function Bg(e,t){return lp(t)?Vg(t):Ug(e,t)}class zg{constructor(){this._=void 0}}function qg(e,t,n){return e instanceof Kg?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&tm(t)&&(t=nm(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Hg?Qg(e,t):e instanceof Xg?Yg(e,t):function(e,t){const n=Gg(e,t),r=$g(n)+$g(e.Ie);return gm(n)&&gm(e.Ie)?Vg(r):Ug(e.serializer,r)}(e,t)}function Wg(e,t,n){return e instanceof Hg?Qg(e,t):e instanceof Xg?Yg(e,t):n}function Gg(e,t){return e instanceof Jg?function(e){return gm(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Kg extends zg{}class Hg extends zg{constructor(e){super(),this.elements=e}}function Qg(e,t){const n=Zg(t);for(const r of e.elements)n.some((e=>cm(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Xg extends zg{constructor(e){super(),this.elements=e}}function Yg(e,t){let n=Zg(t);for(const r of e.elements)n=n.filter((e=>!cm(e,r)));return{arrayValue:{values:n}}}class Jg extends zg{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function $g(e){return Zp(e.integerValue||e.doubleValue)}function Zg(e){return vm(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class ev{constructor(e,t){this.field=e,this.transform=t}}class tv{constructor(e,t){this.version=e,this.transformResults=t}}class nv{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new nv}static exists(e){return new nv(void 0,e)}static updateTime(e){return new nv(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rv(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class iv{}function sv(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new mv(e.key,nv.none()):new uv(e.key,e.data,nv.none());{const n=e.data,r=Tm.empty();let i=new Gp(Df.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new hv(e.key,r,new Qp(i.toArray()),nv.none())}}function av(e,t,n){e instanceof uv?function(e,t,n){const r=e.value.clone(),i=fv(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof hv?function(e,t,n){if(!rv(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=fv(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(dv(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function ov(e,t,n,r){return e instanceof uv?function(e,t,n,r){if(!rv(e.precondition,t))return n;const i=e.value.clone(),s=pv(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof hv?function(e,t,n,r){if(!rv(e.precondition,t))return n;const i=pv(e.fieldTransforms,r,t),s=t.data;return s.setAll(dv(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return rv(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function lv(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Gg(r.transform,e||null);null!=i&&(null===n&&(n=Tm.empty()),n.set(r.field,i))}return n||null}function cv(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&kf(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Hg&&t instanceof Hg||e instanceof Xg&&t instanceof Xg?kf(e.elements,t.elements,cm):e instanceof Jg&&t instanceof Jg?cm(e.Ie,t.Ie):e instanceof Kg&&t instanceof Kg}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class uv extends iv{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class hv extends iv{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function dv(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function fv(e,t,n){const r=new Map;uf(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],a=s.transform,o=t.data.field(s.field);r.set(s.field,Wg(a,o,n[i]))}return r}function pv(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,qg(e,s,t))}return r}class mv extends iv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gv extends iv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class vv{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&av(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=ov(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=ov(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Pg();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=t.has(r.key)?null:a;const o=sv(s,a);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(Cf.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Lg())}isEqual(e){return this.batchId===e.batchId&&kf(this.mutations,e.mutations,((e,t)=>cv(e,t)))&&kf(this.baseMutations,e.baseMutations,((e,t)=>cv(e,t)))}}class yv{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){uf(e.mutations.length===n.length);let r=Rg;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new yv(e,t,n,r)}}class wv{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class bv{constructor(e,t){this.count=e,this.unchangedNames=t}}var xv,_v;function Iv(e){switch(e){default:return cf();case df.CANCELLED:case df.UNKNOWN:case df.DEADLINE_EXCEEDED:case df.RESOURCE_EXHAUSTED:case df.INTERNAL:case df.UNAVAILABLE:case df.UNAUTHENTICATED:return!1;case df.INVALID_ARGUMENT:case df.NOT_FOUND:case df.ALREADY_EXISTS:case df.PERMISSION_DENIED:case df.FAILED_PRECONDITION:case df.ABORTED:case df.OUT_OF_RANGE:case df.UNIMPLEMENTED:case df.DATA_LOSS:return!0}}function Sv(e){if(void 0===e)return af("GRPC error has no .code"),df.UNKNOWN;switch(e){case xv.OK:return df.OK;case xv.CANCELLED:return df.CANCELLED;case xv.UNKNOWN:return df.UNKNOWN;case xv.DEADLINE_EXCEEDED:return df.DEADLINE_EXCEEDED;case xv.RESOURCE_EXHAUSTED:return df.RESOURCE_EXHAUSTED;case xv.INTERNAL:return df.INTERNAL;case xv.UNAVAILABLE:return df.UNAVAILABLE;case xv.UNAUTHENTICATED:return df.UNAUTHENTICATED;case xv.INVALID_ARGUMENT:return df.INVALID_ARGUMENT;case xv.NOT_FOUND:return df.NOT_FOUND;case xv.ALREADY_EXISTS:return df.ALREADY_EXISTS;case xv.PERMISSION_DENIED:return df.PERMISSION_DENIED;case xv.FAILED_PRECONDITION:return df.FAILED_PRECONDITION;case xv.ABORTED:return df.ABORTED;case xv.OUT_OF_RANGE:return df.OUT_OF_RANGE;case xv.UNIMPLEMENTED:return df.UNIMPLEMENTED;case xv.DATA_LOSS:return df.DATA_LOSS;default:return cf()}}(_v=xv||(xv={}))[_v.OK=0]="OK",_v[_v.CANCELLED=1]="CANCELLED",_v[_v.UNKNOWN=2]="UNKNOWN",_v[_v.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_v[_v.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_v[_v.NOT_FOUND=5]="NOT_FOUND",_v[_v.ALREADY_EXISTS=6]="ALREADY_EXISTS",_v[_v.PERMISSION_DENIED=7]="PERMISSION_DENIED",_v[_v.UNAUTHENTICATED=16]="UNAUTHENTICATED",_v[_v.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_v[_v.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_v[_v.ABORTED=10]="ABORTED",_v[_v.OUT_OF_RANGE=11]="OUT_OF_RANGE",_v[_v.UNIMPLEMENTED=12]="UNIMPLEMENTED",_v[_v.INTERNAL=13]="INTERNAL",_v[_v.UNAVAILABLE=14]="UNAVAILABLE",_v[_v.DATA_LOSS=15]="DATA_LOSS";let Ev=null;function kv(){return new TextEncoder}const Tv=new $d([4294967295,4294967295],0);function Nv(e){const t=kv().encode(e),n=new Jd;return n.update(t),new Uint8Array(n.digest())}function Cv(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new $d([n,r],0),new $d([i,s],0)]}class Av{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new jv("Invalid padding: ".concat(t));if(n<0)throw new jv("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new jv("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new jv("Invalid padding when bitmap length is 0: ".concat(t));this.Te=8*e.length-t,this.Ee=$d.fromNumber(this.Te)}de(e,t,n){let r=e.add(t.multiply($d.fromNumber(n)));return 1===r.compare(Tv)&&(r=new $d([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=Nv(e),[n,r]=Cv(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);if(!this.Ae(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new Av(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.Te)return;const t=Nv(e),[n,r]=Cv(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);this.Re(e)}}Re(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class jv extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Pv{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Dv.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Pv(Cf.min(),r,new zp(Ef),Tg(),Lg())}}class Dv{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Dv(n,t,Lg(),Lg(),Lg())}}class Rv{constructor(e,t,n,r){this.Ve=e,this.removedTargetIds=t,this.key=n,this.me=r}}class Ov{constructor(e,t){this.targetId=e,this.fe=t}}class Lv{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Yp.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Mv{constructor(){this.ge=0,this.pe=Vv(),this.ye=Yp.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Lg(),t=Lg(),n=Lg();return this.pe.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:cf()}})),new Dv(this.ye,this.we,e,t,n)}Fe(){this.Se=!1,this.pe=Vv()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,uf(this.ge>=0)}Le(){this.Se=!0,this.we=!0}}class Fv{constructor(e){this.Be=e,this.ke=new Map,this.qe=Tg(),this.Qe=Uv(),this.Ke=new zp(Ef)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,(t=>{const n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.Ce(e.resumeToken);break;case 1:n.Ne(),n.be||n.Fe(),n.Ce(e.resumeToken);break;case 2:n.Ne(),n.be||this.removeTarget(t);break;case 3:this.je(t)&&(n.Le(),n.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.Ce(e.resumeToken));break;default:cf()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach(((e,n)=>{this.je(n)&&t(n)}))}Je(e){const t=e.targetId,n=e.fe.count,r=this.Ye(t);if(r){const i=r.target;if(ig(i))if(0===n){const e=new Rf(i.path);this.We(t,e,Cm.newNoDocument(e,Cf.min()))}else uf(1===n);else{const r=this.Ze(t);if(r!==n){const n=this.Xe(e),i=n?this.et(n,e,r):1;if(0!==i){this.He(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==Ev||Ev.tt(function(e,t,n,r,i){var s,a,o,l,c,u;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===i,hashCount:null!==(s=null==d?void 0:d.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(o=null===(a=null==d?void 0:d.bits)||void 0===a?void 0:a.bitmap)||void 0===o?void 0:o.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==d?void 0:d.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.fe,this.Be.nt(),n,i))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,a;try{s=em(n).toUint8Array()}catch(e){if(e instanceof Xp)return of("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new Av(s,r,i)}catch(e){return of(e instanceof jv?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.Te?null:a}et(e,t,n){return t.fe.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){const n=this.Be.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Be.nt(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(s)||(this.We(t,n,null),r++)})),r}it(e){const t=new Map;this.ke.forEach(((n,r)=>{const i=this.Ye(r);if(i){if(n.current&&ig(i.target)){const t=new Rf(i.target.path);null!==this.qe.get(t)||this.st(r,t)||this.We(r,t,Cm.newNoDocument(t,e))}n.De&&(t.set(r,n.ve()),n.Fe())}}));let n=Lg();this.Qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Ye(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.qe.forEach(((t,n)=>n.setReadTime(e)));const r=new Pv(e,t,this.Ke,this.qe,n);return this.qe=Tg(),this.Qe=Uv(),this.Ke=new zp(Ef),r}Ue(e,t){if(!this.je(e))return;const n=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,n),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,n){if(!this.je(e))return;const r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),n&&(this.qe=this.qe.insert(t,n))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new Mv,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new Gp(Ef),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||sf("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Be._t(e)}He(e){this.ke.set(e,new Mv),this.Be.getRemoteKeysForTarget(e).forEach((t=>{this.We(e,t,null)}))}st(e,t){return this.Be.getRemoteKeysForTarget(e).has(t)}}function Uv(){return new zp(Rf.comparator)}function Vv(){return new zp(Rf.comparator)}const Bv={asc:"ASCENDING",desc:"DESCENDING"},zv={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qv={and:"AND",or:"OR"};class Wv{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Gv(e,t){return e.useProto3Json||ap(t)?t:{value:t}}function Kv(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Hv(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Qv(e,t){return Kv(e,t.toTimestamp())}function Xv(e){return uf(!!e),Cf.fromTimestamp(function(e){const t=$p(e);return new Nf(t.seconds,t.nanos)}(e))}function Yv(e,t){return Jv(e,t).canonicalString()}function Jv(e,t){const n=function(e){return new jf(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function $v(e){const t=jf.fromString(e);return uf(by(t)),t}function Zv(e,t){return Yv(e.databaseId,t.path)}function ey(e,t){const n=$v(t);if(n.get(1)!==e.databaseId.projectId)throw new ff(df.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ff(df.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Rf(iy(n))}function ty(e,t){return Yv(e.databaseId,t)}function ny(e){const t=$v(e);return 4===t.length?jf.emptyPath():iy(t)}function ry(e){return new jf(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function iy(e){return uf(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function sy(e,t,n){return{name:Zv(e,t),fields:n.value.mapValue.fields}}function ay(e,t,n){const r=ey(e,t.name),i=Xv(t.updateTime),s=t.createTime?Xv(t.createTime):Cf.min(),a=new Tm({mapValue:{fields:t.fields}}),o=Cm.newFoundDocument(r,i,s,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function oy(e,t){let n;if(t instanceof uv)n={update:sy(e,t.key,t.value)};else if(t instanceof mv)n={delete:Zv(e,t.key)};else if(t instanceof hv)n={update:sy(e,t.key,t.data),updateMask:wy(t.fieldMask)};else{if(!(t instanceof gv))return cf();n={verify:Zv(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Kg)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Hg)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Xg)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Jg)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw cf()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Qv(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:cf()}(e,t.precondition)),n}function ly(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?nv.updateTime(Xv(e.updateTime)):void 0!==e.exists?nv.exists(e.exists):nv.none()}(t.currentDocument):nv.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)uf("REQUEST_TIME"===t.setToServerValue),n=new Kg;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new Hg(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new Xg(e)}else"increment"in t?n=new Jg(e,t.increment):cf();const r=Df.fromServerFormat(t.fieldPath);return new ev(r,n)}(e,t))):[];if(t.update){t.update.name;const i=ey(e,t.update.name),s=new Tm({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new Qp(t.map((e=>Df.fromServerFormat(e))))}(t.updateMask);return new hv(i,s,e,n,r)}return new uv(i,s,n,r)}if(t.delete){const r=ey(e,t.delete);return new mv(r,n)}if(t.verify){const r=ey(e,t.verify);return new gv(r,n)}return cf()}function cy(e,t){return{documents:[ty(e,t.path)]}}function uy(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ty(e,i);const s=function(e){if(0!==e.length)return yy(Mm.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:gy(e.field),direction:fy(e.dir)}}(e)))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=Gv(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ut:n,parent:i}}function hy(e){let t=ny(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){uf(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=dy(e);return t instanceof Mm&&Vm(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map((e=>function(e){return new Dm(vy(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,ap(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Am(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Am(n,t)}(n.endAt)),cg(t,i,a,s,o,"F",l,c)}function dy(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=vy(e.unaryFilter.field);return Lm.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=vy(e.unaryFilter.field);return Lm.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=vy(e.unaryFilter.field);return Lm.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=vy(e.unaryFilter.field);return Lm.create(i,"!=",{nullValue:"NULL_VALUE"});default:return cf()}}(e):void 0!==e.fieldFilter?function(e){return Lm.create(vy(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return cf()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Mm.create(e.compositeFilter.filters.map((e=>dy(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return cf()}}(e.compositeFilter.op))}(e):cf()}function fy(e){return Bv[e]}function py(e){return zv[e]}function my(e){return qv[e]}function gy(e){return{fieldPath:e.canonicalString()}}function vy(e){return Df.fromServerFormat(e.fieldPath)}function yy(e){return e instanceof Lm?function(e){if("=="===e.op){if(wm(e.value))return{unaryFilter:{field:gy(e.field),op:"IS_NAN"}};if(ym(e.value))return{unaryFilter:{field:gy(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(wm(e.value))return{unaryFilter:{field:gy(e.field),op:"IS_NOT_NAN"}};if(ym(e.value))return{unaryFilter:{field:gy(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gy(e.field),op:py(e.op),value:e.value}}}(e):e instanceof Mm?function(e){const t=e.getFilters().map((e=>yy(e)));return 1===t.length?t[0]:{compositeFilter:{op:my(e.op),filters:t}}}(e):cf()}function wy(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function by(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class xy{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Cf.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Cf.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Yp.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new xy(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new xy(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xy(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xy(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class _y{constructor(e){this.ct=e}}function Iy(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Sy(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Zv(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Kv(e,t.version.toTimestamp()),createTime:Kv(e,t.createTime.toTimestamp())}}(e.ct,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Ey(t.version)};else{if(!t.isUnknownDocument())return cf();r.unknownDocument={path:n.path.toArray(),version:Ey(t.version)}}return r}function Sy(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Ey(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function ky(e){const t=new Nf(e.seconds,e.nanoseconds);return Cf.fromTimestamp(t)}function Ty(e,t){const n=(t.baseMutations||[]).map((t=>ly(e.ct,t)));for(let s=0;s<t.mutations.length-1;++s){const e=t.mutations[s];if(s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform){const n=t.mutations[s+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(s+1,1),++s}}const r=t.mutations.map((t=>ly(e.ct,t))),i=Nf.fromMillis(t.localWriteTimeMs);return new vv(t.batchId,i,n,r)}function Ny(e){const t=ky(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?ky(e.lastLimboFreeSnapshotVersion):Cf.min();let r;return r=function(e){return void 0!==e.documents}(e.query)?function(e){return uf(1===e.documents.length),pg(ug(ny(e.documents[0])))}(e.query):function(e){return pg(hy(e))}(e.query),new xy(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,Yp.fromBase64String(e.resumeToken))}function Cy(e,t){const n=Ey(t.snapshotVersion),r=Ey(t.lastLimboFreeSnapshotVersion);let i;i=ig(t.target)?cy(e.ct,t.target):uy(e.ct,t.target).ut;const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:ng(t.target),readTime:n,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Ay(e){const t=hy({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?vg(t,t.limit,"L"):t}function jy(e,t){return new wv(t.largestBatchId,ly(e.ct,t.overlayMutation))}function Py(e,t){const n=t.path.lastSegment();return[e,cp(t.path.popLast()),n]}function Dy(e,t,n,r){return{indexId:e,uid:t,sequenceNumber:n,readTime:Ey(r.readTime),documentKey:cp(r.documentKey.path),largestBatchId:r.largestBatchId}}class Ry{getBundleMetadata(e,t){return Oy(e).get(t).next((e=>{if(e)return function(e){return{id:e.bundleId,createTime:ky(e.createTime),version:e.version}}(e)}))}saveBundleMetadata(e,t){return Oy(e).put(function(e){return{bundleId:e.id,createTime:Ey(Xv(e.createTime)),version:e.version}}(t))}getNamedQuery(e,t){return Ly(e).get(t).next((e=>{if(e)return function(e){return{name:e.name,query:Ay(e.bundledQuery),readTime:ky(e.readTime)}}(e)}))}saveNamedQuery(e,t){return Ly(e).put(function(e){return{name:e.name,readTime:Ey(Xv(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function Oy(e){return Fp(e,"bundles")}function Ly(e){return Fp(e,"namedQueries")}class My{constructor(e,t){this.serializer=e,this.userId=t}static lt(e,t){const n=t.uid||"";return new My(e,n)}getOverlay(e,t){return Fy(e).get(Py(this.userId,t)).next((e=>e?jy(this.serializer,e):null))}getOverlays(e,t){const n=jg();return Hf.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const s=new wv(t,i);r.push(this.ht(e,s))})),Hf.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(cp(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(Fy(e).H("collectionPathOverlayIndex",r))})),Hf.waitFor(i)}getOverlaysForCollection(e,t,n){const r=jg(),i=cp(t),s=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Fy(e).W("collectionPathOverlayIndex",s).next((e=>{for(const t of e){const e=jy(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=jg();let s;const a=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Fy(e).Y({index:"collectionGroupOverlayIndex",range:a},((e,t,n)=>{const a=jy(this.serializer,t);i.size()<r||a.largestBatchId===s?(i.set(a.getKey(),a),s=a.largestBatchId):n.done()})).next((()=>i))}ht(e,t){return Fy(e).put(function(e,t,n){const[r,i,s]=Py(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:s,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:oy(e.ct,n.mutation)}}(this.serializer,this.userId,t))}}function Fy(e){return Fp(e,"documentOverlays")}class Uy{constructor(){}Pt(e,t){this.It(e,t),t.Tt()}It(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(Zp(e.integerValue));else if("doubleValue"in e){const n=Zp(e.doubleValue);isNaN(n)?this.Et(t,13):(this.Et(t,15),op(n)?t.dt(0):t.dt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Et(t,20),"string"==typeof n&&(n=$p(n)),t.At("".concat(n.seconds||"")),t.dt(n.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(em(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Et(t,45),t.dt(n.latitude||0),t.dt(n.longitude||0)}else"mapValue"in e?_m(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):cf()}Rt(e,t){this.Et(t,25),this.St(e,t)}St(e,t){t.At(e)}yt(e,t){const n=e.fields||{};this.Et(t,55);for(const r of Object.keys(n))this.Rt(r,t),this.It(n[r],t)}wt(e,t){const n=e.values||[];this.Et(t,50);for(const r of n)this.It(r,t)}gt(e,t){this.Et(t,37),Rf.fromName(e).path.forEach((e=>{this.Et(t,60),this.St(e,t)}))}Et(e,t){e.dt(t)}Vt(e){e.dt(2)}}function Vy(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function By(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=Vy(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Uy.bt=new Uy;class zy{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ct(n.value),n=t.next();this.vt()}Ft(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Mt(n.value),n=t.next();this.xt()}Ot(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ct(e);else if(e<2048)this.Ct(960|e>>>6),this.Ct(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ct(480|e>>>12),this.Ct(128|63&e>>>6),this.Ct(128|63&e);else{const e=t.codePointAt(0);this.Ct(240|e>>>18),this.Ct(128|63&e>>>12),this.Ct(128|63&e>>>6),this.Ct(128|63&e)}}this.vt()}Nt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Mt(e);else if(e<2048)this.Mt(960|e>>>6),this.Mt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Mt(480|e>>>12),this.Mt(128|63&e>>>6),this.Mt(128|63&e);else{const e=t.codePointAt(0);this.Mt(240|e>>>18),this.Mt(128|63&e>>>12),this.Mt(128|63&e>>>6),this.Mt(128|63&e)}}this.xt()}Lt(e){const t=this.Bt(e),n=By(t);this.kt(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}qt(e){const t=this.Bt(e),n=By(t);this.kt(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}Ct(e){const t=255&e;0===t?(this.Kt(0),this.Kt(255)):255===t?(this.Kt(255),this.Kt(0)):this.Kt(t)}Mt(e){const t=255&e;0===t?(this.Ut(0),this.Ut(255)):255===t?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class qy{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class Wy{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class Gy{constructor(){this.Gt=new zy,this.zt=new qy(this.Gt),this.jt=new Wy(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class Ky{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}Jt(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new Ky(this.indexId,this.documentKey,this.arrayValue,n)}}function Hy(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=Qy(e.arrayValue,t.arrayValue),0!==n?n:(n=Qy(e.directionalValue,t.directionalValue),0!==n?n:Rf.comparator(e.documentKey,t.documentKey)))}function Qy(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class Xy{constructor(e){this.Yt=new Gp(((e,t)=>Df.comparator(e.field,t.field))),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const t of e.filters){const e=t;e.isInequality()?this.Yt=this.Yt.add(e):this.Xt.push(e)}}get en(){return this.Yt.size>1}tn(e){if(uf(e.collectionGroup===this.collectionId),this.en)return!1;const t=Lf(e);if(void 0!==t&&!this.nn(t))return!1;const n=Mf(e);let r=new Set,i=0,s=0;for(;i<n.length&&this.nn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.Yt.size>0){const e=this.Yt.getIterator().getNext();if(!r.has(e.field.canonicalString())){const t=n[i];if(!this.rn(e,t)||!this.sn(this.Zt[s++],t))return!1}++i}for(;i<n.length;++i){const e=n[i];if(s>=this.Zt.length||!this.sn(this.Zt[s++],e))return!1}return!0}on(){if(this.en)return null;let e=new Gp(Df.comparator);const t=[];for(const n of this.Xt)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new Ff(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new Ff(n.field,0))}for(const n of this.Zt)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new Ff(n.field,"asc"===n.dir?0:1)));return new Of(Of.UNKNOWN_ID,this.collectionId,t,Uf.empty())}nn(e){for(const t of this.Xt)if(this.rn(t,e))return!0;return!1}rn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Yy(e){var t,n;if(uf(e instanceof Lm||e instanceof Mm),e instanceof Lm){if(e instanceof Jm){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>Lm.create(e.field,"==",t))))||[];return Mm.create(r,"or")}return e}const r=e.filters.map((e=>Yy(e)));return Mm.create(r,e.op)}function Jy(e){if(0===e.getFilters().length)return[];const t=tw(Yy(e));return uf(ew(t)),$y(t)||Zy(t)?[t]:t.getFilters()}function $y(e){return e instanceof Lm}function Zy(e){return e instanceof Mm&&Vm(e)}function ew(e){return $y(e)||Zy(e)||function(e){if(e instanceof Mm&&Um(e)){for(const t of e.getFilters())if(!$y(t)&&!Zy(t))return!1;return!0}return!1}(e)}function tw(e){if(uf(e instanceof Lm||e instanceof Mm),e instanceof Lm)return e;if(1===e.filters.length)return tw(e.filters[0]);const t=e.filters.map((e=>tw(e)));let n=Mm.create(t,e.op);return n=iw(n),ew(n)?n:(uf(n instanceof Mm),uf(Fm(n)),uf(n.filters.length>1),n.filters.reduce(((e,t)=>nw(e,t))))}function nw(e,t){let n;return uf(e instanceof Lm||e instanceof Mm),uf(t instanceof Lm||t instanceof Mm),n=e instanceof Lm?t instanceof Lm?function(e,t){return Mm.create([e,t],"and")}(e,t):rw(e,t):t instanceof Lm?rw(t,e):function(e,t){if(uf(e.filters.length>0&&t.filters.length>0),Fm(e)&&Fm(t))return Wm(e,t.getFilters());const n=Um(e)?e:t,r=Um(e)?t:e,i=n.filters.map((e=>nw(e,r)));return Mm.create(i,"or")}(e,t),iw(n)}function rw(e,t){if(Fm(t))return Wm(t,e.getFilters());{const n=t.filters.map((t=>nw(e,t)));return Mm.create(n,"or")}}function iw(e){if(uf(e instanceof Lm||e instanceof Mm),e instanceof Lm)return e;const t=e.getFilters();if(1===t.length)return iw(t[0]);if(Bm(e))return e;const n=t.map((e=>iw(e))),r=[];return n.forEach((t=>{t instanceof Lm?r.push(t):t instanceof Mm&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:Mm.create(r,e.op)}class sw{constructor(){this._n=new aw}addToCollectionParentIndex(e,t){return this._n.add(t),Hf.resolve()}getCollectionParents(e,t){return Hf.resolve(this._n.getEntries(t))}addFieldIndex(e,t){return Hf.resolve()}deleteFieldIndex(e,t){return Hf.resolve()}deleteAllFieldIndexes(e){return Hf.resolve()}createTargetIndexes(e,t){return Hf.resolve()}getDocumentsMatchingTarget(e,t){return Hf.resolve(null)}getIndexType(e,t){return Hf.resolve(0)}getFieldIndexes(e,t){return Hf.resolve([])}getNextCollectionGroupToUpdate(e){return Hf.resolve(null)}getMinOffset(e,t){return Hf.resolve(zf.min())}getMinOffsetFromCollectionGroup(e,t){return Hf.resolve(zf.min())}updateCollectionGroup(e,t,n){return Hf.resolve()}updateIndexEntries(e,t){return Hf.resolve()}}class aw{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Gp(jf.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Gp(jf.comparator)).toArray()}}const ow=new Uint8Array(0);class lw{constructor(e,t){this.databaseId=t,this.an=new aw,this.un=new Eg((e=>ng(e)),((e,t)=>rg(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.an.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this.an.add(t)}));const i={collectionId:n,parent:cp(r)};return cw(e).put(i)}return Hf.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[Tf(t),""],!1,!0);return cw(e).W(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(dp(r.parent))}return n}))}addFieldIndex(e,t){const n=hw(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=dw(e);return i.next((e=>{n.put(Dy(e,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=hw(e),r=dw(e),i=uw(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=hw(e),n=uw(e),r=dw(e);return t.H().next((()=>n.H())).next((()=>r.H()))}createTargetIndexes(e,t){return Hf.forEach(this.cn(t),(t=>this.getIndexType(e,t).next((n=>{if(0===n||1===n){const n=new Xy(t).on();if(null!=n)return this.addFieldIndex(e,n)}}))))}getDocumentsMatchingTarget(e,t){const n=uw(e);let r=!0;const i=new Map;return Hf.forEach(this.cn(t),(t=>this.ln(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=Lg();const r=[];return Hf.forEach(i,((i,s)=>{sf("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map((e=>"".concat(e.fieldPath,":").concat(e.kind))).join(","))}(i)," to execute ").concat(ng(t)));const a=function(e,t){const n=Lf(t);if(void 0===n)return null;for(const r of sg(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(s,i),o=function(e,t){const n=new Map;for(const r of Mf(t))for(const t of sg(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(s,i),l=function(e,t){const n=[];let r=!0;for(const i of Mf(t)){const t=0===i.kind?ag(e,i.fieldPath,e.startAt):og(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new Am(n,r)}(s,i),c=function(e,t){const n=[];let r=!0;for(const i of Mf(t)){const t=0===i.kind?og(e,i.fieldPath,e.endAt):ag(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new Am(n,r)}(s,i),u=this.hn(i,s,l),h=this.hn(i,s,c),d=this.Pn(i,s,o),f=this.In(i.indexId,a,u,l.inclusive,h,c.inclusive,d);return Hf.forEach(f,(i=>n.j(i,t.limit).next((t=>{t.forEach((t=>{const n=Rf.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return Hf.resolve(null)}))}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:Jy(Mm.create(e.filters,"and")).map((t=>tg(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.un.set(e,t),t)}In(e,t,n,r,i,s,a){const o=(null!=t?t.length:1)*Math.max(n.length,i.length),l=o/(null!=t?t.length:1),c=[];for(let u=0;u<o;++u){const o=t?this.Tn(t[u/l]):ow,h=this.En(e,o,n[u%l],r),d=this.dn(e,o,i[u%l],s),f=a.map((t=>this.En(e,o,t,!0)));c.push(...this.createRange(h,d,f))}return c}En(e,t,n,r){const i=new Ky(e,Rf.empty(),t,n);return r?i:i.Jt()}dn(e,t,n,r){const i=new Ky(e,Rf.empty(),t,n);return r?i.Jt():i}ln(e,t){const n=new Xy(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.tn(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.cn(t);return Hf.forEach(r,(t=>this.ln(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new Gp(Df.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}An(e,t){const n=new Gy;for(const r of Mf(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.Ht(r.kind);Uy.bt.Pt(e,i)}return n.Wt()}Tn(e){const t=new Gy;return Uy.bt.Pt(e,t.Ht(0)),t.Wt()}Rn(e,t){const n=new Gy;return Uy.bt.Pt(mm(this.databaseId,t),n.Ht(function(e){const t=Mf(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Wt()}Pn(e,t,n){if(null===n)return[];let r=[];r.push(new Gy);let i=0;for(const s of Mf(e)){const e=n[i++];for(const n of r)if(this.Vn(t,s.fieldPath)&&vm(e))r=this.mn(r,s,e);else{const t=n.Ht(s.kind);Uy.bt.Pt(e,t)}}return this.fn(r)}hn(e,t,n){return this.Pn(e,t,n.position)}fn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Wt();return t}mn(e,t,n){const r=[...e],i=[];for(const s of n.arrayValue.values||[])for(const e of r){const n=new Gy;n.seed(e.Wt()),Uy.bt.Pt(s,n.Ht(t.kind)),i.push(n)}return i}Vn(e,t){return!!e.filters.find((e=>e instanceof Lm&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=hw(e),r=dw(e);return(t?n.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.W()).next((e=>{const t=[];return Hf.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new Uf(t.sequenceNumber,new zf(ky(t.readTime),new Rf(dp(t.documentKey)),t.largestBatchId)):Uf.empty(),r=e.fields.map((e=>{let[t,n]=e;return new Ff(Df.fromServerFormat(t),n)}));return new Of(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Ef(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=hw(e),i=dw(e);return this.gn(e).next((e=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>Hf.forEach(t,(t=>i.put(Dy(t.indexId,this.uid,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return Hf.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?Hf.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),Hf.forEach(i,(n=>this.pn(e,t,n).next((t=>{const i=this.yn(r,n);return t.isEqual(i)?Hf.resolve():this.wn(e,r,n,t,i)})))))))}))}Sn(e,t,n,r){return uw(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.Rn(n,t.key),documentKey:t.key.path.toArray()})}bn(e,t,n,r){return uw(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.Rn(n,t.key),t.key.path.toArray()])}pn(e,t,n){const r=uw(e);let i=new Gp(Hy);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.Rn(n,t)])},((e,r)=>{i=i.add(new Ky(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}yn(e,t){let n=new Gp(Hy);const r=this.An(t,e);if(null==r)return n;const i=Lf(t);if(null!=i){const s=e.data.field(i.fieldPath);if(vm(s))for(const i of s.arrayValue.values||[])n=n.add(new Ky(t.indexId,e.key,this.Tn(i),r))}else n=n.add(new Ky(t.indexId,e.key,ow,r));return n}wn(e,t,n,r,i){sf("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(e,t,n,r,i){const s=e.getIterator(),a=t.getIterator();let o=Hp(s),l=Hp(a);for(;o||l;){let e=!1,t=!1;if(o&&l){const r=n(o,l);r<0?t=!0:r>0&&(e=!0)}else null!=o?t=!0:e=!0;e?(r(l),l=Hp(a)):t?(i(o),o=Hp(s)):(o=Hp(s),l=Hp(a))}}(r,i,Hy,(r=>{s.push(this.Sn(e,t,n,r))}),(r=>{s.push(this.bn(e,t,n,r))})),Hf.waitFor(s)}gn(e){let t=1;return dw(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>Hy(e,t))).filter(((e,t,n)=>!t||0!==Hy(e,n[t-1])));const r=[];r.push(e);for(const s of n){const n=Hy(s,e),i=Hy(s,t);if(0===n)r[0]=e.Jt();else if(n>0&&i<0)r.push(s),r.push(s.Jt());else if(i>0)break}r.push(t);const i=[];for(let s=0;s<r.length;s+=2){if(this.Dn(r[s],r[s+1]))return[];const e=[r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,ow,[]],t=[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,ow,[]];i.push(IDBKeyRange.bound(e,t))}return i}Dn(e,t){return Hy(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(fw)}getMinOffset(e,t){return Hf.mapArray(this.cn(t),(t=>this.ln(e,t).next((e=>e||cf())))).next(fw)}}function cw(e){return Fp(e,"collectionParents")}function uw(e){return Fp(e,"indexEntries")}function hw(e){return Fp(e,"indexConfiguration")}function dw(e){return Fp(e,"indexState")}function fw(e){uf(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;qf(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new zf(t.readTime,t.documentKey,n)}const pw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class mw{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new mw(e,mw.DEFAULT_COLLECTION_PERCENTILE,mw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function gw(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),s=[],a=IDBKeyRange.only(n.batchId);let o=0;const l=r.Y({range:a},((e,t,n)=>(o++,n.delete())));s.push(l.next((()=>{uf(1===o)})));const c=[];for(const u of n.mutations){const e=mp(t,u.key.path,n.batchId);s.push(i.delete(e)),c.push(u.key)}return Hf.waitFor(s).next((()=>c))}function vw(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw cf();t=e.noDocument}return JSON.stringify(t).length}mw.DEFAULT_COLLECTION_PERCENTILE=10,mw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mw.DEFAULT=new mw(41943040,mw.DEFAULT_COLLECTION_PERCENTILE,mw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mw.DISABLED=new mw(-1,0,0);class yw{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Cn={}}static lt(e,t,n,r){uf(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new yw(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return bw(e).Y({index:"userMutationsIndex",range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=xw(e),s=bw(e);return s.add({}).next((a=>{uf("number"==typeof a);const o=new vv(a,t,n,r),l=function(e,t,n){const r=n.baseMutations.map((t=>oy(e.ct,t))),i=n.mutations.map((t=>oy(e.ct,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,o),c=[];let u=new Gp(((e,t)=>Ef(e.canonicalString(),t.canonicalString())));for(const e of r){const t=mp(this.userId,e.key.path,a);u=u.add(e.key.path.popLast()),c.push(s.put(l)),c.push(i.put(t,gp))}return u.forEach((t=>{c.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Cn[a]=o.keys()})),Hf.waitFor(c).next((()=>o))}))}lookupMutationBatch(e,t){return bw(e).get(t).next((e=>e?(uf(e.userId===this.userId),Ty(this.serializer,e)):null))}vn(e,t){return this.Cn[t]?Hf.resolve(this.Cn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Cn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return bw(e).Y({index:"userMutationsIndex",range:r},((e,t,r)=>{t.userId===this.userId&&(uf(t.batchId>=n),i=Ty(this.serializer,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return bw(e).Y({index:"userMutationsIndex",range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return bw(e).W("userMutationsIndex",t).next((e=>e.map((e=>Ty(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=pp(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return xw(e).Y({range:r},((n,r,s)=>{const[a,o,l]=n,c=dp(o);if(a===this.userId&&t.path.isEqual(c))return bw(e).get(l).next((e=>{if(!e)throw cf();uf(e.userId===this.userId),i.push(Ty(this.serializer,e))}));s.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Gp(Ef);const r=[];return t.forEach((t=>{const i=pp(this.userId,t.path),s=IDBKeyRange.lowerBound(i),a=xw(e).Y({range:s},((e,r,i)=>{const[s,a,o]=e,l=dp(a);s===this.userId&&t.path.isEqual(l)?n=n.add(o):i.done()}));r.push(a)})),Hf.waitFor(r).next((()=>this.Fn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=pp(this.userId,n),s=IDBKeyRange.lowerBound(i);let a=new Gp(Ef);return xw(e).Y({range:s},((e,t,i)=>{const[s,o,l]=e,c=dp(o);s===this.userId&&n.isPrefixOf(c)?c.length===r&&(a=a.add(l)):i.done()})).next((()=>this.Fn(e,a)))}Fn(e,t){const n=[],r=[];return t.forEach((t=>{r.push(bw(e).get(t).next((e=>{if(null===e)throw cf();uf(e.userId===this.userId),n.push(Ty(this.serializer,e))})))})),Hf.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return gw(e.ae,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.Mn(t.batchId)})),Hf.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return Hf.resolve();const n=IDBKeyRange.lowerBound(function(e){return[e]}(this.userId)),r=[];return xw(e).Y({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=dp(e[1]);r.push(t)}else n.done()})).next((()=>{uf(0===r.length)}))}))}containsKey(e,t){return ww(e,this.userId,t)}xn(e){return _w(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function ww(e,t,n){const r=pp(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let a=!1;return xw(e).Y({range:s,J:!0},((e,n,r)=>{const[s,o,l]=e;s===t&&o===i&&(a=!0),r.done()})).next((()=>a))}function bw(e){return Fp(e,"mutations")}function xw(e){return Fp(e,"documentMutations")}function _w(e){return Fp(e,"mutationQueues")}class Iw{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Iw(0)}static Ln(){return new Iw(-1)}}class Sw{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Bn(e).next((t=>{const n=new Iw(t.highestTargetId);return t.highestTargetId=n.next(),this.kn(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.Bn(e).next((e=>Cf.fromTimestamp(new Nf(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.Bn(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.Bn(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.kn(e,r))))}addTargetData(e,t){return this.qn(e,t).next((()=>this.Bn(e).next((n=>(n.targetCount+=1,this.Qn(t,n),this.kn(e,n))))))}updateTargetData(e,t){return this.qn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>Ew(e).delete(t.targetId))).next((()=>this.Bn(e))).next((t=>(uf(t.targetCount>0),t.targetCount-=1,this.kn(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return Ew(e).Y(((s,a)=>{const o=Ny(a);o.sequenceNumber<=t&&null===n.get(o.targetId)&&(r++,i.push(this.removeTargetData(e,o)))})).next((()=>Hf.waitFor(i))).next((()=>r))}forEachTarget(e,t){return Ew(e).Y(((e,n)=>{const r=Ny(n);t(r)}))}Bn(e){return kw(e).get("targetGlobalKey").next((e=>(uf(null!==e),e)))}kn(e,t){return kw(e).put("targetGlobalKey",t)}qn(e,t){return Ew(e).put(Cy(this.serializer,t))}Qn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.Bn(e).next((e=>e.targetCount))}getTargetData(e,t){const n=ng(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return Ew(e).Y({range:r,index:"queryTargetsIndex"},((e,n,r)=>{const s=Ny(n);rg(t,s.target)&&(i=s,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=Tw(e);return t.forEach((t=>{const s=cp(t.path);r.push(i.put({targetId:n,path:s})),r.push(this.referenceDelegate.addReference(e,n,t))})),Hf.waitFor(r)}removeMatchingKeys(e,t,n){const r=Tw(e);return Hf.forEach(t,(t=>{const i=cp(t.path);return Hf.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=Tw(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Tw(e);let i=Lg();return r.Y({range:n,J:!0},((e,t,n)=>{const r=dp(e[1]),s=new Rf(r);i=i.add(s)})).next((()=>i))}containsKey(e,t){const n=cp(t.path),r=IDBKeyRange.bound([n],[Tf(n)],!1,!0);let i=0;return Tw(e).Y({index:"documentTargetsIndex",J:!0,range:r},((e,t,n)=>{let[r,s]=e;0!==r&&(i++,n.done())})).next((()=>i>0))}_t(e,t){return Ew(e).get(t).next((e=>e?Ny(e):null))}}function Ew(e){return Fp(e,"targets")}function kw(e){return Fp(e,"targetGlobal")}function Tw(e){return Fp(e,"targetDocuments")}function Nw(e,t){let[n,r]=e,[i,s]=t;const a=Ef(n,i);return 0===a?Ef(r,s):a}class Cw{constructor(e){this.Kn=e,this.buffer=new Gp(Nw),this.$n=0}Un(){return++this.$n}Wn(e){const t=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Nw(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Aw{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){sf("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){$f(e)?sf("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await Kf(e)}await this.zn(3e5)}))}}class jw{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.Hn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return Hf.resolve(sp._e);const n=new Cw(t);return this.jn.forEachTarget(e,(e=>n.Wn(e.sequenceNumber))).next((()=>this.jn.Jn(e,(e=>n.Wn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.jn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(sf("LruGarbageCollector","Garbage collection skipped; disabled"),Hf.resolve(pw)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(sf("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),pw):this.Yn(e,t)))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,t){let n,r,i,s,a,o,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(sf("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,a=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,o=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),rf()<=un.DEBUG&&sf("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(s-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(a-s)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(o-a)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-o)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),Hf.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function Pw(e,t){return new jw(e,t)}class Dw{constructor(e,t){this.db=e,this.garbageCollector=Pw(this,t)}Hn(e){const t=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Zn(e){let t=0;return this.Jn(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Jn(e,t){return this.Xn(e,((e,n)=>t(n)))}addReference(e,t,n){return Rw(e,n)}removeReference(e,t,n){return Rw(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return Rw(e,t)}er(e,t){return function(e,t){let n=!1;return _w(e).Z((r=>ww(e,r,t).next((e=>(e&&(n=!0),Hf.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Xn(e,((s,a)=>{if(a<=t){const t=this.er(e,s).next((t=>{if(!t)return i++,n.getEntry(e,s).next((()=>(n.removeEntry(s,Cf.min()),Tw(e).delete(function(e){return[0,cp(e.path)]}(s)))))}));r.push(t)}})).next((()=>Hf.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return Rw(e,t)}Xn(e,t){const n=Tw(e);let r,i=sp._e;return n.Y({index:"documentTargetsIndex"},((e,n)=>{let[s,a]=e,{path:o,sequenceNumber:l}=n;0===s?(i!==sp._e&&t(new Rf(dp(r)),i),i=l,r=o):i=sp._e})).next((()=>{i!==sp._e&&t(new Rf(dp(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Rw(e,t){return Tw(e).put(function(e,t){return{targetId:0,path:cp(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class Ow{constructor(){this.changes=new Eg((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Cm.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Hf.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Lw{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return Vw(e).put(n)}removeEntry(e,t,n){return Vw(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Sy(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.tr(e,n))))}getEntry(e,t){let n=Cm.newInvalidDocument(t);return Vw(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Bw(t))},((e,r)=>{n=this.nr(t,r)})).next((()=>n))}rr(e,t){let n={size:0,document:Cm.newInvalidDocument(t)};return Vw(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Bw(t))},((e,r)=>{n={document:this.nr(t,r),size:vw(r)}})).next((()=>n))}getEntries(e,t){let n=Tg();return this.ir(e,t,((e,t)=>{const r=this.nr(e,t);n=n.insert(e,r)})).next((()=>n))}sr(e,t){let n=Tg(),r=new zp(Rf.comparator);return this.ir(e,t,((e,t)=>{const i=this.nr(e,t);n=n.insert(e,i),r=r.insert(e,vw(t))})).next((()=>({documents:n,_r:r})))}ir(e,t,n){if(t.isEmpty())return Hf.resolve();let r=new Gp(qw);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(Bw(r.first()),Bw(r.last())),s=r.getIterator();let a=s.getNext();return Vw(e).Y({index:"documentKeyIndex",range:i},((e,t,r)=>{const i=Rf.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;a&&qw(a,i)<0;)n(a,null),a=s.getNext();a&&a.isEqual(i)&&(n(a,t),a=s.hasNext()?s.getNext():null),a?r.U(Bw(a)):r.done()})).next((()=>{for(;a;)n(a,null),a=s.hasNext()?s.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r,i){const s=t.path,a=[s.popLast().toArray(),s.lastSegment(),Sy(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],o=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Vw(e).W(IDBKeyRange.bound(a,o,!0)).next((e=>{null==i||i.incrementDocumentReadCount(e.length);let n=Tg();for(const i of e){const e=this.nr(Rf.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(xg(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let i=Tg();const s=zw(t,n),a=zw(t,zf.max());return Vw(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},((e,t,n)=>{const s=this.nr(Rf.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(s.key,s),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new Fw(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return Uw(e).get("remoteDocumentGlobalKey").next((e=>(uf(!!e),e)))}tr(e,t){return Uw(e).put("remoteDocumentGlobalKey",t)}nr(e,t){if(t){const e=function(e,t){let n;if(t.document)n=ay(e.ct,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=Rf.fromSegments(t.noDocument.path),r=ky(t.noDocument.readTime);n=Cm.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return cf();{const e=Rf.fromSegments(t.unknownDocument.path),r=ky(t.unknownDocument.version);n=Cm.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new Nf(e[0],e[1]);return Cf.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(Cf.min()))return e}return Cm.newInvalidDocument(e)}}function Mw(e){return new Lw(e)}class Fw extends Ow{constructor(e,t){super(),this.ar=e,this.trackRemovals=t,this.ur=new Eg((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new Gp(((e,t)=>Ef(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,s)=>{const a=this.ur.get(i);if(t.push(this.ar.removeEntry(e,i,a.readTime)),s.isValidDocument()){const o=Iy(this.ar.serializer,s);r=r.add(i.path.popLast());const l=vw(o);n+=l-a.size,t.push(this.ar.addEntry(e,i,o))}else if(n-=a.size,this.trackRemovals){const n=Iy(this.ar.serializer,s.convertToNoDocument(Cf.min()));t.push(this.ar.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this.ar.indexManager.addToCollectionParentIndex(e,n))})),t.push(this.ar.updateMetadata(e,n)),Hf.waitFor(t)}getFromCache(e,t){return this.ar.rr(e,t).next((e=>(this.ur.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this.ar.sr(e,t).next((e=>{let{documents:t,_r:n}=e;return n.forEach(((e,n)=>{this.ur.set(e,{size:n,readTime:t.get(e).readTime})})),t}))}}function Uw(e){return Fp(e,"remoteDocumentGlobal")}function Vw(e){return Fp(e,"remoteDocumentsV14")}function Bw(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function zw(e,t){const n=t.documentKey.path.toArray();return[e,Sy(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function qw(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=Ef(n[s],r[s]),i)return i;return i=Ef(n.length,r.length),i||(i=Ef(n[n.length-2],r[r.length-2]),i||Ef(n[n.length-1],r[r.length-1]))}class Ww{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Gw{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&ov(n.mutation,e,Qp.empty(),Nf.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Lg()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Lg();const r=jg();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Cg();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=jg();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Lg())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Tg();const s=Dg(),a=Dg();return t.forEach(((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof hv)?i=i.insert(t.key,t):void 0!==a?(s.set(t.key,a.mutation.getFieldMask()),ov(a.mutation,t,a.mutation.getFieldMask(),Nf.now())):s.set(t.key,Qp.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return a.set(e,new Ww(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),a)))}recalculateAndSaveOverlays(e,t){const n=Dg();let r=new zp(((e,t)=>e-t)),i=Lg();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let a=n.get(e)||Qp.empty();a=i.applyToLocalView(s,a),n.set(e,a);const o=(r.get(i.batchId)||Lg()).add(e);r=r.insert(i.batchId,o)}))})).next((()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=Pg();l.forEach((e=>{if(!i.has(e)){const r=sv(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,o,c))}return Hf.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Rf.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):dg(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Hf.resolve(jg());let a=-1,o=i;return s.next((t=>Hf.forEach(t,((t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?Hf.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{o=o.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,o,t,Lg()))).next((e=>({batchId:a,changes:Ag(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Rf(t)).next((e=>{let t=Cg();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=Cg();return this.indexManager.getCollectionParents(e,i).next((a=>Hf.forEach(a,(a=>{const o=function(e,t){return new lg(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Cm.newInvalidDocument(r)))}));let n=Cg();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&ov(s.mutation,r,Qp.empty(),Nf.now()),xg(t,r)&&(n=n.insert(e,r))})),n}))}}class Kw{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,t){return Hf.resolve(this.cr.get(t))}saveBundleMetadata(e,t){return this.cr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Xv(e.createTime)}}(t)),Hf.resolve()}getNamedQuery(e,t){return Hf.resolve(this.lr.get(t))}saveNamedQuery(e,t){return this.lr.set(t.name,function(e){return{name:e.name,query:Ay(e.bundledQuery),readTime:Xv(e.readTime)}}(t)),Hf.resolve()}}class Hw{constructor(){this.overlays=new zp(Rf.comparator),this.hr=new Map}getOverlay(e,t){return Hf.resolve(this.overlays.get(t))}getOverlays(e,t){const n=jg();return Hf.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),Hf.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.hr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.hr.delete(n)),Hf.resolve()}getOverlaysForCollection(e,t,n){const r=jg(),i=t.length+1,s=new Rf(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Hf.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new zp(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=jg(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=jg(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach(((e,t)=>a.set(e,t))),!(a.size()>=r)););return Hf.resolve(a)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new wv(t,n));let i=this.hr.get(t);void 0===i&&(i=Lg(),this.hr.set(t,i)),this.hr.set(t,i.add(n.key))}}class Qw{constructor(){this.Pr=new Gp(Xw.Ir),this.Tr=new Gp(Xw.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,t){const n=new Xw(e,t);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}dr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Ar(new Xw(e,t))}Rr(e,t){e.forEach((e=>this.removeReference(e,t)))}Vr(e){const t=new Rf(new jf([])),n=new Xw(t,e),r=new Xw(t,e+1),i=[];return this.Tr.forEachInRange([n,r],(e=>{this.Ar(e),i.push(e.key)})),i}mr(){this.Pr.forEach((e=>this.Ar(e)))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const t=new Rf(new jf([])),n=new Xw(t,e),r=new Xw(t,e+1);let i=Lg();return this.Tr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Xw(e,0),n=this.Pr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Xw{constructor(e,t){this.key=e,this.pr=t}static Ir(e,t){return Rf.comparator(e.key,t.key)||Ef(e.pr,t.pr)}static Er(e,t){return Ef(e.pr,t.pr)||Rf.comparator(e.key,t.key)}}class Yw{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new Gp(Xw.Ir)}checkEmpty(e){return Hf.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new vv(i,t,n,r);this.mutationQueue.push(s);for(const a of r)this.wr=this.wr.add(new Xw(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Hf.resolve(s)}lookupMutationBatch(e,t){return Hf.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.br(n),i=r<0?0:r;return Hf.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Hf.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return Hf.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Xw(t,0),r=new Xw(t,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([n,r],(e=>{const t=this.Sr(e.pr);i.push(t)})),Hf.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Gp(Ef);return t.forEach((e=>{const t=new Xw(e,0),r=new Xw(e,Number.POSITIVE_INFINITY);this.wr.forEachInRange([t,r],(e=>{n=n.add(e.pr)}))})),Hf.resolve(this.Dr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Rf.isDocumentKey(i)||(i=i.child(""));const s=new Xw(new Rf(i),0);let a=new Gp(Ef);return this.wr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.pr)),!0)}),s),Hf.resolve(this.Dr(a))}Dr(e){const t=[];return e.forEach((e=>{const n=this.Sr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){uf(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.wr;return Hf.forEach(t.mutations,(r=>{const i=new Xw(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.wr=n}))}Mn(e){}containsKey(e,t){const n=new Xw(t,0),r=this.wr.firstAfterOrEqual(n);return Hf.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Hf.resolve()}Cr(e,t){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Jw{constructor(e){this.vr=e,this.docs=new zp(Rf.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.vr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Hf.resolve(n?n.document.mutableCopy():Cm.newInvalidDocument(t))}getEntries(e,t){let n=Tg();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Cm.newInvalidDocument(e))})),Hf.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Tg();const s=t.path,a=new Rf(s.child("")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||qf(Bf(a),n)<=0||(r.has(a.key)||xg(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return Hf.resolve(i)}getAllFromCollectionGroup(e,t,n,r){cf()}Fr(e,t){return Hf.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new $w(this)}getSize(e){return Hf.resolve(this.size)}}class $w extends Ow{constructor(e){super(),this.ar=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.ar.addEntry(e,r)):this.ar.removeEntry(n)})),Hf.waitFor(t)}getFromCache(e,t){return this.ar.getEntry(e,t)}getAllFromCache(e,t){return this.ar.getEntries(e,t)}}class Zw{constructor(e){this.persistence=e,this.Mr=new Eg((e=>ng(e)),rg),this.lastRemoteSnapshotVersion=Cf.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Qw,this.targetCount=0,this.Lr=Iw.Nn()}forEachTarget(e,t){return this.Mr.forEach(((e,n)=>t(n))),Hf.resolve()}getLastRemoteSnapshotVersion(e){return Hf.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Hf.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),Hf.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Or&&(this.Or=t),Hf.resolve()}qn(e){this.Mr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Lr=new Iw(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,t){return this.qn(t),this.targetCount+=1,Hf.resolve()}updateTargetData(e,t){return this.qn(t),Hf.resolve()}removeTargetData(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,Hf.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Mr.forEach(((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.Mr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)})),Hf.waitFor(i).next((()=>r))}getTargetCount(e){return Hf.resolve(this.targetCount)}getTargetData(e,t){const n=this.Mr.get(t)||null;return Hf.resolve(n)}addMatchingKeys(e,t,n){return this.Nr.dr(t,n),Hf.resolve()}removeMatchingKeys(e,t,n){this.Nr.Rr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Hf.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Nr.Vr(t),Hf.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Nr.gr(t);return Hf.resolve(n)}containsKey(e,t){return Hf.resolve(this.Nr.containsKey(t))}}class eb{constructor(e,t){this.Br={},this.overlays={},this.kr=new sp(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Zw(this),this.indexManager=new sw,this.remoteDocumentCache=function(e){return new Jw(e)}((e=>this.referenceDelegate.Kr(e))),this.serializer=new _y(t),this.$r=new Kw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Hw,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Br[e.toKey()];return n||(n=new Yw(t,this.referenceDelegate),this.Br[e.toKey()]=n),n}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,t,n){sf("MemoryPersistence","Starting transaction:",e);const r=new tb(this.kr.next());return this.referenceDelegate.Ur(),n(r).next((e=>this.referenceDelegate.Wr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gr(e,t){return Hf.or(Object.values(this.Br).map((n=>()=>n.containsKey(e,t))))}}class tb extends Gf{constructor(e){super(),this.currentSequenceNumber=e}}class nb{constructor(e){this.persistence=e,this.zr=new Qw,this.jr=null}static Hr(e){return new nb(e)}get Jr(){if(this.jr)return this.jr;throw cf()}addReference(e,t,n){return this.zr.addReference(n,t),this.Jr.delete(n.toString()),Hf.resolve()}removeReference(e,t,n){return this.zr.removeReference(n,t),this.Jr.add(n.toString()),Hf.resolve()}markPotentiallyOrphaned(e,t){return this.Jr.add(t.toString()),Hf.resolve()}removeTarget(e,t){this.zr.Vr(t.targetId).forEach((e=>this.Jr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Jr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Ur(){this.jr=new Set}Wr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Hf.forEach(this.Jr,(n=>{const r=Rf.fromPath(n);return this.Yr(e,r).next((e=>{e||t.removeEntry(r,Cf.min())}))})).next((()=>(this.jr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Yr(e,t).next((e=>{e?this.Jr.delete(t.toString()):this.Jr.add(t.toString())}))}Kr(e){return 0}Yr(e,t){return Hf.or([()=>Hf.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gr(e,t)])}}class rb{constructor(e){this.serializer=e}N(e,t,n,r){const i=new Qf("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",fp,{unique:!0}),e.createObjectStore("documentMutations")}(e),ib(e),function(e){e.createObjectStore("remoteDocuments")}(e));let s=Hf.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),ib(e)),s=s.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Cf.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i)))),n<4&&r>=4&&(0!==n&&(s=s.next((()=>function(e,t){return t.store("mutations").W().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",fp,{unique:!0});const r=t.store("mutations"),i=n.map((e=>r.put(e)));return Hf.waitFor(i)}))}(e,i)))),s=s.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(s=s.next((()=>this.Xr(i)))),n<6&&r>=6&&(s=s.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.ei(i))))),n<7&&r>=7&&(s=s.next((()=>this.ti(i)))),n<8&&r>=8&&(s=s.next((()=>this.ni(e,i)))),n<9&&r>=9&&(s=s.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(s=s.next((()=>this.ri(i)))),n<11&&r>=11&&(s=s.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(s=s.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:Np});t.createIndex("collectionPathOverlayIndex",Cp,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Ap,{unique:!1})}(e)}))),n<13&&r>=13&&(s=s.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:vp});t.createIndex("documentKeyIndex",yp),t.createIndex("collectionGroupIndex",wp)}(e))).next((()=>this.ii(e,i))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&r>=14&&(s=s.next((()=>this.si(e,i)))),n<15&&r>=15&&(s=s.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Sp}).createIndex("sequenceNumberIndex",Ep,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:kp}).createIndex("documentKeyIndex",Tp,{unique:!1})}(e)))),n<16&&r>=16&&(s=s.next((()=>{t.objectStore("indexState").clear()})).next((()=>{t.objectStore("indexEntries").clear()}))),s}ei(e){let t=0;return e.store("remoteDocuments").Y(((e,n)=>{t+=vw(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}Xr(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.W().next((t=>Hf.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.W("userMutationsIndex",r).next((n=>Hf.forEach(n,(n=>{uf(n.userId===t.userId);const r=Ty(this.serializer,n);return gw(e,t.userId,r).next((()=>{}))}))))}))))}ti(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const r=[];return n.Y(((n,i)=>{const s=new jf(n),a=function(e){return[0,cp(e)]}(s);r.push(t.get(a).next((n=>n?Hf.resolve():(n=>t.put({targetId:0,path:cp(n),sequenceNumber:e.highestListenSequenceNumber}))(s))))})).next((()=>Hf.waitFor(r)))}))}ni(e,t){e.createObjectStore("collectionParents",{keyPath:Ip});const n=t.store("collectionParents"),r=new aw,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:cp(r)})}};return t.store("remoteDocuments").Y({J:!0},((e,t)=>{const n=new jf(e);return i(n.popLast())})).next((()=>t.store("documentMutations").Y({J:!0},((e,t)=>{let[n,r,s]=e;const a=dp(r);return i(a.popLast())}))))}ri(e){const t=e.store("targets");return t.Y(((e,n)=>{const r=Ny(n),i=Cy(this.serializer,r);return t.put(i)}))}ii(e,t){const n=t.store("remoteDocuments"),r=[];return n.Y(((e,n)=>{const i=t.store("remoteDocumentsV14"),s=function(e){return e.document?new Rf(jf.fromString(e.document.name).popFirst(5)):e.noDocument?Rf.fromSegments(e.noDocument.path):e.unknownDocument?Rf.fromSegments(e.unknownDocument.path):cf()}(n).path.toArray(),a={prefixPath:s.slice(0,s.length-2),collectionGroup:s[s.length-2],documentId:s[s.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(a))})).next((()=>Hf.waitFor(r)))}si(e,t){const n=t.store("mutations"),r=Mw(this.serializer),i=new eb(nb.Hr,this.serializer.ct);return n.W().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:Lg();Ty(this.serializer,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),Hf.forEach(n,((e,n)=>{const s=new ef(n),a=My.lt(this.serializer,s),o=i.getIndexManager(s),l=yw.lt(s,this.serializer,o,i.referenceDelegate);return new Gw(r,l,a,o).recalculateAndSaveOverlaysForDocumentKeys(new Mp(t,sp._e),e).next()}))}))}}function ib(e){e.createObjectStore("targetDocuments",{keyPath:xp}).createIndex("documentTargetsIndex",_p,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",bp,{unique:!0}),e.createObjectStore("targetGlobal")}const sb="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class ab{constructor(e,t,n,r,i,s,a,o,l,c){let u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:16;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.oi=i,this.window=s,this.document=a,this._i=l,this.ai=c,this.ui=u,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=e=>Promise.resolve(),!ab.D())throw new ff(df.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Dw(this,r),this.Ti=t+"main",this.serializer=new _y(o),this.Ei=new Xf(this.Ti,this.ui,new rb(this.serializer)),this.Qr=new Sw(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Mw(this.serializer),this.$r=new Ry,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===c&&af("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ff(df.FAILED_PRECONDITION,sb);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Qr.getHighestSequenceNumber(e)))})).then((e=>{this.kr=new sp(e,this._i)})).then((()=>{this.qr=!0})).catch((e=>(this.Ei&&this.Ei.close(),Promise.reject(e))))}fi(e){return this.Ii=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.B((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((async()=>{this.started&&await this.Ai()})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>lb(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.gi(e).next((e=>{e||(this.isPrimary=!1,this.oi.enqueueRetryable((()=>this.Ii(!1))))}))})).next((()=>this.pi(e))).next((t=>this.isPrimary&&!t?this.yi(e).next((()=>!1)):!!t&&this.wi(e).next((()=>!0)))))).catch((e=>{if($f(e))return sf("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return sf("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.oi.enqueueRetryable((()=>this.Ii(e))),this.isPrimary=e}))}gi(e){return ob(e).get("owner").next((e=>Hf.resolve(this.Si(e))))}bi(e){return lb(e).delete(this.clientId)}async Di(){if(this.isPrimary&&!this.Ci(this.Pi,18e5)){this.Pi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=Fp(e,"clientMetadata");return t.W().next((e=>{const n=this.vi(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return Hf.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.di)for(const t of e)this.di.removeItem(this.Fi(t.clientId))}}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Ai().then((()=>this.Di())).then((()=>this.mi()))))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?Hf.resolve(!0):ob(e).get("owner").next((t=>{if(null!==t&&this.Ci(t.leaseTimestampMs,5e3)&&!this.Mi(t.ownerId)){if(this.Si(t)&&this.networkEnabled)return!0;if(!this.Si(t)){if(!t.allowTabSynchronization)throw new ff(df.FAILED_PRECONDITION,sb);return!1}}return!(!this.networkEnabled||!this.inForeground)||lb(e).W().next((e=>void 0===this.vi(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&sf("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e)))}async shutdown(){this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),await this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new Mp(e,sp._e);return this.yi(t).next((()=>this.bi(t)))})),this.Ei.close(),this.Li()}vi(e,t){return e.filter((e=>this.Ci(e.updateTimeMs,t)&&!this.Mi(e.clientId)))}Bi(){return this.runTransaction("getActiveClients","readonly",(e=>lb(e).W().next((e=>this.vi(e,18e5).map((e=>e.clientId))))))}get started(){return this.qr}getMutationQueue(e,t){return yw.lt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new lw(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return My.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,t,n){sf("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=function(e){return 16===e?Lp:15===e?Op:14===e?Rp:13===e?Dp:12===e?Pp:11===e?jp:void cf()}(this.ui);let s;return this.Ei.runTransaction(e,r,i,(r=>(s=new Mp(r,this.kr?this.kr.next():sp._e),"readwrite-primary"===t?this.gi(s).next((e=>!!e||this.pi(s))).next((t=>{if(!t)throw af("Failed to obtain primary lease for action '".concat(e,"'.")),this.isPrimary=!1,this.oi.enqueueRetryable((()=>this.Ii(!1))),new ff(df.FAILED_PRECONDITION,Wf);return n(s)})).next((e=>this.wi(s).next((()=>e)))):this.ki(s).next((()=>n(s)))))).then((e=>(s.raiseOnCommittedEvent(),e)))}ki(e){return ob(e).get("owner").next((e=>{if(null!==e&&this.Ci(e.leaseTimestampMs,5e3)&&!this.Mi(e.ownerId)&&!this.Si(e)&&!(this.ai||this.allowTabSynchronization&&e.allowTabSynchronization))throw new ff(df.FAILED_PRECONDITION,sb)}))}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ob(e).put("owner",t)}static D(){return Xf.D()}yi(e){const t=ob(e);return t.get("owner").next((e=>this.Si(e)?(sf("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Hf.resolve()))}Ci(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(af("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai())))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const e=/(?:Version|Mobile)\/1[456]/;qt()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var t;try{const n=null!==(null===(t=this.di)||void 0===t?void 0:t.getItem(this.Fi(e)));return sf("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return af("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(BE){af("Failed to set zombie client id.",BE)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch(BE){}}Fi(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}function ob(e){return Fp(e,"owner")}function lb(e){return Fp(e,"clientMetadata")}function cb(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class ub{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.qi=n,this.Qi=r}static Ki(e,t){let n=Lg(),r=Lg();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new ub(e,t.fromCache,n,r)}}class hb{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class db{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=qt()?8:Xf.v(Mt())>0?6:4}initialize(e,t){this.zi=e,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ji(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Hi(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new hb;return this.Ji(e,t,n).next((r=>{if(i.result=r,this.Ui)return this.Yi(e,t,n,r.size)}))})).next((()=>i.result))}Yi(e,t,n,r){return n.documentReadCount<this.Wi?(rf()<=un.DEBUG&&sf("QueryEngine","SDK will not create cache indexes for query:",bg(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),Hf.resolve()):(rf()<=un.DEBUG&&sf("QueryEngine","Query:",bg(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?(rf()<=un.DEBUG&&sf("QueryEngine","The SDK decides to create cache indexes for query:",bg(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pg(t))):Hf.resolve())}ji(e,t){if(hg(t))return Hf.resolve(null);let n=pg(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=vg(t,null,"F"),n=pg(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Lg(...r);return this.zi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.Zi(t,r);return this.Xi(t,s,i,n.readTime)?this.ji(e,vg(t,null,"F")):this.es(e,s,t,n)}))))})))))}Hi(e,t,n,r){return hg(t)||r.isEqual(Cf.min())?Hf.resolve(null):this.zi.getDocuments(e,n).next((i=>{const s=this.Zi(t,i);return this.Xi(t,s,n,r)?Hf.resolve(null):(rf()<=un.DEBUG&&sf("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),bg(t)),this.es(e,s,t,Vf(r,-1)).next((e=>e)))}))}Zi(e,t){let n=new Gp(Ig(e));return t.forEach(((t,r)=>{xg(e,r)&&(n=n.add(r))})),n}Xi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ji(e,t,n){return rf()<=un.DEBUG&&sf("QueryEngine","Using full collection scan to execute query:",bg(t)),this.zi.getDocumentsMatchingQuery(e,t,zf.min(),n)}es(e,t,n,r){return this.zi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class fb{constructor(e,t,n,r){this.persistence=e,this.ts=t,this.serializer=r,this.ns=new zp(Ef),this.rs=new Eg((e=>ng(e)),rg),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(n)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Gw(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ns)))}}function pb(e,t,n,r){return new fb(e,t,n,r)}async function mb(e,t){const n=hf(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n._s(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let a=Lg();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next((e=>({us:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function gb(e){const t=hf(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Qr.getLastRemoteSnapshotVersion(e)))}function vb(e,t,n){let r=Lg(),i=Lg();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Tg();return n.forEach(((n,s)=>{const a=e.get(n);s.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(Cf.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):sf("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),{cs:r,ls:i}}))}function yb(e,t){const n=hf(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function wb(e,t){const n=hf(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Qr.getTargetData(e,t).next((i=>i?(r=i,Hf.resolve(r)):n.Qr.allocateTargetId(e).next((i=>(r=new xy(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Qr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ns.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(e.targetId,e),n.rs.set(t,e.targetId)),e}))}async function bb(e,t,n){const r=hf(e),i=r.ns.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!$f(e))throw e;sf("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.ns=r.ns.remove(t),r.rs.delete(i.target)}function xb(e,t,n){const r=hf(e);let i=Cf.min(),s=Lg();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=hf(e),i=r.rs.get(n);return void 0!==i?Hf.resolve(r.ns.get(i)):r.Qr.getTargetData(t,n)}(r,e,pg(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.ts.getDocumentsMatchingQuery(e,t,n?i:Cf.min(),n?s:Lg()))).next((e=>(Sb(r,_g(t),e),{documents:e,hs:s})))))}function _b(e,t){const n=hf(e),r=hf(n.Qr),i=n.ns.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r._t(e,t).next((e=>e?e.target:null))))}function Ib(e,t){const n=hf(e),r=n.ss.get(t)||Cf.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.os.getAllFromCollectionGroup(e,t,Vf(r,-1),Number.MAX_SAFE_INTEGER))).then((e=>(Sb(n,t,e),e)))}function Sb(e,t,n){let r=e.ss.get(t)||Cf.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ss.set(t,r)}async function Eb(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Lg();const r=await wb(e,pg(Ay(t.bundledQuery))),i=hf(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const s=Xv(t.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.$r.saveNamedQuery(e,t);const a=r.withResumeToken(Yp.EMPTY_BYTE_STRING,s);return i.ns=i.ns.insert(a.targetId,a),i.Qr.updateTargetData(e,a).next((()=>i.Qr.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.Qr.addMatchingKeys(e,n,r.targetId))).next((()=>i.$r.saveNamedQuery(e,t)))}))}function kb(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Tb(e,t,n){let r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Nb(e,t){return"firestore_targets_".concat(e,"_").concat(t)}class Cb{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static Es(e,t,n){const r=JSON.parse(n);let i,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new ff(r.error.code,r.error.message))),s?new Cb(e,t,r.state,i):(af("SharedClientState","Failed to parse mutation state for ID '".concat(t,"': ").concat(n)),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ab{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Es(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new ff(n.error.code,n.error.message))),i?new Ab(e,n.state,r):(af("SharedClientState","Failed to parse target state for ID '".concat(e,"': ").concat(t)),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class jb{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Es(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=Fg();for(let s=0;r&&s<n.activeTargetIds.length;++s)r=lp(n.activeTargetIds[s]),i=i.add(n.activeTargetIds[s]);return r?new jb(e,i):(af("SharedClientState","Failed to parse client data for instance '".concat(e,"': ").concat(t)),null)}}class Pb{constructor(e,t){this.clientId=e,this.onlineState=t}static Es(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Pb(t.clientId,t.onlineState):(af("SharedClientState","Failed to parse online state: ".concat(e)),null)}}class Db{constructor(){this.activeTargetIds=Fg()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Rb{constructor(e,t,n,r,i){this.window=e,this.oi=t,this.persistenceKey=n,this.Vs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new zp(Ef),this.started=!1,this.ys=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ws=kb(this.persistenceKey,this.Vs),this.Ss=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ps=this.ps.insert(this.Vs,new Db),this.bs=new RegExp("^firestore_clients_".concat(s,"_([^_]*)$")),this.Ds=new RegExp("^firestore_mutations_".concat(s,"_(\\d+)(?:_(.*))?$")),this.Cs=new RegExp("^firestore_targets_".concat(s,"_(\\d+)$")),this.vs=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Fs=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Bi();for(const n of e){if(n===this.Vs)continue;const e=this.getItem(kb(this.persistenceKey,n));if(e){const t=jb.Es(n,e);t&&(this.ps=this.ps.insert(t.clientId,t))}}this.Ms();const t=this.storage.getItem(this.vs);if(t){const e=this.xs(t);e&&this.Os(e)}for(const n of this.ys)this.gs(n);this.ys=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let t=!1;return this.ps.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,t,n){this.Ls(e,t,n),this.Bs(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(Nb(this.persistenceKey,e));if(n){const r=Ab.Es(e,n);r&&(t=r.state)}}return this.ks.As(e),this.Ms(),t}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Nb(this.persistenceKey,e))}updateQueryState(e,t,n){this.qs(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.Bs(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return sf("SharedClientState","READ",e,t),t}setItem(e,t){sf("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){sf("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){const t=e;if(t.storageArea===this.storage){if(sf("SharedClientState","EVENT",t.key,t.newValue),t.key===this.ws)return void af("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.bs.test(t.key)){if(null==t.newValue){const e=this.$s(t.key);return this.Us(e,null)}{const e=this.Ws(t.key,t.newValue);if(e)return this.Us(e.clientId,e)}}else if(this.Ds.test(t.key)){if(null!==t.newValue){const e=this.Gs(t.key,t.newValue);if(e)return this.zs(e)}}else if(this.Cs.test(t.key)){if(null!==t.newValue){const e=this.js(t.key,t.newValue);if(e)return this.Hs(e)}}else if(t.key===this.vs){if(null!==t.newValue){const e=this.xs(t.newValue);if(e)return this.Os(e)}}else if(t.key===this.Ss){const e=function(e){let t=sp._e;if(null!=e)try{const n=JSON.parse(e);uf("number"==typeof n),t=n}catch(e){af("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==sp._e&&this.sequenceNumberHandler(e)}else if(t.key===this.Fs){const e=this.Js(t.newValue);await Promise.all(e.map((e=>this.syncEngine.Ys(e))))}}else this.ys.push(t)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,t,n){const r=new Cb(this.currentUser,e,t,n),i=Tb(this.persistenceKey,this.currentUser,e);this.setItem(i,r.ds())}Bs(e){const t=Tb(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Qs(e){const t={clientId:this.Vs,onlineState:e};this.storage.setItem(this.vs,JSON.stringify(t))}qs(e,t,n){const r=Nb(this.persistenceKey,e),i=new Ab(e,t,n);this.setItem(r,i.ds())}Ks(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Fs,t)}$s(e){const t=this.bs.exec(e);return t?t[1]:null}Ws(e,t){const n=this.$s(e);return jb.Es(n,t)}Gs(e,t){const n=this.Ds.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Cb.Es(new ef(i),r,t)}js(e,t){const n=this.Cs.exec(e),r=Number(n[1]);return Ab.Es(r,t)}xs(e){return Pb.Es(e)}Js(e){return JSON.parse(e)}async zs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Zs(e.batchId,e.state,e.error);sf("SharedClientState","Ignoring mutation for non-active user ".concat(e.user.uid))}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,t){const n=t?this.ps.insert(e,t):this.ps.remove(e),r=this.Ns(this.ps),i=this.Ns(n),s=[],a=[];return i.forEach((e=>{r.has(e)||s.push(e)})),r.forEach((e=>{i.has(e)||a.push(e)})),this.syncEngine.eo(s,a).then((()=>{this.ps=n}))}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let t=Fg();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class Ob{constructor(){this.no=new Db,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,t,n){this.ro[e]=t}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Db,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Lb{io(e){}shutdown(){}}class Mb{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){sf("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){sf("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Fb=null;function Ub(){return null===Fb?Fb=268435456+Math.round(2147483648*Math.random()):Fb++,"0x"+Fb.toString(16)}const Vb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Bb{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}const zb="WebChannelConnection";class qb extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.fo=t+"://"+e.host,this.po="projects/".concat(n,"/databases/").concat(r),this.yo="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get wo(){return!1}So(e,t,n,r,i){const s=Ub(),a=this.bo(e,t.toUriEncodedString());sf("RestConnection","Sending RPC '".concat(e,"' ").concat(s,":"),a,n);const o={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(o,r,i),this.Co(e,a,o,n).then((t=>(sf("RestConnection","Received RPC '".concat(e,"' ").concat(s,": "),t),t)),(t=>{throw of("RestConnection","RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",a,"request:",n),t}))}vo(e,t,n,r,i,s){return this.So(e,t,n,r,i)}Do(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+tf,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}bo(e,t){const n=Vb[e];return"".concat(this.fo,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,t,n,r){const i=Ub();return new Promise(((s,a)=>{const o=new Yd;o.setWithCredentials(!0),o.listenOnce(Kd.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case Gd.NO_ERROR:const t=o.getResponseJson();sf(zb,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),s(t);break;case Gd.TIMEOUT:sf(zb,"RPC '".concat(e,"' ").concat(i," timed out")),a(new ff(df.DEADLINE_EXCEEDED,"Request time out"));break;case Gd.HTTP_ERROR:const n=o.getStatus();if(sf(zb,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(df).indexOf(t)>=0?t:df.UNKNOWN}(t.status);a(new ff(e,t.message))}else a(new ff(df.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new ff(df.UNAVAILABLE,"Connection failed."));break;default:cf()}}finally{sf(zb,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);sf(zb,"RPC '".concat(e,"' ").concat(i," sending request:"),r),o.send(t,"POST",l,n,15)}))}Fo(e,t,n){const r=Ub(),i=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=qd(),a=Wd(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Do(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=i.join("");sf(zb,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),o);const u=s.createWebChannel(c,o);let h=!1,d=!1;const f=new Bb({lo:t=>{d?sf(zb,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(sf(zb,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),h=!0),sf(zb,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},ho:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,Xd.EventType.OPEN,(()=>{d||sf(zb,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(u,Xd.EventType.CLOSE,(()=>{d||(d=!0,sf(zb,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.Vo())})),p(u,Xd.EventType.ERROR,(t=>{d||(d=!0,of(zb,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.Vo(new ff(df.UNAVAILABLE,"The operation could not be completed")))})),p(u,Xd.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];uf(!!i);const s=i,a=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(a){sf(zb,"RPC '".concat(e,"' stream ").concat(r," received error:"),a);const t=a.status;let n=function(e){const t=xv[e];if(void 0!==t)return Sv(t)}(t),i=a.message;void 0===n&&(n=df.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),d=!0,f.Vo(new ff(n,i)),u.close()}else sf(zb,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.mo(i)}})),p(a,Hd.STAT_EVENT,(t=>{t.stat===Qd.PROXY?sf(zb,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Qd.NOPROXY&&sf(zb,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.Ro()}),0),f}}function Wb(){return"undefined"!=typeof window?window:null}function Gb(){return"undefined"!=typeof document?document:null}function Kb(e){return new Wv(e,!0)}class Hb{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.oi=e,this.timerId=t,this.Mo=n,this.xo=r,this.Oo=i,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const t=Math.floor(this.No+this.Qo()),n=Math.max(0,Date.now()-this.Bo),r=Math.max(0,t-n);r>0&&sf("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.No," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Lo=this.oi.enqueueAfterDelay(this.timerId,r,(()=>(this.Bo=Date.now(),e()))),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){null!==this.Lo&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){null!==this.Lo&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}class Qb{constructor(e,t,n,r,i,s,a,o){this.oi=e,this.$o=n,this.Uo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new Hb(e,t)}Ho(){return 1===this.state||5===this.state||this.Jo()}Jo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,(()=>this.e_())))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,t){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,4!==e?this.jo.reset():t&&t.code===df.RESOURCE_EXHAUSTED?(af(t.toString()),af("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):t&&t.code===df.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(t)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),t=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Wo===t&&this.o_(n,r)}),(t=>{e((()=>{const e=new ff(df.UNKNOWN,"Fetching auth token failed: "+t.message);return this.__(e)}))}))}o_(e,t){const n=this.s_(this.Wo);this.stream=this.a_(e,t),this.stream.Po((()=>{n((()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,(()=>(this.Jo()&&(this.state=3),Promise.resolve()))),this.listener.Po())))})),this.stream.To((e=>{n((()=>this.__(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Yo(){this.state=5,this.jo.qo((async()=>{this.state=0,this.start()}))}__(e){return sf("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}s_(e){return t=>{this.oi.enqueueAndForget((()=>this.Wo===e?t():(sf("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Xb extends Qb{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}a_(e,t){return this.connection.Fo("Listen",e,t)}onMessage(e){this.jo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:cf()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(uf(void 0===t||"string"==typeof t),Yp.fromBase64String(t||"")):(uf(void 0===t||t instanceof Buffer||t instanceof Uint8Array),Yp.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?df.UNKNOWN:Sv(e.code);return new ff(t,e.message||"")}(a);n=new Lv(r,i,s,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=ey(e,r.document.name),s=Xv(r.document.updateTime),a=r.document.createTime?Xv(r.document.createTime):Cf.min(),o=new Tm({mapValue:{fields:r.document.fields}}),l=Cm.newFoundDocument(i,s,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Rv(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=ey(e,r.document),s=r.readTime?Xv(r.readTime):Cf.min(),a=Cm.newNoDocument(i,s),o=r.removedTargetIds||[];n=new Rv([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=ey(e,r.document),s=r.removedTargetIds||[];n=new Rv([],s,i,null)}else{if(!("filter"in t))return cf();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new bv(r,i),a=e.targetId;n=new Ov(a,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Cf.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Cf.min():t.readTime?Xv(t.readTime):Cf.min()}(e);return this.listener.u_(t,n)}c_(e){const t={};t.database=ry(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=ig(r)?{documents:cy(e,r)}:{query:uy(e,r).ut},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Hv(e,t.resumeToken);const r=Gv(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Cf.min())>0){n.readTime=Kv(e,t.snapshotVersion.toTimestamp());const r=Gv(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return cf()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.t_(t)}l_(e){const t={};t.database=ry(this.serializer),t.removeTarget=e,this.t_(t)}}class Yb extends Qb{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,t){return this.connection.Fo("Write",e,t)}onMessage(e){if(uf(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const t=function(e,t){return e&&e.length>0?(uf(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Xv(e.updateTime):Xv(t);return n.isEqual(Cf.min())&&(n=Xv(t)),new tv(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Xv(e.commitTime);return this.listener.T_(n,t)}return uf(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=ry(this.serializer),this.t_(e)}I_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>oy(this.serializer,e)))};this.t_(t)}}class Jb extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.A_=!1}R_(){if(this.A_)throw new ff(df.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,n,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,a]=i;return this.connection.So(e,Jv(t,n),r,s,a)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===df.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ff(df.UNKNOWN,e.toString())}))}vo(e,t,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[a,o]=s;return this.connection.vo(e,Jv(t,n),r,a,o,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===df.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ff(df.UNKNOWN,e.toString())}))}terminate(){this.A_=!0,this.connection.terminate()}}class $b{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve()))))}S_(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.y_("Offline")))}set(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.g_?(af(t),this.g_=!1):sf("OnlineStateTracker",t)}b_(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}class Zb{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=i,this.M_.io((e=>{n.enqueueAndForget((async()=>{lx(this)&&(sf("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=hf(e);t.v_.add(4),await tx(t),t.x_.set("Unknown"),t.v_.delete(4),await ex(t)}(this))}))})),this.x_=new $b(n,r)}}async function ex(e){if(lx(e))for(const t of e.F_)await t(!0)}async function tx(e){for(const t of e.F_)await t(!1)}function nx(e,t){const n=hf(e);n.C_.has(t.targetId)||(n.C_.set(t.targetId,t),ox(n)?ax(n):kx(n).Jo()&&ix(n,t))}function rx(e,t){const n=hf(e),r=kx(n);n.C_.delete(t),r.Jo()&&sx(n,t),0===n.C_.size&&(r.Jo()?r.Xo():lx(n)&&n.x_.set("Unknown"))}function ix(e,t){if(e.O_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Cf.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}kx(e).c_(t)}function sx(e,t){e.O_.Oe(t),kx(e).l_(t)}function ax(e){e.O_=new Fv({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.C_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),kx(e).start(),e.x_.p_()}function ox(e){return lx(e)&&!kx(e).Ho()&&e.C_.size>0}function lx(e){return 0===hf(e).v_.size}function cx(e){e.O_=void 0}async function ux(e){e.C_.forEach(((t,n)=>{ix(e,t)}))}async function hx(e,t){cx(e),ox(e)?(e.x_.S_(t),ax(e)):e.x_.set("Unknown")}async function dx(e,t,n){if(e.x_.set("Online"),t instanceof Lv&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.C_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.C_.delete(r),e.O_.removeTarget(r))}(e,t)}catch(n){sf("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await fx(e,n)}else if(t instanceof Rv?e.O_.$e(t):t instanceof Ov?e.O_.Je(t):e.O_.Ge(t),!n.isEqual(Cf.min()))try{const t=await gb(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.O_.it(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.C_.get(r);i&&e.C_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.C_.get(t);if(!r)return;e.C_.set(t,r.withResumeToken(Yp.EMPTY_BYTE_STRING,r.snapshotVersion)),sx(e,t);const i=new xy(r.target,t,n,r.sequenceNumber);ix(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){sf("RemoteStore","Failed to raise snapshot:",t),await fx(e,t)}}async function fx(e,t,n){if(!$f(t))throw t;e.v_.add(1),await tx(e),e.x_.set("Offline"),n||(n=()=>gb(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{sf("RemoteStore","Retrying IndexedDB access"),await n(),e.v_.delete(1),await ex(e)}))}function px(e,t){return t().catch((n=>fx(e,n,t)))}async function mx(e){const t=hf(e),n=Tx(t);let r=t.D_.length>0?t.D_[t.D_.length-1].batchId:-1;for(;gx(t);)try{const e=await yb(t.localStore,r);if(null===e){0===t.D_.length&&n.Xo();break}r=e.batchId,vx(t,e)}catch(e){await fx(t,e)}yx(t)&&wx(t)}function gx(e){return lx(e)&&e.D_.length<10}function vx(e,t){e.D_.push(t);const n=Tx(e);n.Jo()&&n.P_&&n.I_(t.mutations)}function yx(e){return lx(e)&&!Tx(e).Ho()&&e.D_.length>0}function wx(e){Tx(e).start()}async function bx(e){Tx(e).d_()}async function xx(e){const t=Tx(e);for(const n of e.D_)t.I_(n.mutations)}async function _x(e,t,n){const r=e.D_.shift(),i=yv.from(r,t,n);await px(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await mx(e)}async function Ix(e,t){t&&Tx(e).P_&&await async function(e,t){if(function(e){return Iv(e)&&e!==df.ABORTED}(t.code)){const n=e.D_.shift();Tx(e).Zo(),await px(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await mx(e)}}(e,t),yx(e)&&wx(e)}async function Sx(e,t){const n=hf(e);n.asyncQueue.verifyOperationInProgress(),sf("RemoteStore","RemoteStore received new credentials");const r=lx(n);n.v_.add(3),await tx(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.v_.delete(3),await ex(n)}async function Ex(e,t){const n=hf(e);t?(n.v_.delete(2),await ex(n)):t||(n.v_.add(2),await tx(n),n.x_.set("Unknown"))}function kx(e){return e.N_||(e.N_=function(e,t,n){const r=hf(e);return r.R_(),new Xb(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:ux.bind(null,e),To:hx.bind(null,e),u_:dx.bind(null,e)}),e.F_.push((async t=>{t?(e.N_.Zo(),ox(e)?ax(e):e.x_.set("Unknown")):(await e.N_.stop(),cx(e))}))),e.N_}function Tx(e){return e.L_||(e.L_=function(e,t,n){const r=hf(e);return r.R_(),new Yb(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:bx.bind(null,e),To:Ix.bind(null,e),E_:xx.bind(null,e),T_:_x.bind(null,e)}),e.F_.push((async t=>{t?(e.L_.Zo(),await mx(e)):(await e.L_.stop(),e.D_.length>0&&(sf("RemoteStore","Stopping write stream with ".concat(e.D_.length," pending writes")),e.D_=[]))}))),e.L_}class Nx{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new pf,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,a=new Nx(e,t,s,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ff(df.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cx(e,t){if(af("AsyncQueue","".concat(t,": ").concat(e)),$f(e))return new ff(df.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Ax{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Rf.comparator(t.key,n.key):(e,t)=>Rf.comparator(e.key,t.key),this.keyedMap=Cg(),this.sortedSet=new zp(this.comparator)}static emptySet(e){return new Ax(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ax))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Ax;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class jx{constructor(){this.B_=new zp(Rf.comparator)}track(e){const t=e.doc.key,n=this.B_.get(t);n?0!==e.type&&3===n.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==n.type?this.B_=this.B_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.B_=this.B_.remove(t):1===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):cf():this.B_=this.B_.insert(t,e)}k_(){const e=[];return this.B_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Px{constructor(e,t,n,r,i,s,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new Px(e,t,Ax.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Dx{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some((e=>e.U_()))}}class Rx{constructor(){this.queries=new Eg((e=>wg(e)),yg),this.onlineState="Unknown",this.W_=new Set}}async function Ox(e,t){const n=hf(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.K_()&&t.U_()&&(r=2):(s=new Dx,r=t.U_()?0:1);try{switch(r){case 0:s.q_=await n.onListen(i,!0);break;case 1:s.q_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=Cx(e,"Initialization of query '".concat(bg(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,s),s.Q_.push(t),t.G_(n.onlineState),s.q_&&t.z_(s.q_)&&Ux(n)}async function Lx(e,t){const n=hf(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.Q_.indexOf(t);e>=0&&(s.Q_.splice(e,1),0===s.Q_.length?i=t.U_()?0:1:!s.K_()&&t.U_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Mx(e,t){const n=hf(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Q_)e.z_(i)&&(r=!0);t.q_=i}}r&&Ux(n)}function Fx(e,t,n){const r=hf(e),i=r.queries.get(t);if(i)for(const s of i.Q_)s.onError(n);r.queries.delete(t)}function Ux(e){e.W_.forEach((e=>{e.next()}))}var Vx,Bx;(Bx=Vx||(Vx={})).j_="default",Bx.Cache="cache";class zx{constructor(e,t,n){this.query=e,this.H_=t,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=n||{}}z_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Px(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),t=!0):this.X_(e,this.onlineState)&&(this.ea(e),t=!0),this.Y_=e,t}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let t=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),t=!0),t}X_(e,t){if(!e.fromCache)return!0;if(!this.U_())return!0;const n="Offline"!==t;return(!this.options.ta||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Z_(e){if(e.docChanges.length>0)return!0;const t=this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ea(e){e=Px.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==Vx.Cache}}class qx{constructor(e,t){this.na=e,this.byteLength=t}ra(){return"metadata"in this.na}}class Wx{constructor(e){this.serializer=e}Ps(e){return ey(this.serializer,e)}Is(e){return e.metadata.exists?ay(this.serializer,e.document,!1):Cm.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return Xv(e)}}class Gx{constructor(e,t,n){this.ia=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Kx(e)}sa(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.na.namedQuery)this.queries.push(e.na.namedQuery);else if(e.na.documentMetadata){this.documents.push({metadata:e.na.documentMetadata}),e.na.documentMetadata.exists||++t;const n=jf.fromString(e.na.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.na.document&&(this.documents[this.documents.length-1].document=e.na.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}oa(e){const t=new Map,n=new Wx(this.serializer);for(const r of e)if(r.metadata.queries){const e=n.Ps(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||Lg()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=hf(e);let s=Lg(),a=Tg();for(const c of n){const e=t.Ps(c.metadata.name);c.document&&(s=s.add(e));const n=t.Is(c);n.setReadTime(t.Ts(c.metadata.readTime)),a=a.insert(e,n)}const o=i.os.newChangeBuffer({trackRemovals:!0}),l=await wb(i,function(e){return pg(ug(jf.fromString("__bundle__/docs/".concat(e))))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>vb(e,o,a).next((t=>(o.apply(e),t))).next((t=>i.Qr.removeMatchingKeysForTargetId(e,l.targetId).next((()=>i.Qr.addMatchingKeys(e,s,l.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(e,t.cs,t.ls))).next((()=>t.cs))))))}(this.localStore,new Wx(this.serializer),this.documents,this.ia.id),t=this.oa(this.documents);for(const n of this.queries)await Eb(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,_a:this.collectionGroups,aa:e}}}function Kx(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class Hx{constructor(e){this.key=e}}class Qx{constructor(e){this.key=e}}class Xx{constructor(e,t){this.query=e,this.ua=t,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=Lg(),this.mutatedKeys=Lg(),this.ha=Ig(e),this.Pa=new Ax(this.ha)}get Ia(){return this.ua}Ta(e,t){const n=t?t.Ea:new jx,r=t?t.Pa:this.Pa;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=xg(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.da(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.ha(u,o)>0||l&&this.ha(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(a=!0)),f&&(u?(s=s.add(u),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Pa:s,Ea:n,Xi:a,mutatedKeys:i}}da(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;const s=e.Ea.k_();s.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return cf()}};return n(e)-n(t)}(e.type,t.type)||this.ha(e.doc,t.doc))),this.Aa(n),r=null!=r&&r;const a=t&&!r?this.Ra():[],o=0===this.la.size&&this.current&&!r?1:0,l=o!==this.ca;return this.ca=o,0!==s.length||l?{snapshot:new Px(this.query,e.Pa,i,s,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),Va:a}:{Va:a}}G_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new jx,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach((e=>this.ua=this.ua.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.ua=this.ua.delete(e))),this.current=e.current)}Ra(){if(!this.current)return[];const e=this.la;this.la=Lg(),this.Pa.forEach((e=>{this.ma(e.key)&&(this.la=this.la.add(e.key))}));const t=[];return e.forEach((e=>{this.la.has(e)||t.push(new Qx(e))})),this.la.forEach((n=>{e.has(n)||t.push(new Hx(n))})),t}fa(e){this.ua=e.hs,this.la=Lg();const t=this.Ta(e.documents);return this.applyChanges(t,!0)}ga(){return Px.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,0===this.ca,this.hasCachedResults)}}class Yx{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Jx{constructor(e){this.key=e,this.pa=!1}}class $x{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.ya={},this.wa=new Eg((e=>wg(e)),yg),this.Sa=new Map,this.ba=new Set,this.Da=new zp(Rf.comparator),this.Ca=new Map,this.va=new Qw,this.Fa={},this.Ma=new Map,this.xa=Iw.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return!0===this.Oa}}async function Zx(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=N_(e);let i;const s=r.wa.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ga()):i=await t_(r,t,n,!0),i}async function e_(e,t){const n=N_(e);await t_(n,t,!0,!1)}async function t_(e,t,n,r){const i=await wb(e.localStore,pg(t)),s=i.targetId,a=n?e.sharedClientState.addLocalQueryTarget(s):"not-current";let o;return r&&(o=await n_(e,t,s,"current"===a,i.resumeToken)),e.isPrimaryClient&&n&&nx(e.remoteStore,i),o}async function n_(e,t,n,r,i){e.Na=(t,n,r)=>async function(e,t,n,r){let i=t.view.Ta(n);i.Xi&&(i=await xb(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.Ta(n,i)})));const s=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s,a);return p_(e,t.targetId,o.Va),o.snapshot}(e,t,n,r);const s=await xb(e.localStore,t,!0),a=new Xx(t,s.hs),o=a.Ta(s.documents),l=Dv.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(o,e.isPrimaryClient,l);p_(e,n,c.Va);const u=new Yx(t,n,a);return e.wa.set(t,u),e.Sa.has(n)?e.Sa.get(n).push(t):e.Sa.set(n,[t]),c.snapshot}async function r_(e,t,n){const r=hf(e),i=r.wa.get(t),s=r.Sa.get(i.targetId);if(s.length>1)return r.Sa.set(i.targetId,s.filter((e=>!yg(e,t)))),void r.wa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await bb(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&rx(r.remoteStore,i.targetId),d_(r,i.targetId)})).catch(Kf)):(d_(r,i.targetId),await bb(r.localStore,i.targetId,!0))}async function i_(e,t){const n=hf(e),r=n.wa.get(t),i=n.Sa.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),rx(n.remoteStore,r.targetId))}async function s_(e,t){const n=hf(e);try{const e=await function(e,t){const n=hf(e),r=t.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];t.targetChanges.forEach(((s,o)=>{const l=i.get(o);if(!l)return;a.push(n.Qr.removeMatchingKeys(e,s.removedDocuments,o).next((()=>n.Qr.addMatchingKeys(e,s.addedDocuments,o))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(Yp.EMPTY_BYTE_STRING,Cf.min()).withLastLimboFreeSnapshotVersion(Cf.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&a.push(n.Qr.updateTargetData(e,c))}));let o=Tg(),l=Lg();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(vb(e,s,t.documentUpdates).next((e=>{o=e.cs,l=e.ls}))),!r.isEqual(Cf.min())){const t=n.Qr.getLastRemoteSnapshotVersion(e).next((t=>n.Qr.setTargetsMetadata(e,e.currentSequenceNumber,r)));a.push(t)}return Hf.waitFor(a).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,o,l))).next((()=>o))})).then((e=>(n.ns=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Ca.get(t);r&&(uf(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.pa=!0:e.modifiedDocuments.size>0?uf(r.pa):e.removedDocuments.size>0&&(uf(r.pa),r.pa=!1))})),await v_(n,e,t)}catch(e){await Kf(e)}}function a_(e,t,n){const r=hf(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.wa.forEach(((n,r)=>{const i=r.view.G_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=hf(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.Q_)i.G_(t)&&(r=!0)})),r&&Ux(n)}(r.eventManager,t),e.length&&r.ya.u_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function o_(e,t,n){const r=hf(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Ca.get(t),s=i&&i.key;if(s){let e=new zp(Rf.comparator);e=e.insert(s,Cm.newNoDocument(s,Cf.min()));const n=Lg().add(s),i=new Pv(Cf.min(),new Map,new zp(Ef),e,n);await s_(r,i),r.Da=r.Da.remove(s),r.Ca.delete(t),g_(r)}else await bb(r.localStore,t,!1).then((()=>d_(r,t,n))).catch(Kf)}async function l_(e,t){const n=hf(e),r=t.batch.batchId;try{const e=await function(e,t){const n=hf(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let a=Hf.resolve();return s.forEach((e=>{a=a.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);uf(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),a.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Lg();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);h_(n,r,null),u_(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await v_(n,e)}catch(e){await Kf(e)}}async function c_(e,t,n){const r=hf(e);try{const e=await function(e,t){const n=hf(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(uf(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);h_(r,t,n),u_(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await v_(r,e)}catch(n){await Kf(n)}}function u_(e,t){(e.Ma.get(t)||[]).forEach((e=>{e.resolve()})),e.Ma.delete(t)}function h_(e,t,n){const r=hf(e);let i=r.Fa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Fa[r.currentUser.toKey()]=i}}function d_(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Sa.get(t))e.wa.delete(r),n&&e.ya.La(r,n);e.Sa.delete(t),e.isPrimaryClient&&e.va.Vr(t).forEach((t=>{e.va.containsKey(t)||f_(e,t)}))}function f_(e,t){e.ba.delete(t.path.canonicalString());const n=e.Da.get(t);null!==n&&(rx(e.remoteStore,n),e.Da=e.Da.remove(t),e.Ca.delete(n),g_(e))}function p_(e,t,n){for(const r of n)r instanceof Hx?(e.va.addReference(r.key,t),m_(e,r)):r instanceof Qx?(sf("SyncEngine","Document no longer in limbo: "+r.key),e.va.removeReference(r.key,t),e.va.containsKey(r.key)||f_(e,r.key)):cf()}function m_(e,t){const n=t.key,r=n.path.canonicalString();e.Da.get(n)||e.ba.has(r)||(sf("SyncEngine","New document in limbo: "+n),e.ba.add(r),g_(e))}function g_(e){for(;e.ba.size>0&&e.Da.size<e.maxConcurrentLimboResolutions;){const t=e.ba.values().next().value;e.ba.delete(t);const n=new Rf(jf.fromString(t)),r=e.xa.next();e.Ca.set(r,new Jx(n)),e.Da=e.Da.insert(n,r),nx(e.remoteStore,new xy(pg(ug(n.path)),r,"TargetPurposeLimboResolution",sp._e))}}async function v_(e,t,n){const r=hf(e),i=[],s=[],a=[];r.wa.isEmpty()||(r.wa.forEach(((e,o)=>{a.push(r.Na(o,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(o.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=ub.Ki(o.targetId,e);s.push(t)}})))})),await Promise.all(a),r.ya.u_(i),await async function(e,t){const n=hf(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Hf.forEach(t,(t=>Hf.forEach(t.qi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Hf.forEach(t.Qi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!$f(e))throw e;sf("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ns.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.ns=n.ns.insert(e,i)}}}(r.localStore,s))}async function y_(e,t){const n=hf(e);if(!n.currentUser.isEqual(t)){sf("SyncEngine","User change. New user:",t.toKey());const e=await mb(n.localStore,t);n.currentUser=t,function(e,t){e.Ma.forEach((e=>{e.forEach((e=>{e.reject(new ff(df.CANCELLED,t))}))})),e.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await v_(n,e.us)}}function w_(e,t){const n=hf(e),r=n.Ca.get(t);if(r&&r.pa)return Lg().add(r.key);{let e=Lg();const r=n.Sa.get(t);if(!r)return e;for(const t of r){const r=n.wa.get(t);e=e.unionWith(r.view.Ia)}return e}}async function b_(e,t){const n=hf(e),r=await xb(n.localStore,t.query,!0),i=t.view.fa(r);return n.isPrimaryClient&&p_(n,t.targetId,i.Va),i}async function x_(e,t){const n=hf(e);return Ib(n.localStore,t).then((e=>v_(n,e)))}async function __(e,t,n,r){const i=hf(e),s=await function(e,t){const n=hf(e),r=hf(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.vn(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):Hf.resolve(null)))))}(i.localStore,t);null!==s?("pending"===n?await mx(i.remoteStore):"acknowledged"===n||"rejected"===n?(h_(i,t,r||null),u_(i,t),function(e,t){hf(hf(e).mutationQueue).Mn(t)}(i.localStore,t)):cf(),await v_(i,s)):sf("SyncEngine","Cannot apply mutation batch with id: "+t)}async function I_(e,t,n){const r=hf(e),i=[],s=[];for(const a of t){let e;const t=r.Sa.get(a);if(t&&0!==t.length){e=await wb(r.localStore,pg(t[0]));for(const e of t){const t=r.wa.get(e),n=await b_(r,t);n.snapshot&&s.push(n.snapshot)}}else{const t=await _b(r.localStore,a);e=await wb(r.localStore,t),await n_(r,S_(t),a,!1,e.resumeToken)}i.push(e)}return r.ya.u_(s),i}function S_(e){return cg(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function E_(e){return function(e){return hf(hf(e).persistence).Bi()}(hf(e).localStore)}async function k_(e,t,n,r){const i=hf(e);if(i.Oa)return void sf("SyncEngine","Ignoring unexpected query state notification.");const s=i.Sa.get(t);if(s&&s.length>0)switch(n){case"current":case"not-current":{const e=await Ib(i.localStore,_g(s[0])),r=Pv.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,Yp.EMPTY_BYTE_STRING);await v_(i,e,r);break}case"rejected":await bb(i.localStore,t,!0),d_(i,t,r);break;default:cf()}}async function T_(e,t,n){const r=N_(e);if(r.Oa){for(const e of t){if(r.Sa.has(e)&&r.sharedClientState.isActiveQueryTarget(e)){sf("SyncEngine","Adding an already active target "+e);continue}const t=await _b(r.localStore,e),n=await wb(r.localStore,t);await n_(r,S_(t),n.targetId,!1,n.resumeToken),nx(r.remoteStore,n)}for(const e of n)r.Sa.has(e)&&await bb(r.localStore,e,!1).then((()=>{rx(r.remoteStore,e),d_(r,e)})).catch(Kf)}}function N_(e){const t=hf(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=s_.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=w_.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=o_.bind(null,t),t.ya.u_=Mx.bind(null,t.eventManager),t.ya.La=Fx.bind(null,t.eventManager),t}function C_(e){const t=hf(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=l_.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=c_.bind(null,t),t}class A_{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Kb(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return pb(this.persistence,new db,e.initialUser,this.serializer)}createPersistence(e){return new eb(nb.Hr,this.serializer)}createSharedClientState(e){return new Ob}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class j_ extends A_{constructor(e,t,n){super(),this.ka=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.ka.initialize(this,e),await C_(this.ka.syncEngine),await mx(this.ka.remoteStore),await this.persistence.fi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}createLocalStore(e){return pb(this.persistence,new db,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new Aw(n,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const n=new ip(t,this.persistence);return new rp(e.asyncQueue,n)}createPersistence(e){const t=cb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?mw.withCacheSize(this.cacheSizeBytes):mw.DEFAULT;return new ab(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Wb(),Gb(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Ob}}class P_ extends j_{constructor(e,t){super(e,t,!1),this.ka=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.ka.syncEngine;this.sharedClientState instanceof Rb&&(this.sharedClientState.syncEngine={Zs:__.bind(null,t),Xs:k_.bind(null,t),eo:T_.bind(null,t),Bi:E_.bind(null,t),Ys:x_.bind(null,t)},await this.sharedClientState.start()),await this.persistence.fi((async e=>{await async function(e,t){const n=hf(e);if(N_(n),C_(n),!0===t&&!0!==n.Oa){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await I_(n,e.toArray());n.Oa=!0,await Ex(n.remoteStore,!0);for(const r of t)nx(n.remoteStore,r)}else if(!1===t&&!1!==n.Oa){const e=[];let t=Promise.resolve();n.Sa.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(d_(n,i),bb(n.localStore,i,!0)))),rx(n.remoteStore,i)})),await t,await I_(n,e),function(e){const t=hf(e);t.Ca.forEach(((e,n)=>{rx(t.remoteStore,n)})),t.va.mr(),t.Ca=new Map,t.Da=new zp(Rf.comparator)}(n),n.Oa=!1,await Ex(n.remoteStore,!1)}}(this.ka.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}createSharedClientState(e){const t=Wb();if(!Rb.D(t))throw new ff(df.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=cb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Rb(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class D_{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>a_(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=y_.bind(null,this.syncEngine),await Ex(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Rx}createDatastore(e){const t=Kb(e.databaseInfo.databaseId),n=function(e){return new qb(e)}(e.databaseInfo);return function(e,t,n,r){return new Jb(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Zb(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>a_(this.syncEngine,e,0)),Mb.D()?new Mb:new Lb)}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){const o=new $x(e,t,n,r,i,s);return a&&(o.Oa=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e;await async function(e){const t=hf(e);sf("RemoteStore","RemoteStore shutting down."),t.v_.add(5),await tx(t),t.M_.shutdown(),t.x_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate()}}function R_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}class O_{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):af("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class L_{constructor(e,t){this.Ka=e,this.serializer=t,this.metadata=new pf,this.buffer=new Uint8Array,this.$a=new TextDecoder("utf-8"),this.Ua().then((e=>{e&&e.ra()?this.metadata.resolve(e.na.metadata):this.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.na))))}),(e=>this.metadata.reject(e)))}close(){return this.Ka.cancel()}async getMetadata(){return this.metadata.promise}async Ba(){return await this.getMetadata(),this.Ua()}async Ua(){const e=await this.Wa();if(null===e)return null;const t=this.$a.decode(e),n=Number(t);isNaN(n)&&this.Ga("length string (".concat(t,") is not valid number"));const r=await this.za(n);return new qx(JSON.parse(r),e.length+n)}ja(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async Wa(){for(;this.ja()<0&&!await this.Ha(););if(0===this.buffer.length)return null;const e=this.ja();e<0&&this.Ga("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async za(e){for(;this.buffer.length<e;)await this.Ha()&&this.Ga("Reached the end of bundle when more is expected.");const t=this.$a.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}Ga(e){throw this.Ka.cancel(),new Error("Invalid bundle format: ".concat(e))}async Ha(){const e=await this.Ka.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class M_{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ff(df.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(e,t){const n=hf(e),r={documents:t.map((e=>Zv(n.serializer,e)))},i=await n.vo("BatchGetDocuments",n.serializer.databaseId,jf.emptyPath(),r,t.length),s=new Map;i.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){uf(!!t.found),t.found.name,t.found.updateTime;const n=ey(e,t.found.name),r=Xv(t.found.updateTime),i=t.found.createTime?Xv(t.found.createTime):Cf.min(),s=new Tm({mapValue:{fields:t.found.fields}});return Cm.newFoundDocument(n,r,i,s)}(e,t):"missing"in t?function(e,t){uf(!!t.missing),uf(!!t.readTime);const n=ey(e,t.missing),r=Xv(t.readTime);return Cm.newNoDocument(n,r)}(e,t):cf()}(n.serializer,e);s.set(t.key.toString(),t)}));const a=[];return t.forEach((e=>{const t=s.get(e.toString());uf(!!t),a.push(t)})),a}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new mv(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=Rf.fromPath(t);this.mutations.push(new gv(n,this.precondition(n)))})),await async function(e,t){const n=hf(e),r={writes:t.map((e=>oy(n.serializer,e)))};await n.So("Commit",n.serializer.databaseId,jf.emptyPath(),r)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw cf();t=Cf.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new ff(df.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Cf.min())?nv.exists(!1):nv.updateTime(t):nv.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Cf.min()))throw new ff(df.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return nv.updateTime(t)}return nv.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class F_{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.Ja=n.maxAttempts,this.jo=new Hb(this.asyncQueue,"transaction_retry")}Ya(){this.Ja-=1,this.Za()}Za(){this.jo.qo((async()=>{const e=new M_(this.datastore),t=this.Xa(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.eu(e)}))))})).catch((e=>{this.eu(e)}))}))}Xa(e){try{const t=this.updateFunction(e);return!ap(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}eu(e){this.Ja>0&&this.tu(e)?(this.Ja-=1,this.asyncQueue.enqueueAndForget((()=>(this.Za(),Promise.resolve())))):this.deferred.reject(e)}tu(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Iv(t)}return!1}}class U_{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=ef.UNAUTHENTICATED,this.clientId=Sf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{sf("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(sf("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ff(df.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new pf;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Cx(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function V_(e,t){e.asyncQueue.verifyOperationInProgress(),sf("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await mb(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function B_(e,t){e.asyncQueue.verifyOperationInProgress();const n=await q_(e);sf("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>Sx(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Sx(t.remoteStore,n))),e._onlineComponents=t}function z_(e){return"FirebaseError"===e.name?e.code===df.FAILED_PRECONDITION||e.code===df.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function q_(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){sf("FirestoreClient","Using user provided OfflineComponentProvider");try{await V_(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!z_(n))throw n;of("Error using user provided cache. Falling back to memory cache: "+n),await V_(e,new A_)}}else sf("FirestoreClient","Using default OfflineComponentProvider"),await V_(e,new A_);return e._offlineComponents}async function W_(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(sf("FirestoreClient","Using user provided OnlineComponentProvider"),await B_(e,e._uninitializedComponentsProvider._online)):(sf("FirestoreClient","Using default OnlineComponentProvider"),await B_(e,new D_))),e._onlineComponents}function G_(e){return q_(e).then((e=>e.persistence))}function K_(e){return q_(e).then((e=>e.localStore))}function H_(e){return W_(e).then((e=>e.remoteStore))}function Q_(e){return W_(e).then((e=>e.syncEngine))}function X_(e){return W_(e).then((e=>e.datastore))}async function Y_(e){const t=await W_(e),n=t.eventManager;return n.onListen=Zx.bind(null,t.syncEngine),n.onUnlisten=r_.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=e_.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=i_.bind(null,t.syncEngine),n}function J_(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new pf;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new O_({next:s=>{t.enqueueAndForget((()=>Lx(e,a)));const o=s.docs.has(n);!o&&s.fromCache?i.reject(new ff(df.UNAVAILABLE,"Failed to get document because the client is offline.")):o&&s.fromCache&&r&&"server"===r.source?i.reject(new ff(df.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),a=new zx(ug(n.path),s,{includeMetadataChanges:!0,ta:!0});return Ox(e,a)}(await Y_(e),e.asyncQueue,t,n,r))),r.promise}function $_(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new pf;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new O_({next:n=>{t.enqueueAndForget((()=>Lx(e,a))),n.fromCache&&"server"===r.source?i.reject(new ff(df.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new zx(n,s,{includeMetadataChanges:!0,ta:!0});return Ox(e,a)}(await Y_(e),e.asyncQueue,t,n,r))),r.promise}function Z_(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?kv().encode(e):e,function(e,t){return new L_(e,t)}(function(e,t){if(e instanceof Uint8Array)return R_(e,t);if(e instanceof ArrayBuffer)return R_(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,Kb(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=hf(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=hf(e),r=Xv(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.$r.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(Kx(r));const i=new Gx(r,e.localStore,t.serializer);let s=await t.Ba();for(;s;){const e=await i.sa(s);e&&n._updateProgress(e),s=await t.Ba()}const a=await i.complete();return await v_(e,a.aa,void 0),await function(e,t){const n=hf(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.$r.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(a.progress),Promise.resolve(a._a)}catch(e){return of("SyncEngine","Loading bundle failed with ".concat(e)),n._failWith(e),Promise.resolve(new Set)}})(r,t,n).then((e=>{r.sharedClientState.notifyBundleLoaded(e)}))}(await Q_(e),i,r)}))}function eI(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const tI=new Map;function nI(e,t,n){if(!n)throw new ff(df.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function rI(e,t,n,r){if(!0===t&&!0===r)throw new ff(df.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function iI(e){if(!Rf.isDocumentKey(e))throw new ff(df.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function sI(e){if(Rf.isDocumentKey(e))throw new ff(df.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function aI(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":cf()}function oI(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ff(df.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=aI(e);throw new ff(df.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function lI(e,t){if(t<=0)throw new ff(df.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}class cI{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new ff(df.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ff(df.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=eI(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new ff(df.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new ff(df.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new ff(df.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class uI{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cI({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ff(df.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ff(df.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cI(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new gf;switch(e.type){case"firstParty":return new bf(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new ff(df.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=tI.get(e);t&&(sf("ComponentProvider","Removing Datastore"),tI.delete(e),t.terminate())}(this),Promise.resolve()}}function hI(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=oI(e,uI))._getSettings(),a="".concat(t,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==a&&of("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=ef.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[At(JSON.stringify({alg:"none",type:"JWT"})),At(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new ff(df.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new ef(s)}e._authCredentials=new vf(new mf(t,n))}}class dI{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new dI(this.firestore,e,this._query)}}class fI{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pI(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fI(this.firestore,e,this._key)}}class pI extends dI{constructor(e,t,n){super(e,t,ug(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fI(this.firestore,null,new Rf(e))}withConverter(e){return new pI(this.firestore,e,this._path)}}function mI(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=rn(e),nI("collection","path",t),e instanceof uI){const n=jf.fromString(t,...r);return sI(n),new pI(e,null,n)}{if(!(e instanceof fI||e instanceof pI))throw new ff(df.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(jf.fromString(t,...r));return sI(n),new pI(e.firestore,null,n)}}function gI(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=rn(e),1===arguments.length&&(t=Sf.newId()),nI("doc","path",t),e instanceof uI){const n=jf.fromString(t,...r);return iI(n),new fI(e,null,new Rf(n))}{if(!(e instanceof fI||e instanceof pI))throw new ff(df.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(jf.fromString(t,...r));return iI(n),new fI(e.firestore,e instanceof pI?e.converter:null,new Rf(n))}}function vI(e,t){return e=rn(e),t=rn(t),(e instanceof fI||e instanceof pI)&&(t instanceof fI||t instanceof pI)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function yI(e,t){return e=rn(e),t=rn(t),e instanceof dI&&t instanceof dI&&e.firestore===t.firestore&&yg(e._query,t._query)&&e.converter===t.converter}class wI{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new Hb(this,"async_queue_retry"),this.cu=()=>{const e=Gb();e&&sf("AsyncQueue","Visibility state changed to "+e.visibilityState),this.jo.Ko()};const e=Gb();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;const t=Gb();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise((()=>{}));const t=new pf;return this.hu((()=>this.iu&&this.au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.ru.push(e),this.Pu())))}async Pu(){if(0!==this.ru.length){try{await this.ru[0](),this.ru.shift(),this.jo.reset()}catch(BE){if(!$f(BE))throw BE;sf("AsyncQueue","Operation failed with retryable error: "+BE)}this.ru.length>0&&this.jo.qo((()=>this.Pu()))}}hu(e){const t=this.nu.then((()=>(this._u=!0,e().catch((e=>{this.ou=e,this._u=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw af("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this._u=!1,e))))));return this.nu=t,t}enqueueAfterDelay(e,t,n){this.lu(),this.uu.indexOf(e)>-1&&(t=0);const r=Nx.createAndSchedule(this,e,t,n,(e=>this.Iu(e)));return this.su.push(r),r}lu(){this.ou&&cf()}verifyOperationInProgress(){}async Tu(){let e;do{e=this.nu,await e}while(e!==this.nu)}Eu(e){for(const t of this.su)if(t.timerId===e)return!0;return!1}du(e){return this.Tu().then((()=>{this.su.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.su)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tu()}))}Au(e){this.uu.push(e)}Iu(e){const t=this.su.indexOf(e);this.su.splice(t,1)}}function bI(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class xI{constructor(){this._progressObserver={},this._taskCompletionResolver=new pf,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class _I extends uI{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new wI,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||SI(this),this._firestoreClient.terminate()}}function II(e){return e._firestoreClient||SI(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function SI(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new im(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,eI(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new U_(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function EI(e,t,n){const r=new pf;return e.asyncQueue.enqueue((async()=>{try{await V_(e,n),await B_(e,t),r.resolve()}catch(e){const n=e;if(!z_(n))throw n;of("Error enabling indexeddb cache. Falling back to memory cache: "+n),r.reject(n)}})).then((()=>r.promise))}function kI(e){return function(e){const t=new pf;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=hf(e);lx(n.remoteStore)||sf("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=hf(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.Ma.get(e)||[];r.push(t),n.Ma.set(e,r)}catch(e){const n=Cx(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await Q_(e),t))),t.promise}(II(e=oI(e,_I)))}function TI(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await G_(e),n=await H_(e);return t.setNetworkEnabled(!0),function(e){const t=hf(e);return t.v_.delete(0),ex(t)}(n)}))}(II(e=oI(e,_I)))}function NI(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await G_(e),n=await H_(e);return t.setNetworkEnabled(!1),async function(e){const t=hf(e);t.v_.add(0),await tx(t),t.x_.set("Offline")}(n)}))}(II(e=oI(e,_I)))}function CI(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=hf(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.$r.getNamedQuery(e,t)))}(await K_(e),t)))}(II(e=oI(e,_I)),t).then((t=>t?new dI(e,null,t.query):null))}function AI(e){if(e._initialized||e._terminated)throw new ff(df.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class jI{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jI(Yp.fromBase64String(e))}catch(e){throw new ff(df.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new jI(Yp.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class PI{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new ff(df.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Df(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class DI{constructor(e){this._methodName=e}}class RI{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ff(df.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ff(df.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ef(this._lat,e._lat)||Ef(this._long,e._long)}}const OI=/^__.*__$/;class LI{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new hv(e,this.data,this.fieldMask,t,this.fieldTransforms):new uv(e,this.data,t,this.fieldTransforms)}}class MI{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new hv(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function FI(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw cf()}}class UI{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Ru(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new UI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.mu({path:n,gu:!1});return r.pu(e),r}yu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.mu({path:n,gu:!1});return r.Ru(),r}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return sS(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(0===e.length)throw this.Su("Document fields must not be empty");if(FI(this.Vu)&&OI.test(e))throw this.Su('Document fields cannot begin and end with "__"')}}class VI{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Kb(e)}Cu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new UI({Vu:e,methodName:t,Du:n,path:Df.emptyPath(),gu:!1,bu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function BI(e){const t=e._freezeSettings(),n=Kb(e._databaseId);return new VI(e._databaseId,!!t.ignoreUndefinedProperties,n)}function zI(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.Cu(s.merge||s.mergeFields?2:0,t,n,i);tS("Data must be an object, but it was:",a,r);const o=ZI(r,a);let l,c;if(s.merge)l=new Qp(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=nS(t,r,n);if(!a.contains(i))throw new ff(df.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));aS(e,i)||e.push(i)}l=new Qp(e),c=a.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=a.fieldTransforms;return new LI(new Tm(o),l,c)}class qI extends DI{_toFieldTransform(e){if(2!==e.Vu)throw 1===e.Vu?e.Su("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Su("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof qI}}function WI(e,t,n){return new UI({Vu:3,Du:t.settings.Du,methodName:e._methodName,gu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class GI extends DI{_toFieldTransform(e){return new ev(e.path,new Kg)}isEqual(e){return e instanceof GI}}class KI extends DI{constructor(e,t){super(e),this.vu=t}_toFieldTransform(e){const t=WI(this,e,!0),n=this.vu.map((e=>$I(e,t))),r=new Hg(n);return new ev(e.path,r)}isEqual(e){return e instanceof KI&&Xt(this.vu,e.vu)}}class HI extends DI{constructor(e,t){super(e),this.vu=t}_toFieldTransform(e){const t=WI(this,e,!0),n=this.vu.map((e=>$I(e,t))),r=new Xg(n);return new ev(e.path,r)}isEqual(e){return e instanceof HI&&Xt(this.vu,e.vu)}}class QI extends DI{constructor(e,t){super(e),this.Fu=t}_toFieldTransform(e){const t=new Jg(e.serializer,Bg(e.serializer,this.Fu));return new ev(e.path,t)}isEqual(e){return e instanceof QI&&this.Fu===e.Fu}}function XI(e,t,n,r){const i=e.Cu(1,t,n);tS("Data must be an object, but it was:",i,r);const s=[],a=Tm.empty();Vp(r,((e,r)=>{const o=iS(t,e,n);r=rn(r);const l=i.yu(o);if(r instanceof qI)s.push(o);else{const e=$I(r,l);null!=e&&(s.push(o),a.set(o,e))}}));const o=new Qp(s);return new MI(a,o,i.fieldTransforms)}function YI(e,t,n,r,i,s){const a=e.Cu(1,t,n),o=[nS(t,r,n)],l=[i];if(s.length%2!=0)throw new ff(df.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<s.length;d+=2)o.push(nS(t,s[d])),l.push(s[d+1]);const c=[],u=Tm.empty();for(let d=o.length-1;d>=0;--d)if(!aS(c,o[d])){const e=o[d];let t=l[d];t=rn(t);const n=a.yu(e);if(t instanceof qI)c.push(e);else{const r=$I(t,n);null!=r&&(c.push(e),u.set(e,r))}}const h=new Qp(c);return new MI(u,h,a.fieldTransforms)}function JI(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return $I(n,e.Cu(r?4:3,t))}function $I(e,t){if(eS(e=rn(e)))return tS("Unsupported field value:",t,e),ZI(e,t);if(e instanceof DI)return function(e,t){if(!FI(t.Vu))throw t.Su("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Su("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.gu&&4!==t.Vu)throw t.Su("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=$I(i,t.wu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=rn(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Bg(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Nf.fromDate(e);return{timestampValue:Kv(t.serializer,n)}}if(e instanceof Nf){const n=new Nf(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Kv(t.serializer,n)}}if(e instanceof RI)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof jI)return{bytesValue:Hv(t.serializer,e._byteString)};if(e instanceof fI){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Su("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Yv(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Su("Unsupported field value: ".concat(aI(e)))}(e,t)}function ZI(e,t){const n={};return Bp(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Vp(e,((e,r)=>{const i=$I(r,t.fu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function eS(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Nf||e instanceof RI||e instanceof jI||e instanceof fI||e instanceof DI)}function tS(e,t,n){if(!eS(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=aI(n);throw"an object"===r?t.Su(e+" a custom object"):t.Su(e+" "+r)}}function nS(e,t,n){if((t=rn(t))instanceof PI)return t._internalPath;if("string"==typeof t)return iS(e,t);throw sS("Field path arguments must be of type string or ",e,!1,void 0,n)}const rS=new RegExp("[~\\*/\\[\\]]");function iS(e,t,n){if(t.search(rS)>=0)throw sS("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new PI(...t.split("."))._internalPath}catch(Hl){throw sS("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function sS(e,t,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=" in field ".concat(r)),a&&(l+=" in document ".concat(i)),l+=")"),new ff(df.INVALID_ARGUMENT,o+e+l)}function aS(e,t){return e.some((e=>e.isEqual(t)))}class oS{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new fI(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new lS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(cS("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class lS extends oS{data(){return super.data()}}function cS(e,t){return"string"==typeof t?iS(e,t):t instanceof PI?t._internalPath:t._delegate._internalPath}function uS(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new ff(df.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hS{}class dS extends hS{}function fS(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof hS&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof mS)).length,n=e.filter((e=>e instanceof pS)).length;if(t>1||t>0&&n>0)throw new ff(df.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class pS extends dS{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new pS(e,t,n)}_apply(e){const t=this._parse(e);return IS(e._query,t),new dI(e.firestore,e.converter,gg(e._query,t))}_parse(e){const t=BI(e.firestore),n=function(e,t,n,r,i,s,a){let o;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new ff(df.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){_S(a,s);const t=[];for(const n of a)t.push(xS(r,e,n));o={arrayValue:{values:t}}}else o=xS(r,e,a)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||_S(a,s),o=JI(n,t,a,"in"===s||"not-in"===s);return Lm.create(i,s,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class mS extends hS{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new mS(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:Mm.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)IS(n,i),n=gg(n,i)}(e._query,t),new dI(e.firestore,e.converter,gg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class gS extends dS{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new gS(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new ff(df.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new ff(df.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Dm(t,n)}(e._query,this._field,this._direction);return new dI(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new lg(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class vS extends dS{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new vS(e,t,n)}_apply(e){return new dI(e.firestore,e.converter,vg(e._query,this._limit,this._limitType))}}class yS extends dS{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new yS(e,t,n)}_apply(e){const t=bS(e,this.type,this._docOrFields,this._inclusive);return new dI(e.firestore,e.converter,function(e,t){return new lg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class wS extends dS{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new wS(e,t,n)}_apply(e){const t=bS(e,this.type,this._docOrFields,this._inclusive);return new dI(e.firestore,e.converter,function(e,t){return new lg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function bS(e,t,n,r){if(n[0]=rn(n[0]),n[0]instanceof oS)return function(e,t,n,r,i){if(!r)throw new ff(df.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));const s=[];for(const a of fg(e))if(a.field.isKeyField())s.push(mm(t,r.key));else{const e=r.data.field(a.field);if(tm(e))throw new ff(df.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=a.field.canonicalString();throw new ff(df.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(e,"' (used as the orderBy) does not exist."))}s.push(e)}return new Am(s,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=BI(e.firestore);return function(e,t,n,r,i,s){const a=e.explicitOrderBy;if(i.length>a.length)throw new ff(df.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));const o=[];for(let l=0;l<i.length;l++){const s=i[l];if(a[l].field.isKeyField()){if("string"!=typeof s)throw new ff(df.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof s));if(!dg(e)&&-1!==s.indexOf("/"))throw new ff(df.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(s,"' contains a slash."));const n=e.path.child(jf.fromString(s));if(!Rf.isDocumentKey(n))throw new ff(df.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(n,"' is not because it contains an odd number of segments."));const i=new Rf(n);o.push(mm(t,i))}else{const e=JI(n,r,s);o.push(e)}}return new Am(o,s)}(e._query,e.firestore._databaseId,i,t,n,r)}}function xS(e,t,n){if("string"==typeof(n=rn(n))){if(""===n)throw new ff(df.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dg(t)&&-1!==n.indexOf("/"))throw new ff(df.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(jf.fromString(n));if(!Rf.isDocumentKey(r))throw new ff(df.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return mm(e,new Rf(r))}if(n instanceof fI)return mm(e,n._key);throw new ff(df.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(aI(n),"."))}function _S(e,t){if(!Array.isArray(e)||0===e.length)throw new ff(df.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function IS(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new ff(df.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new ff(df.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class SS{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(lm(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Zp(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(em(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw cf()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Vp(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new RI(Zp(e.latitude),Zp(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=nm(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(rm(e));default:return null}}convertTimestamp(e){const t=$p(e);return new Nf(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=jf.fromString(e);uf(by(n));const r=new sm(n.get(1),n.get(3)),i=new Rf(n.popFirst(5));return r.isEqual(t)||af("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function ES(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class kS extends SS{constructor(e){super(),this.firestore=e}convertBytes(e){return new jI(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new fI(this.firestore,null,t)}}class TS{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class NS extends oS{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new CS(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(cS("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class CS extends NS{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class AS{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new TS(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new CS(this._firestore,this._userDataWriter,n.key,n,new TS(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ff(df.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new CS(e._firestore,e._userDataWriter,n.doc.key,n.doc,new TS(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new CS(e._firestore,e._userDataWriter,t.doc.key,t.doc,new TS(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:jS(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function jS(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return cf()}}function PS(e,t){return e instanceof NS&&t instanceof NS?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof AS&&t instanceof AS&&e._firestore===t._firestore&&yI(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}class DS extends SS{constructor(e){super(),this.firestore=e}convertBytes(e){return new jI(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new fI(this.firestore,null,t)}}function RS(e){e=oI(e,fI);const t=oI(e.firestore,_I),n=II(t),r=new DS(t);return function(e,t){const n=new pf;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=hf(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new ff(df.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=Cx(e,"Failed to get document '".concat(t," from cache"));n.reject(r)}}(await K_(e),t,n))),n.promise}(n,e._key).then((n=>new NS(t,r,e._key,n,new TS(null!==n&&n.hasLocalMutations,!0),e.converter)))}function OS(e){e=oI(e,dI);const t=oI(e.firestore,_I),n=II(t),r=new DS(t);return function(e,t){const n=new pf;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await xb(e,t,!0),i=new Xx(t,r.hs),s=i.Ta(r.documents),a=i.applyChanges(s,!1);n.resolve(a.snapshot)}catch(e){const r=Cx(e,"Failed to execute query '".concat(t," against cache"));n.reject(r)}}(await K_(e),t,n))),n.promise}(n,e._query).then((n=>new AS(t,r,e,n)))}function LS(e,t,n){e=oI(e,fI);const r=oI(e.firestore,_I),i=ES(e.converter,t,n);return VS(r,[zI(BI(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,nv.none())])}function MS(e,t,n){e=oI(e,fI);const r=oI(e.firestore,_I),i=BI(r);let s;for(var a=arguments.length,o=new Array(a>3?a-3:0),l=3;l<a;l++)o[l-3]=arguments[l];return s="string"==typeof(t=rn(t))||t instanceof PI?YI(i,"updateDoc",e._key,t,n,o):XI(i,"updateDoc",e._key,t),VS(r,[s.toMutation(e._key,nv.exists(!0))])}function FS(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,s,a;e=rn(e);let o={includeMetadataChanges:!1,source:"default"},l=0;"object"!=typeof n[l]||bI(n[l])||(o=n[l],l++);const c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(bI(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(s=e.error)||void 0===s?void 0:s.bind(e),n[l+2]=null===(a=e.complete)||void 0===a?void 0:a.bind(e)}let u,h,d;if(e instanceof fI)h=oI(e.firestore,_I),d=ug(e._key.path),u={next:t=>{n[l]&&n[l](BS(h,e,t))},error:n[l+1],complete:n[l+2]};else{const t=oI(e,dI);h=oI(t.firestore,_I),d=t._query;const r=new DS(h);u={next:e=>{n[l]&&n[l](new AS(h,r,t,e))},error:n[l+1],complete:n[l+2]},uS(e._query)}return function(e,t,n,r){const i=new O_(r),s=new zx(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>Ox(await Y_(e),s))),()=>{i.Qa(),e.asyncQueue.enqueueAndForget((async()=>Lx(await Y_(e),s)))}}(II(h),d,c,u)}function US(e,t){return function(e,t){const n=new O_(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){hf(e).W_.add(t),t.next()}(await Y_(e),n))),()=>{n.Qa(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){hf(e).W_.delete(t)}(await Y_(e),n)))}}(II(e=oI(e,_I)),bI(t)?t:{next:t})}function VS(e,t){return function(e,t){const n=new pf;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=C_(e);try{const e=await function(e,t){const n=hf(e),r=Nf.now(),i=t.reduce(((e,t)=>e.add(t.key)),Lg());let s,a;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let o=Tg(),l=Lg();return n.os.getEntries(e,i).next((e=>{o=e,o.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,o))).next((i=>{s=i;const a=[];for(const e of t){const t=lv(e,s.get(e.key).overlayedDocument);null!=t&&a.push(new hv(e.key,t,Nm(t.value.mapValue),nv.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)})).next((t=>{a=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:a.batchId,changes:Ag(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Fa[e.currentUser.toKey()];r||(r=new zp(Ef)),r=r.insert(t,n),e.Fa[e.currentUser.toKey()]=r}(r,e.batchId,n),await v_(r,e.changes),await mx(r.remoteStore)}catch(e){const t=Cx(e,"Failed to persist write");n.reject(t)}}(await Q_(e),t,n))),n.promise}(II(e),t)}function BS(e,t,n){const r=n.docs.get(t._key),i=new DS(e);return new NS(e,i,t._key,r,new TS(n.hasPendingWrites,n.fromCache),t.converter)}const zS={maxAttempts:5};class qS{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=BI(e)}set(e,t,n){this._verifyNotCommitted();const r=WS(e,this._firestore),i=ES(r.converter,t,n),s=zI(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,nv.none())),this}update(e,t,n){this._verifyNotCommitted();const r=WS(e,this._firestore);let i;for(var s=arguments.length,a=new Array(s>3?s-3:0),o=3;o<s;o++)a[o-3]=arguments[o];return i="string"==typeof(t=rn(t))||t instanceof PI?YI(this._dataReader,"WriteBatch.update",r._key,t,n,a):XI(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,nv.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=WS(e,this._firestore);return this._mutations=this._mutations.concat(new mv(t._key,nv.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ff(df.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function WS(e,t){if((e=rn(e)).firestore!==t)throw new ff(df.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class GS extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=BI(e)}get(e){const t=WS(e,this._firestore),n=new kS(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return cf();const r=e[0];if(r.isFoundDocument())return new oS(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new oS(this._firestore,n,t._key,null,t.converter);throw cf()}))}set(e,t,n){const r=WS(e,this._firestore),i=ES(r.converter,t,n),s=zI(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(e,t,n){const r=WS(e,this._firestore);let i;for(var s=arguments.length,a=new Array(s>3?s-3:0),o=3;o<s;o++)a[o-3]=arguments[o];return i="string"==typeof(t=rn(t))||t instanceof PI?YI(this._dataReader,"Transaction.update",r._key,t,n,a):XI(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=WS(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=WS(e,this._firestore),n=new DS(this._firestore);return super.get(e).then((e=>new NS(this._firestore,n,t._key,e._document,new TS(!1,!1),t.converter)))}}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){tf=e}(Zn),Wn(new sn("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),a=new _I(new yf(e.getProvider("auth-internal")),new _f(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ff(df.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sm(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a}),"PUBLIC").setMultipleInstances(!0)),sr(Zd,"4.6.0",e),sr(Zd,"4.6.0","esm2017")}();function KS(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new ff("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function HS(){if("undefined"===typeof Uint8Array)throw new ff("unimplemented","Uint8Arrays are not available in this environment.")}function QS(){if("undefined"==typeof atob)throw new ff("unimplemented","Blobs are unavailable in Firestore in this environment.")}class XS{constructor(e){this._delegate=e}static fromBase64String(e){return QS(),new XS(jI.fromBase64String(e))}static fromUint8Array(e){return HS(),new XS(jI.fromUint8Array(e))}toBase64(){return QS(),this._delegate.toBase64()}toUint8Array(){return HS(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function YS(e){return function(e,t){if("object"!==typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"===typeof n[r])return!0;return!1}(e,["next","error","complete"])}class JS{enableIndexedDbPersistence(e,t){return function(e,t){AI(e=oI(e,_I));const n=II(e);if(n._uninitializedComponentsProvider)throw new ff(df.FAILED_PRECONDITION,"SDK cache is already specified.");of("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=e._freezeSettings(),i=new D_;return EI(n,i,new j_(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){AI(e=oI(e,_I));const t=II(e);if(t._uninitializedComponentsProvider)throw new ff(df.FAILED_PRECONDITION,"SDK cache is already specified.");of("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings(),r=new D_;return EI(t,r,new P_(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new ff(df.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new pf;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!Xf.D())return Promise.resolve();const t=e+"main";await Xf.delete(t)}(cb(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}(e._delegate)}}class $S{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof sm||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||of("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};hI(this._delegate,e,t,n)}enableNetwork(){return TI(this._delegate)}disableNetwork(){return NI(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,rI("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return kI(this._delegate)}onSnapshotsInSync(e){return US(this._delegate,e)}get app(){if(!this._appCompat)throw new ff("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new dE(this,mI(this._delegate,e))}catch(BE){throw iE(BE,"collection()","Firestore.collection()")}}doc(e){try{return new rE(this,gI(this._delegate,e))}catch(BE){throw iE(BE,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new cE(this,function(e,t){if(e=oI(e,uI),nI("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new ff(df.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new dI(e,null,function(e){return new lg(jf.emptyPath(),e)}(t))}(this._delegate,e))}catch(BE){throw iE(BE,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t,n){e=oI(e,_I);const r=Object.assign(Object.assign({},zS),n);return function(e){if(e.maxAttempts<1)throw new ff(df.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new pf;return e.asyncQueue.enqueueAndForget((async()=>{const i=await X_(e);new F_(e.asyncQueue,i,n,t,r).Ya()})),r.promise}(II(e),(n=>t(new GS(e,n))),r)}(this._delegate,(t=>e(new eE(this,t))))}batch(){return II(this._delegate),new tE(new qS(this._delegate,(e=>VS(this._delegate,e))))}loadBundle(e){return function(e,t){const n=II(e=oI(e,_I)),r=new xI;return Z_(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return CI(this._delegate,e).then((e=>e?new cE(this,e):null))}}class ZS extends SS{constructor(e){super(),this.firestore=e}convertBytes(e){return new XS(new jI(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return rE.forKey(t,this.firestore,null)}}class eE{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new ZS(e)}get(e){const t=fE(e);return this._delegate.get(t).then((e=>new oE(this._firestore,new NS(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const r=fE(e);return n?(KS("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),s=3;s<r;s++)i[s-3]=arguments[s];const a=fE(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,n,...i),this}delete(e){const t=fE(e);return this._delegate.delete(t),this}}class tE{constructor(e){this._delegate=e}set(e,t,n){const r=fE(e);return n?(KS("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),s=3;s<r;s++)i[s-3]=arguments[s];const a=fE(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,n,...i),this}delete(e){const t=fE(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class nE{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new CS(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new lE(this._firestore,n),null!==t&&void 0!==t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=nE.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new nE(e,new ZS(e),t),r.set(t,i)),i}}nE.INSTANCES=new WeakMap;class rE{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new ZS(e)}static forPath(e,t,n){if(e.length%2!==0)throw new ff("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(e.canonicalString()," has ").concat(e.length));return new rE(t,new fI(t._delegate,n,new Rf(e)))}static forKey(e,t,n){return new rE(t,new fI(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new dE(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new dE(this.firestore,mI(this._delegate,e))}catch(BE){throw iE(BE,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=rn(e))instanceof fI&&vI(this._delegate,e)}set(e,t){t=KS("DocumentReference.set",t);try{return t?LS(this._delegate,e,t):LS(this._delegate,e)}catch(BE){throw iE(BE,"setDoc()","DocumentReference.set()")}}update(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?MS(this._delegate,e):MS(this._delegate,e,t,...r)}catch(BE){throw iE(BE,"updateDoc()","DocumentReference.update()")}}delete(){return VS(oI((e=this._delegate).firestore,_I),[new mv(e._key,nv.none())]);var e}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=sE(t),i=aE(t,(e=>new oE(this.firestore,new NS(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return FS(this._delegate,r,i)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?RS(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=oI(e,fI);const t=oI(e.firestore,_I);return J_(II(t),e._key,{source:"server"}).then((n=>BS(t,e,n)))}(this._delegate):function(e){e=oI(e,fI);const t=oI(e.firestore,_I);return J_(II(t),e._key).then((n=>BS(t,e,n)))}(this._delegate),t.then((e=>new oE(this.firestore,new NS(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new rE(this.firestore,e?this._delegate.withConverter(nE.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function iE(e,t,n){return e.message=e.message.replace(t,n),e}function sE(e){for(const t of e)if("object"===typeof t&&!YS(t))return t;return{}}function aE(e,t){var n,r;let i;return i=YS(e[0])?e[0]:YS(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class oE{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new rE(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return PS(this._delegate,e._delegate)}}class lE extends oE{data(e){const t=this._delegate.data(e);return this._delegate._converter||void 0!==t||cf(),t}}class cE{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new ZS(e)}where(e,t,n){try{return new cE(this.firestore,fS(this._delegate,function(e,t,n){const r=t,i=cS("where",e);return pS._create(i,r,n)}(e,t,n)))}catch(BE){throw iE(BE,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new cE(this.firestore,fS(this._delegate,function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=cS("orderBy",e);return gS._create(n,t)}(e,t)))}catch(BE){throw iE(BE,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new cE(this.firestore,fS(this._delegate,(lI("limit",t=e),vS._create("limit",t,"F"))))}catch(t){throw iE(t,"limit()","Query.limit()")}var t}limitToLast(e){try{return new cE(this.firestore,fS(this._delegate,(lI("limitToLast",t=e),vS._create("limitToLast",t,"L"))))}catch(t){throw iE(t,"limitToLast()","Query.limitToLast()")}var t}startAt(){try{return new cE(this.firestore,fS(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return yS._create("startAt",t,!0)}(...arguments)))}catch(BE){throw iE(BE,"startAt()","Query.startAt()")}}startAfter(){try{return new cE(this.firestore,fS(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return yS._create("startAfter",t,!1)}(...arguments)))}catch(BE){throw iE(BE,"startAfter()","Query.startAfter()")}}endBefore(){try{return new cE(this.firestore,fS(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return wS._create("endBefore",t,!1)}(...arguments)))}catch(BE){throw iE(BE,"endBefore()","Query.endBefore()")}}endAt(){try{return new cE(this.firestore,fS(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return wS._create("endAt",t,!0)}(...arguments)))}catch(BE){throw iE(BE,"endAt()","Query.endAt()")}}isEqual(e){return yI(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?OS(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=oI(e,dI);const t=oI(e.firestore,_I),n=II(t),r=new DS(t);return $_(n,e._query,{source:"server"}).then((n=>new AS(t,r,e,n)))}(this._delegate):function(e){e=oI(e,dI);const t=oI(e.firestore,_I),n=II(t),r=new DS(t);return uS(e._query),$_(n,e._query).then((n=>new AS(t,r,e,n)))}(this._delegate),t.then((e=>new hE(this.firestore,new AS(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=sE(t),i=aE(t,(e=>new hE(this.firestore,new AS(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return FS(this._delegate,r,i)}withConverter(e){return new cE(this.firestore,e?this._delegate.withConverter(nE.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class uE{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new lE(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class hE{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new cE(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new lE(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new uE(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new lE(this._firestore,n))}))}isEqual(e){return PS(this._delegate,e._delegate)}}class dE extends cE{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new rE(this.firestore,e):null}doc(e){try{return new rE(this.firestore,void 0===e?gI(this._delegate):gI(this._delegate,e))}catch(BE){throw iE(BE,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=oI(e.firestore,_I),r=gI(e),i=ES(e.converter,t);return VS(n,[zI(BI(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,nv.exists(!1))]).then((()=>r))}(this._delegate,e).then((e=>new rE(this.firestore,e)))}isEqual(e){return vI(this._delegate,e._delegate)}withConverter(e){return new dE(this.firestore,e?this._delegate.withConverter(nE.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function fE(e){return oI(e,fI)}class pE{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._delegate=new PI(...t)}static documentId(){return new pE(Df.keyField().canonicalString())}isEqual(e){return(e=rn(e))instanceof PI&&this._delegate._internalPath.isEqual(e._internalPath)}}class mE{constructor(e){this._delegate=e}static serverTimestamp(){const e=new GI("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new mE(e)}static delete(){const e=new qI("deleteField");return e._methodName="FieldValue.delete",new mE(e)}static arrayUnion(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new KI("arrayUnion",t)}(...arguments);return e._methodName="FieldValue.arrayUnion",new mE(e)}static arrayRemove(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new HI("arrayRemove",t)}(...arguments);return e._methodName="FieldValue.arrayRemove",new mE(e)}static increment(e){const t=new QI("increment",e);return t._methodName="FieldValue.increment",new mE(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const gE={Firestore:$S,GeoPoint:RI,Timestamp:Nf,Blob:XS,Transaction:eE,WriteBatch:tE,DocumentReference:rE,DocumentSnapshot:oE,Query:cE,QueryDocumentSnapshot:lE,QuerySnapshot:hE,CollectionReference:dE,FieldPath:pE,FieldValue:mE,setLogLevel:function(e){var t;t=e,nf.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new sn("firestore-compat",(e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},gE)))}(e,((e,t)=>new $S(e,t,new JS))),e.registerVersion("@firebase/firestore-compat","0.3.29")}(Sr);Sr.initializeApp({apiKey:"AIzaSyCxKkY-WQvyEdJ41w32DTGisclLLWkbXp8",authDomain:"bank-system-3c6d1.firebaseapp.com",projectId:"bank-system-3c6d1"});const vE=Sr.auth();Sr.firestore();const yE=function(){const[e,t]=(0,r.useState)(""),[n,i]=(0,r.useState)("");return(0,Ae.jsx)("div",{className:"login-page",children:(0,Ae.jsxs)("div",{className:"content-login-page",children:[(0,Ae.jsxs)("div",{className:"right-login-page",children:[(0,Ae.jsxs)("div",{className:"top-login-page",children:[(0,Ae.jsx)("img",{src:Fe}),(0,Ae.jsx)("h1",{children:"Welcome Back"}),(0,Ae.jsxs)("div",{className:"input-login-page",children:[(0,Ae.jsx)("h1",{children:"Email Address"}),(0,Ae.jsx)("input",{type:"email",value:e,onChange:e=>t(e.target.value)})]}),(0,Ae.jsxs)("div",{className:"inputtwo-login-page",children:[(0,Ae.jsx)("h1",{children:"Password"}),(0,Ae.jsx)("input",{type:"password",value:n,onChange:e=>i(e.target.value)}),(0,Ae.jsx)("h2",{children:"Forget your password?"})]})]}),(0,Ae.jsx)(ke,{to:"/dashboard",children:(0,Ae.jsx)(ut,{text:"Login",onclick:()=>{vE.signInWithEmailAndPassword(e,n).then((e=>{console.log("Logged in successfully")})).catch((e=>{console.error("Error logging in:",e.message)}))}})}),(0,Ae.jsx)("div",{className:"line-login-page"}),(0,Ae.jsxs)("h1",{children:["Don't have an account? ",(0,Ae.jsx)(ke,{to:"/sign-up",className:"sign-link",children:"Sign up"})]})]}),(0,Ae.jsx)("div",{className:"left-login-page",style:{backgroundImage:"url(".concat(Ke,")")}})]})})};const wE=function(e){let{Title:t="Notification Title",Content:n="It is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout. The point of using Lorem Ipsum is that it has a more-or-less normal distribution of letters, as opposed to using 'Content here, content here', making it look like readable English. Many desktop publishing packages and web page editors now use Lorem Ipsum as their default model text, and a search for 'lorem ipsum' will uncover many web sites still in their infancy. Various versions have evolved over the years, sometimes by accident, sometimes on purpose injected humour and the like.It is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout. The point of using Lorem Ipsum is that it has a more-or-less normal distribution of letters, as opposed to using 'Content here, content here', making it look like readable English. Many desktop publishing packages and web page editors now use Lorem Ipsum as their default model text, and a search for 'lorem ipsum' will uncover many web sites still in their infancy. Various versions have evolved over the years, sometimes by accident, sometimes on purpose injected humour and the like.",Date:r="2020-0-0"}=e;return(0,Ae.jsxs)("div",{className:"notification",children:[(0,Ae.jsx)(it,{}),(0,Ae.jsx)(at,{buttonText:"Go Back Notifications",page:"Notification Info",link:"/notifications"}),(0,Ae.jsxs)("div",{className:"content",children:[(0,Ae.jsx)("h1",{children:t}),(0,Ae.jsx)("p",{children:n}),(0,Ae.jsxs)("h2",{children:["Date: ",r]})]})]})};const bE=function(e){let{head1:t="Notification",head2:n="2020-0-0"}=e;return(0,Ae.jsxs)(ke,{to:"/notification",className:"notifi",children:[(0,Ae.jsx)("h1",{children:t}),(0,Ae.jsx)("h2",{children:n})]})};const xE=function(){return(0,Ae.jsxs)("div",{className:"notifications",children:[(0,Ae.jsx)(it,{}),(0,Ae.jsx)(at,{buttonText:"Go back Dashboard",page:"Notifications"}),(0,Ae.jsxs)("div",{className:"content",children:[(0,Ae.jsx)(bE,{head1:"Password changes",head2:"2020-1-1"}),(0,Ae.jsx)(bE,{head1:"Email is confirmed",head2:"2019-11-22"})]})]})};const _E=function(){const[e,t]=(0,r.useState)("option1");return(0,Ae.jsxs)("div",{className:"pay",children:[(0,Ae.jsx)(at,{buttonText:"Go back Transactions",page:"Pay",link:"/transactions"}),(0,Ae.jsxs)("div",{className:"content",children:[(0,Ae.jsxs)("div",{className:"right",children:[(0,Ae.jsx)("h1",{children:"To"}),(0,Ae.jsx)("input",{type:"email",placeholder:"Enter Email"}),(0,Ae.jsx)("h1",{children:"Amount"}),(0,Ae.jsx)("input",{type:"number",min:0,maxLength:6}),(0,Ae.jsx)("h1",{children:"Currency"}),(0,Ae.jsxs)("select",{value:e,onChange:e=>{t(e.target.value)},children:[(0,Ae.jsx)("option",{value:"option1",children:"USD"}),(0,Ae.jsx)("option",{value:"option2",children:"EUR"}),(0,Ae.jsx)("option",{value:"option3",children:"EGP"})]})]}),(0,Ae.jsxs)("div",{className:"left",children:[(0,Ae.jsx)("h1",{children:"Description"}),(0,Ae.jsx)("textarea",{className:"message-input",rows:10,maxLength:1500,onChange:e=>{console.log(e.target.value)}}),(0,Ae.jsxs)("div",{className:"row-pay",children:[(0,Ae.jsx)(ut,{text:"Confirm"}),(0,Ae.jsx)(ut,{text:"Cancel"})]})]})]})]})};const IE=function(e){let{Name:t="Mohammed Abdullah",Bio:n="Software Engineer",Address:r="Giza,Egypt",Image:i={Img:lt}}=e;return(0,Ae.jsxs)("div",{className:"info-item",children:[(0,Ae.jsxs)("div",{className:"right-info-item",children:[(0,Ae.jsx)(ct,{Image_Src:lt}),(0,Ae.jsxs)("div",{className:"info-profile",children:[(0,Ae.jsx)("h1",{children:t}),(0,Ae.jsx)("h2",{children:n}),(0,Ae.jsx)("h3",{children:r})]})]}),(0,Ae.jsx)(ke,{to:"/edit-profile",children:(0,Ae.jsx)(ut,{text:"Edit"})})]})};const SE=function(e){let{FirstName:t="Mohammed",LastName:n="Abdullah",Email:r="mohammed01112876210mo@gmail.com",Phone:i="+201112876210",Bio:s="Software Engineer"}=e;return(0,Ae.jsxs)("div",{className:"personal-info",children:[(0,Ae.jsx)("h1",{children:"Personal Information"}),(0,Ae.jsxs)("div",{className:"content-personal-info",children:[(0,Ae.jsxs)("div",{className:"top-personal-info",children:[(0,Ae.jsxs)("div",{className:"first",children:[(0,Ae.jsx)("h1",{children:"First Name"}),(0,Ae.jsx)("h2",{children:t})]}),(0,Ae.jsxs)("div",{className:"second",children:[(0,Ae.jsx)("h1",{children:"Last Name"}),(0,Ae.jsx)("h2",{children:n})]})]}),(0,Ae.jsxs)("div",{className:"mid-personal-info",children:[(0,Ae.jsxs)("div",{className:"first",children:[(0,Ae.jsx)("h1",{children:"Email"}),(0,Ae.jsx)("h2",{children:r})]}),(0,Ae.jsxs)("div",{className:"second",children:[(0,Ae.jsx)("h1",{children:"Phone"}),(0,Ae.jsx)("h2",{children:i})]})]}),(0,Ae.jsxs)("div",{className:"end-personal-info",children:[(0,Ae.jsx)("h1",{children:"Bio"}),(0,Ae.jsx)("h2",{children:s})]})]})]})};const EE=function(e){let{Country:t="Egypt",City:n="Giza",Postal:r="00000",Tax:i="XXXXXXXXXXXXX"}=e;return(0,Ae.jsxs)("div",{className:"address",children:[(0,Ae.jsx)("h1",{children:"Address"}),(0,Ae.jsxs)("div",{className:"content-address",children:[(0,Ae.jsxs)("div",{className:"top-address",children:[(0,Ae.jsxs)("div",{className:"first",children:[(0,Ae.jsx)("h1",{children:"Country"}),(0,Ae.jsx)("h2",{children:t})]}),(0,Ae.jsxs)("div",{className:"second",children:[(0,Ae.jsx)("h1",{children:"City"}),(0,Ae.jsx)("h2",{children:n})]})]}),(0,Ae.jsxs)("div",{className:"mid-address",children:[(0,Ae.jsxs)("div",{className:"first",children:[(0,Ae.jsx)("h1",{children:"Postal Code"}),(0,Ae.jsx)("h2",{children:r})]}),(0,Ae.jsxs)("div",{className:"second",children:[(0,Ae.jsx)("h1",{children:"Tax ID"}),(0,Ae.jsx)("h2",{children:i})]})]})]})]})};const kE=n.p+"static/media/Card.eab65da614f42db22730b1ad3fa48f50.svg";const TE=function(e){let{CardID:t="XXXXXXXXXXXXXXXXXXXXXXXXXXXX",Currency:n="USD",Status:r="Active"}=e;return(0,Ae.jsxs)("div",{className:"change-card",children:[(0,Ae.jsx)("img",{src:kE}),(0,Ae.jsxs)("div",{className:"text-head-change-card",children:[(0,Ae.jsx)("h1",{children:"Card ID:"}),(0,Ae.jsx)("h2",{children:t})]}),(0,Ae.jsxs)("div",{className:"row-change-card",children:[(0,Ae.jsxs)("div",{className:"right-row-change-card",children:[(0,Ae.jsx)("h1",{children:"Currency:"}),(0,Ae.jsx)("h2",{children:n})]}),(0,Ae.jsxs)("div",{className:"left-row-change-card",children:[(0,Ae.jsx)("h1",{children:"Status:"}),(0,Ae.jsx)("h2",{children:r})]})]}),(0,Ae.jsx)(ke,{to:"/add-card",children:(0,Ae.jsx)(ut,{text:"Add and Change Card"})})]})};const NE=function(){return(0,Ae.jsxs)("div",{className:"balance",children:[(0,Ae.jsx)("h1",{children:"Balance"}),(0,Ae.jsx)("h2",{children:"$2000.00"}),(0,Ae.jsx)(ke,{to:"/withdraw",children:(0,Ae.jsx)(ut,{text:"Withdraw"})})]})};const CE=function(){return(0,Ae.jsxs)("div",{className:"latest-trans",children:[(0,Ae.jsx)("h1",{children:"Latest Transactions"}),(0,Ae.jsxs)("table",{children:[(0,Ae.jsx)("thead",{children:(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("th",{children:"Date"}),(0,Ae.jsx)("th",{children:"Amount"}),(0,Ae.jsx)("th",{children:"Card ID"}),(0,Ae.jsx)("th",{children:"Type"})]})}),(0,Ae.jsx)(ke,{to:"/transaction"}),(0,Ae.jsxs)("tbody",{children:[(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"td",to:"/transaction",children:"2020-1-1"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"td",to:"/transaction",children:"$20.0"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"td",to:"/transaction",children:"XXXX"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"td",to:"/transaction",children:"Withdraw"})})]}),(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"td",to:"/transaction",children:"2020-1-1"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"td",to:"/transaction",children:"$20.0"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"td",to:"/transaction",children:"XXXX"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"td",to:"/transaction",children:"Withdraw"})})]}),(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"td",to:"/transaction",children:"2020-1-1"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"td",to:"/transaction",children:"$20.0"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"td",to:"/transaction",children:"XXXX"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"td",to:"/transaction",children:"Withdraw"})})]}),(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"td",to:"/transaction",children:"2020-1-1"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"td",to:"/transaction",children:"$20.0"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"td",to:"/transaction",children:"XXXX"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"td",to:"/transaction",children:"Withdraw"})})]}),(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"td",to:"/transaction",children:"2020-1-1"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"td",to:"/transaction",children:"$20.0"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"td",to:"/transaction",children:"XXXX"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"td",to:"/transaction",children:"Withdraw"})})]}),(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"td",to:"/transaction",children:"2020-1-1"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"td",to:"/transaction",children:"$20.0"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"td",to:"/transaction",children:"XXXX"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"td",to:"/transaction",children:"Withdraw"})})]})]})]})]})};const AE=function(){return(0,Ae.jsxs)("div",{className:"payment",children:[(0,Ae.jsx)(it,{}),(0,Ae.jsxs)("div",{className:"content-payment-new",children:[(0,Ae.jsx)("div",{className:"right-payment-new",children:(0,Ae.jsx)(TE,{CardID:"XXXXXXXXXXXXXXXXXXXXXXXXXXXX",Currency:"USD",Status:"Active"})}),(0,Ae.jsxs)("div",{className:"left-payment-new",children:[(0,Ae.jsx)(NE,{}),(0,Ae.jsx)(CE,{})]})]})]})};const jE=function(){return(0,Ae.jsxs)("div",{className:"my-profile",children:[(0,Ae.jsx)(it,{}),(0,Ae.jsx)(at,{buttonText:"Go back Dashboard",page:"My Profile"}),(0,Ae.jsxs)("div",{className:"content-profile",children:[(0,Ae.jsx)(IE,{Name:"Mohammed Abdullah",Bio:"Software Engineer",Address:"Giza, Egypt",Image:nt}),(0,Ae.jsx)(SE,{FirstName:"Mohammed",LastName:"Abdullah",Email:"mohammed01112876210mo@gmail.com",Phone:"+201112876210",Bio:"Software Engineer"}),(0,Ae.jsx)(EE,{Country:"Egypt",City:"Giza",Postal:"00000",Tax:"XXXXXXXXXXXXX"})]})]})};const PE=function(){const[e,t]=(0,r.useState)("option1");return(0,Ae.jsxs)("div",{className:"settings",children:[(0,Ae.jsx)(it,{}),(0,Ae.jsx)(at,{buttonText:"Go back Dashboard",page:"Settings"}),(0,Ae.jsxs)("div",{className:"content",children:[(0,Ae.jsxs)("div",{className:"right-settings",children:[(0,Ae.jsxs)("div",{className:"top",children:[(0,Ae.jsx)("h1",{children:"Change Password"}),(0,Ae.jsx)("input",{type:"password",placeholder:"Password"}),(0,Ae.jsx)("input",{type:"password",placeholder:"New Password"}),(0,Ae.jsx)("input",{type:"password",placeholder:"Confirm Password"}),(0,Ae.jsxs)("div",{className:"row-settings",children:[(0,Ae.jsx)(ut,{text:"Save"}),(0,Ae.jsx)(ut,{text:"Forget Password"})]})]}),(0,Ae.jsxs)("div",{className:"down-settings",children:[(0,Ae.jsx)("h1",{children:"Phone"}),(0,Ae.jsx)("input",{type:"tel",placeholder:"Enter Phone"}),(0,Ae.jsx)(ut,{text:"Confirm"})]})]}),(0,Ae.jsxs)("div",{className:"left-settings",children:[(0,Ae.jsx)("h1",{children:"Notifications"}),(0,Ae.jsxs)("div",{class:"form-check form-switch",id:"row",children:[(0,Ae.jsx)("label",{class:"form-check-label",for:"flexSwitchCheckDefault",children:"News and updates"}),(0,Ae.jsx)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"flexSwitchCheckDefault"})]}),(0,Ae.jsx)("h1",{id:"lang",children:"Languages"}),(0,Ae.jsxs)("select",{value:e,onChange:e=>{t(e.target.value)},className:"lang",children:[(0,Ae.jsx)("option",{value:"option1",children:"English"}),(0,Ae.jsx)("option",{value:"option2",children:"Arabic"})]}),(0,Ae.jsx)("h1",{children:"Account"}),(0,Ae.jsx)(ut,{text:"Close Account"})]})]})]})};const DE=function(){const[e,t]=(0,r.useState)(""),[n,i]=(0,r.useState)(""),[s,a]=(0,r.useState)(""),[o,l]=(0,r.useState)(""),[c,u]=(0,r.useState)(""),[h,d]=(0,r.useState)(""),[f,p]=(0,r.useState)(""),[m,g]=(0,r.useState)("");return(0,Ae.jsx)("div",{className:"sign-page",children:(0,Ae.jsxs)("div",{className:"cont-sign-page",children:[(0,Ae.jsxs)("div",{className:"right-sign-page",children:[(0,Ae.jsxs)("div",{className:"top-sign-page",children:[(0,Ae.jsx)("img",{src:Fe,alt:"Logo"}),(0,Ae.jsx)("h1",{children:"Welcome to Secure bank"}),(0,Ae.jsx)("h2",{children:"Register your account"})]}),(0,Ae.jsxs)("div",{className:"mid-sign-page",children:[(0,Ae.jsxs)("div",{className:"right-sign-page",children:[(0,Ae.jsx)("h1",{children:"First Name"}),(0,Ae.jsx)("input",{type:"text",onChange:e=>d(e.target.value)})]}),(0,Ae.jsxs)("div",{className:"left-sign-page",children:[(0,Ae.jsx)("h1",{children:"Last Name"}),(0,Ae.jsx)("input",{type:"text",onChange:e=>p(e.target.value)})]})]}),(0,Ae.jsxs)("div",{className:"input-sign-page",children:[(0,Ae.jsx)("h1",{children:"Email"}),(0,Ae.jsx)("input",{type:"email",value:e,onChange:e=>t(e.target.value)})]}),(0,Ae.jsxs)("div",{className:"inputtwo-sign-page",children:[(0,Ae.jsx)("h1",{children:"Password"}),(0,Ae.jsx)("input",{type:"password",value:n,onChange:e=>i(e.target.value)})]})]}),(0,Ae.jsxs)("div",{className:"left-sign-page",children:[(0,Ae.jsxs)("div",{className:"top-left-sign-page",children:[(0,Ae.jsxs)("div",{className:"first-sign-page",children:[(0,Ae.jsx)("h1",{children:"Bio"}),(0,Ae.jsx)("input",{type:"text",onChange:e=>a(e.target.value)})]}),(0,Ae.jsxs)("div",{className:"second-sign-page",children:[(0,Ae.jsxs)("div",{className:"secondf-sign-page",children:[(0,Ae.jsx)("h1",{children:"Country"}),(0,Ae.jsx)("input",{type:"text",onChange:e=>l(e.target.value)})]}),(0,Ae.jsxs)("div",{className:"seconds-sign-page",children:[(0,Ae.jsx)("h1",{children:"City"}),(0,Ae.jsx)("input",{type:"text",onChange:e=>u(e.target.value)})]})]}),(0,Ae.jsx)("div",{className:"third-sign-page",children:(0,Ae.jsx)("h1",{children:"Postal Code"})}),(0,Ae.jsxs)("div",{className:"fourth-sign-page",children:[(0,Ae.jsx)("h1",{children:"Tax ID"}),(0,Ae.jsx)("input",{type:"text",onChange:e=>g(e.target.value)})]})]}),(0,Ae.jsx)(ke,{to:"/add-card-sign",children:(0,Ae.jsx)(ut,{text:"Create Account",onclick:async()=>{fetch("/api/register/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:n,bio:s,country:o,city:c,firstName:h,lastName:f,taxID:m})}).then((e=>{if(e.ok)return e.json();throw new Error("Registration failed")})).then((e=>{console.log(e)})).catch((e=>{console.error("Error:",e)}))}})})]})]})})};const RE=function(e){let{Date:t="2020-0-0",From:n="Sender",Type:r="Pay",To:i="Reciever",Status:s="Done",ContentBill:a="It is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout. The point of using Lorem Ipsum is that it has a more-or-less normal distribution of letters, as opposed to using 'Content here, content here', making it look like readable English. Many desktop publishing packages and web page editors now use Lorem Ipsum as their default model text, and a search for 'lorem ipsum' will uncover many web sites still in their infancy. Various versions have evolved over the years, sometimes by accident, sometimes on purpose (injected humour and the like).",Price:o=200}=e;return(0,Ae.jsxs)("div",{className:"transaction",children:[(0,Ae.jsx)(it,{}),(0,Ae.jsx)(at,{buttonText:"Go back Transactions",page:"Transaction Info",link:"/transactions"}),(0,Ae.jsxs)("div",{className:"content",children:[(0,Ae.jsxs)("div",{className:"top",children:[(0,Ae.jsxs)("div",{className:"first",children:[(0,Ae.jsxs)("h1",{children:["Date: ",t]}),(0,Ae.jsxs)("h1",{children:["From: ",n]})]}),(0,Ae.jsxs)("div",{className:"middel",children:[(0,Ae.jsxs)("h1",{children:["Type: ",r]}),(0,Ae.jsxs)("h1",{children:["To: ",i]})]}),(0,Ae.jsxs)("div",{className:"end",children:[(0,Ae.jsx)("h1",{children:"Status"}),(0,Ae.jsxs)("button",{children:[" ",s," "]})]})]}),(0,Ae.jsxs)("div",{className:"middel",children:[(0,Ae.jsx)("p",{children:a}),(0,Ae.jsxs)("div",{className:"price",children:[(0,Ae.jsx)("h1",{className:"h1",children:"Total Price"}),(0,Ae.jsxs)("h1",{className:"h2",children:["$",o]})]})]})]})]})};const OE=function(){return(0,Ae.jsxs)("div",{className:"transactions",children:[(0,Ae.jsx)(it,{}),(0,Ae.jsxs)("div",{className:"content-transactions",children:[(0,Ae.jsxs)("div",{className:"top-transactions",children:[(0,Ae.jsx)("h1",{children:"Transactions"}),(0,Ae.jsxs)("div",{className:"row-transactions",children:[(0,Ae.jsx)(ke,{to:"/pay",children:(0,Ae.jsx)(ut,{text:"Pay"})}),(0,Ae.jsx)(ke,{to:"/withdraw",children:(0,Ae.jsx)(ut,{text:"Withdraw"})})]})]}),(0,Ae.jsxs)("div",{className:"status",children:[(0,Ae.jsxs)("select",{className:"status-transactions",children:[(0,Ae.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Status"}),(0,Ae.jsx)("option",{value:"option1",children:"Done"}),(0,Ae.jsx)("option",{value:"option2",children:"Fail"})]}),(0,Ae.jsx)("input",{type:"date",className:"date-transactions",placeholder:"Date"}),(0,Ae.jsx)("input",{type:"text",className:"from-transactions",placeholder:"From"}),(0,Ae.jsx)("input",{type:"text",className:"to-transactions",placeholder:"To"}),(0,Ae.jsxs)("select",{className:"type-transactions",children:[(0,Ae.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Type"}),(0,Ae.jsx)("option",{value:"option1",children:"Withdraw"}),(0,Ae.jsx)("option",{value:"option2",children:"Pay"})]})]}),(0,Ae.jsx)("div",{className:"table-transactions",children:(0,Ae.jsxs)("table",{children:[(0,Ae.jsx)("thead",{children:(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("th",{children:"Date"}),(0,Ae.jsx)("th",{children:"Description"}),(0,Ae.jsx)("th",{children:"Amount"}),(0,Ae.jsx)("th",{children:"From"}),(0,Ae.jsx)("th",{children:"To"}),(0,Ae.jsx)("th",{children:"Type"}),(0,Ae.jsx)("th",{children:"Status"})]})}),(0,Ae.jsxs)("tbody",{children:[(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"td",to:"/transaction",children:"2020-1-1"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"tdd",to:"/transaction",children:"Pay Outfits"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"tddd",to:"/transaction",children:"$20.0"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"tdddd",to:"/transaction",children:"Mohammed"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"tddddd",to:"/transaction",children:"Ebrahim"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"tdddddd",to:"/transaction",children:"Withdraw"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"tddddddd",to:"/transaction",children:"Done"})})]}),(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"td",to:"/transaction",children:"2020-1-1"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"tdd",to:"/transaction",children:"Pay Outfits"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"tddd",to:"/transaction",children:"$20.0"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"tdddd",to:"/transaction",children:"Mohammed"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"tddddd",to:"/transaction",children:"Ebrahim"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"tdddddd",to:"/transaction",children:"Withdraw"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"tddddddd",to:"/transaction",children:"Done"})})]}),(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"td",to:"/transaction",children:"2020-1-1"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"tdd",to:"/transaction",children:"Pay Outfits"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"tddd",to:"/transaction",children:"$20.0"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"tdddd",to:"/transaction",children:"Mohammed"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"tddddd",to:"/transaction",children:"Ebrahim"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"tdddddd",to:"/transaction",children:"Withdraw"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"tddddddd",to:"/transaction",children:"Done"})})]}),(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"td",to:"/transaction",children:"2020-1-1"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"tdd",to:"/transaction",children:"Pay Outfits"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"tddd",to:"/transaction",children:"$20.0"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"tdddd",to:"/transaction",children:"Mohammed"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"tddddd",to:"/transaction",children:"Ebrahim"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"tdddddd",to:"/transaction",children:"Withdraw"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"tddddddd",to:"/transaction",children:"Done"})})]}),(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"td",to:"/transaction",children:"2020-1-1"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"tdd",to:"/transaction",children:"Pay Outfits"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"tddd",to:"/transaction",children:"$20.0"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"tdddd",to:"/transaction",children:"Mohammed"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"tddddd",to:"/transaction",children:"Ebrahim"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"tdddddd",to:"/transaction",children:"Withdraw"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"tddddddd",to:"/transaction",children:"Done"})})]}),(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"td",to:"/transaction",children:"2020-1-1"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"tdd",to:"/transaction",children:"Pay Outfits"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"tddd",to:"/transaction",children:"$20.0"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"tdddd",to:"/transaction",children:"Mohammed"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"tddddd",to:"/transaction",children:"Ebrahim"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"tdddddd",to:"/transaction",children:"Withdraw"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"tddddddd",to:"/transaction",children:"Done"})})]}),(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"td",to:"/transaction",children:"2020-1-1"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"tdd",to:"/transaction",children:"Pay Outfits"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"tddd",to:"/transaction",children:"$20.0"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"tdddd",to:"/transaction",children:"Mohammed"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"tddddd",to:"/transaction",children:"Ebrahim"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"tdddddd",to:"/transaction",children:"Withdraw"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"tddddddd",to:"/transaction",children:"Done"})})]}),(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"td",to:"/transaction",children:"2020-1-1"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"tdd",to:"/transaction",children:"Pay Outfits"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"tddd",to:"/transaction",children:"$20.0"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"tdddd",to:"/transaction",children:"Mohammed"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"tddddd",to:"/transaction",children:"Ebrahim"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"tdddddd",to:"/transaction",children:"Withdraw"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)(ke,{className:"tddddddd",to:"/transaction",children:"Done"})})]})]})]})})]})]})};const LE=function(){const[e,t]=(0,r.useState)("option1"),n=e=>{t(e.target.value)};return(0,Ae.jsxs)("div",{className:"withdraw",children:[(0,Ae.jsx)(at,{buttonText:"Go back Dashboard",page:"Withdraw"}),(0,Ae.jsxs)("div",{className:"content",children:[(0,Ae.jsxs)("div",{className:"right",children:[(0,Ae.jsx)("h1",{children:"Credit Card"}),(0,Ae.jsxs)("select",{value:e,onChange:n,className:"credit",children:[(0,Ae.jsx)("option",{value:"option1",children:"XXXXXXXXXX1"}),(0,Ae.jsx)("option",{value:"option2",children:"XXXXXXXXXX2"}),(0,Ae.jsx)("option",{value:"option3",children:"XXXXXXXXXX3"})]}),(0,Ae.jsx)("h1",{children:"Amount"}),(0,Ae.jsx)("input",{type:"number",min:0,maxLength:6}),(0,Ae.jsx)("h1",{children:"Currency"}),(0,Ae.jsxs)("select",{value:e,onChange:n,children:[(0,Ae.jsx)("option",{value:"option1",children:"USD"}),(0,Ae.jsx)("option",{value:"option2",children:"EUR"}),(0,Ae.jsx)("option",{value:"option3",children:"EGP"})]})]}),(0,Ae.jsxs)("div",{className:"left",children:[(0,Ae.jsx)("h1",{children:"Description"}),(0,Ae.jsx)("textarea",{className:"message-input",rows:10,maxLength:1500,onChange:e=>{console.log(e.target.value)}}),(0,Ae.jsx)(ut,{text:"Confirm"})]})]})]})};function ME(){return(0,Ae.jsx)(Ie,{children:(0,Ae.jsxs)(ve,{children:[(0,Ae.jsx)(me,{path:"/",element:(0,Ae.jsx)(FE,{children:(0,Ae.jsx)(ze,{})})}),(0,Ae.jsx)(me,{path:"services",element:(0,Ae.jsx)(FE,{children:(0,Ae.jsx)(Ye,{})})}),(0,Ae.jsx)(me,{path:"about",element:(0,Ae.jsx)(FE,{children:(0,Ae.jsx)($e,{})})}),(0,Ae.jsx)(me,{path:"contact",element:(0,Ae.jsx)(FE,{children:(0,Ae.jsx)(Ze,{})})}),(0,Ae.jsx)(me,{path:"privacy",element:(0,Ae.jsx)(FE,{children:(0,Ae.jsx)(Je,{})})}),(0,Ae.jsx)(me,{path:"dashboard",element:(0,Ae.jsx)(UE,{children:(0,Ae.jsx)(pt,{})})}),(0,Ae.jsx)(me,{path:"add-card-sign",element:(0,Ae.jsx)(UE,{children:(0,Ae.jsx)(yt,{})})}),(0,Ae.jsx)(me,{path:"add-card",element:(0,Ae.jsx)(UE,{children:(0,Ae.jsx)(wt,{})})}),(0,Ae.jsx)(me,{path:"billing-received",element:(0,Ae.jsx)(UE,{children:(0,Ae.jsx)(xt,{})})}),(0,Ae.jsx)(me,{path:"billing",element:(0,Ae.jsx)(UE,{children:(0,Ae.jsx)(It,{})})}),(0,Ae.jsx)(me,{path:"bills",element:(0,Ae.jsx)(UE,{children:(0,Ae.jsx)(St,{})})}),(0,Ae.jsx)(me,{path:"edit-profile",element:(0,Ae.jsx)(UE,{children:(0,Ae.jsx)(kt,{})})}),(0,Ae.jsx)(me,{path:"login",element:(0,Ae.jsx)(UE,{children:(0,Ae.jsx)(yE,{})})}),(0,Ae.jsx)(me,{path:"notification",element:(0,Ae.jsx)(UE,{children:(0,Ae.jsx)(wE,{})})}),(0,Ae.jsx)(me,{path:"notifications",element:(0,Ae.jsx)(UE,{children:(0,Ae.jsx)(xE,{})})}),(0,Ae.jsx)(me,{path:"pay",element:(0,Ae.jsx)(UE,{children:(0,Ae.jsx)(_E,{})})}),(0,Ae.jsx)(me,{path:"payment",element:(0,Ae.jsx)(UE,{children:(0,Ae.jsx)(AE,{})})}),(0,Ae.jsx)(me,{path:"privacy-dashboard",element:(0,Ae.jsx)(UE,{children:(0,Ae.jsx)(ot,{})})}),(0,Ae.jsx)(me,{path:"profile",element:(0,Ae.jsx)(UE,{children:(0,Ae.jsx)(jE,{})})}),(0,Ae.jsx)(me,{path:"settings",element:(0,Ae.jsx)(UE,{children:(0,Ae.jsx)(PE,{})})}),(0,Ae.jsx)(me,{path:"sign-up",element:(0,Ae.jsx)(UE,{children:(0,Ae.jsx)(DE,{})})}),(0,Ae.jsx)(me,{path:"transaction",element:(0,Ae.jsx)(UE,{children:(0,Ae.jsx)(RE,{})})}),(0,Ae.jsx)(me,{path:"transactions",element:(0,Ae.jsx)(UE,{children:(0,Ae.jsx)(OE,{})})}),(0,Ae.jsx)(me,{path:"withdraw",element:(0,Ae.jsx)(UE,{children:(0,Ae.jsx)(LE,{})})}),(0,Ae.jsx)(me,{path:"*",element:(0,Ae.jsx)(et,{})})]})})}function FE(e){let{children:t}=e;return(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)(Ve,{}),(0,Ae.jsx)(VE,{children:t})]})}function UE(e){let{children:t}=e;return(0,Ae.jsx)(Ae.Fragment,{children:(0,Ae.jsx)(VE,{children:t})})}function VE(e){let{children:t}=e;return(0,Ae.jsx)("div",{children:t})}s.render((0,Ae.jsx)(ME,{}),document.getElementById("root")),Ce()})()})();
//# sourceMappingURL=main.13f6d78d.js.map